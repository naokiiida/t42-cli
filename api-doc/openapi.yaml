openapi: 3.0.3
info:
  title: 42 School API
  description: The 42 API provides programmatic access to read and write 42 School data. Authenticate users with OAuth 2.0
    and interact with all intranet data.
  version: 2.0.0
  contact:
    name: 42 Network
    url: https://api.intra.42.fr/apidoc
servers:
- url: https://api.intra.42.fr/v2
  description: 42 API v2 Production
security:
- OAuth2:
  - public
- BearerAuth: []
paths:
  /v2/accreditations:
    get:
      operationId: getAccreditations
      summary: List accreditations
      tags:
      - Accreditations
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Accreditation'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createAccreditation
      summary: Create an accreditation
      tags:
      - Accreditations
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccreditationCreate'
      responses:
        '201':
          description: Accreditation created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Accreditation'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/accreditations/{accreditation_id}/users:
    get:
      tags:
      - Users
      summary: List users for an accreditation
      description: Return all users with the given accreditation.
      operationId: getAccreditationUsers
      parameters:
      - name: accreditation_id
        in: path
        required: true
        description: The accreditation ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/accreditations/{id}:
    get:
      operationId: getAccreditation
      summary: Get an accreditation
      tags:
      - Accreditations
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Accreditation'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateAccreditation
      summary: Update an accreditation
      tags:
      - Accreditations
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccreditationCreate'
      responses:
        '200':
          description: Accreditation updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Accreditation'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceAccreditation
      summary: Replace an accreditation
      tags:
      - Accreditations
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccreditationCreate'
      responses:
        '200':
          description: Accreditation replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Accreditation'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteAccreditation
      summary: Delete an accreditation
      tags:
      - Accreditations
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Accreditation deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/achievements:
    get:
      operationId: getAchievements
      summary: List all achievements
      tags:
      - Achievements
      x-user-scope: true
      parameters:
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - id
          - name
          - internal_name
          - kind
          - tier
          - description
          - pedago
          - visible
          - nbr_of_success
          - parent_id
          - image
          - created_at
          - updated_at
          - slug
          - position
          - reward
          - title_id
        description: Sort field. Prefix with `-` for descending. Default `id`.
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by achievement ID (comma-separated for multiple).
      - name: filter[name]
        in: query
        schema:
          type: string
        description: Filter by name.
      - name: filter[kind]
        in: query
        schema:
          type: string
          enum:
          - project
          - social
          - scolarity
          - pedagogy
        description: Filter by kind.
      - name: filter[tier]
        in: query
        schema:
          type: string
          enum:
          - none
          - easy
          - medium
          - hard
          - challenge
        description: Filter by tier.
      - name: filter[visible]
        in: query
        schema:
          type: string
        description: Filter by visibility.
      - name: range[id]
        in: query
        schema:
          type: string
        description: Range filter on ID.
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: Range filter on created_at.
      responses:
        '200':
          description: A list of achievements.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
    post:
      operationId: createAchievement
      summary: Create an achievement (admin)
      tags:
      - Achievements
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AchievementCreate'
      responses:
        '201':
          description: The created achievement.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/achievements/{achievement_id}/achievements_users:
    get:
      operationId: getAchievementAchievementsUsers
      summary: List achievement-user associations for an achievement
      tags:
      - AchievementsUsers
      parameters:
      - name: achievement_id
        in: path
        required: true
        schema:
          type: integer
        description: Achievement ID.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      responses:
        '200':
          description: A list of achievement-user associations.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AchievementUser'
        '401':
          description: Unauthorized.
  /v2/achievements/{achievement_id}/users:
    get:
      tags:
      - Users
      summary: List users for an achievement
      description: Return all users who have the given achievement.
      operationId: getAchievementUsers
      parameters:
      - name: achievement_id
        in: path
        required: true
        description: The achievement ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/achievements/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Achievement ID.
    get:
      operationId: getAchievementById
      summary: Show an achievement (admin)
      tags:
      - Achievements
      x-admin-only: true
      responses:
        '200':
          description: The achievement.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateAchievement
      summary: Update an achievement (admin)
      tags:
      - Achievements
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AchievementUpdate'
      responses:
        '200':
          description: The updated achievement.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceAchievement
      summary: Replace an achievement (admin)
      tags:
      - Achievements
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AchievementUpdate'
      responses:
        '200':
          description: The replaced achievement.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteAchievement
      summary: Delete an achievement
      tags:
      - Achievements
      responses:
        '204':
          description: Achievement deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/achievements_users:
    get:
      operationId: getAchievementsUsers
      summary: List all achievement-user associations
      tags:
      - AchievementsUsers
      parameters:
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - id
          - user_id
          - achievement_id
          - nbr_of_success
          - created_at
          - updated_at
          - rewarded
        description: Sort field. Default `-id`.
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by ID.
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID.
      - name: filter[achievement_id]
        in: query
        schema:
          type: string
        description: Filter by achievement ID.
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: Range filter on created_at.
      responses:
        '200':
          description: A list of achievement-user associations.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AchievementUser'
        '401':
          description: Unauthorized.
    post:
      operationId: createAchievementUser
      summary: Create an achievement-user association (admin)
      tags:
      - AchievementsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AchievementUserCreate'
      responses:
        '201':
          description: The created achievement-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/achievements_users/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: AchievementUser ID.
    get:
      operationId: getAchievementUserById
      summary: Show an achievement-user association (admin)
      tags:
      - AchievementsUsers
      x-admin-only: true
      responses:
        '200':
          description: The achievement-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateAchievementUser
      summary: Update an achievement-user association (admin)
      tags:
      - AchievementsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AchievementUserUpdate'
      responses:
        '200':
          description: The updated achievement-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceAchievementUser
      summary: Replace an achievement-user association (admin)
      tags:
      - AchievementsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AchievementUserUpdate'
      responses:
        '200':
          description: The replaced achievement-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteAchievementUser
      summary: Delete an achievement-user association (admin)
      tags:
      - AchievementsUsers
      x-admin-only: true
      responses:
        '204':
          description: AchievementUser deleted.
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/alumnized_users:
    get:
      operationId: getAlumnizedUsers
      summary: List alumnized users
      tags:
      - Users
      responses:
        '200':
          description: A list of alumnized users.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserRef'
        '401':
          description: Unauthorized.
  /v2/amendments:
    get:
      operationId: getAmendments
      summary: List all amendments
      tags:
      - Amendments
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of amendments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Amendment'
        '401':
          description: Unauthorized
    post:
      operationId: createAmendment
      summary: Create an amendment (admin)
      tags:
      - Amendments
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AmendmentCreate'
      responses:
        '201':
          description: Amendment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Amendment'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/amendments/{id}:
    get:
      operationId: getAmendmentById
      summary: Show an amendment (admin)
      tags:
      - Amendments
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single amendment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Amendment'
        '404':
          description: Not Found
    delete:
      operationId: deleteAmendment
      summary: Delete an amendment (admin)
      tags:
      - Amendments
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Amendment deleted
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/anti_grav_units:
    get:
      operationId: getAntiGravUnits
      summary: List all anti-grav units (admin)
      tags:
      - AntiGravUnits
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of anti-grav units
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AntiGravUnit'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createAntiGravUnit
      summary: Create an anti-gravity unit
      tags:
      - AntiGravUnits
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AntiGravUnitCreate'
      responses:
        '201':
          description: Anti-gravity unit created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnit'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/anti_grav_units/{anti_grav_unit_id}/anti_grav_units_users:
    get:
      operationId: getAntiGravUnitAntiGravUnitsUsers
      summary: List user associations for an anti-gravity unit
      tags:
      - AntiGravUnitsUsers
      parameters:
      - name: anti_grav_unit_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AntiGravUnitUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/anti_grav_units/{id}:
    get:
      operationId: getAntiGravUnitById
      summary: Show an anti-grav unit (admin)
      tags:
      - AntiGravUnits
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single anti-grav unit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnit'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    patch:
      operationId: updateAntiGravUnit
      summary: Update an anti-gravity unit
      tags:
      - AntiGravUnits
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AntiGravUnitCreate'
      responses:
        '200':
          description: Anti-gravity unit updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnit'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceAntiGravUnit
      summary: Replace an anti-gravity unit
      tags:
      - AntiGravUnits
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AntiGravUnitCreate'
      responses:
        '200':
          description: Anti-gravity unit replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnit'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteAntiGravUnit
      summary: Delete an anti-gravity unit
      tags:
      - AntiGravUnits
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Anti-gravity unit deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/anti_grav_units_users:
    get:
      operationId: getAntiGravUnitsUsers
      summary: List all anti-grav unit user assignments (admin)
      tags:
      - AntiGravUnitsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of anti-grav unit user assignments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AntiGravUnitUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createAntiGravUnitUser
      summary: Create an anti-grav unit user assignment (admin)
      tags:
      - AntiGravUnitsUsers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AntiGravUnitUserCreate'
      responses:
        '201':
          description: Anti-grav unit user assignment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnitUser'
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/anti_grav_units_users/{id}:
    get:
      operationId: getAntiGravUnitUserById
      summary: Show an anti-grav unit user assignment (admin)
      tags:
      - AntiGravUnitsUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single anti-grav unit user assignment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnitUser'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    patch:
      operationId: updateAntiGravUnitUser
      summary: Update an anti-grav unit user assignment (admin)
      tags:
      - AntiGravUnitsUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AntiGravUnitUserCreate'
      responses:
        '200':
          description: Anti-grav unit user assignment updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnitUser'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replaceAntiGravUnitUser
      summary: Replace an anti-grav unit user assignment
      tags:
      - AntiGravUnitsUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AntiGravUnitUserCreate'
      responses:
        '200':
          description: Anti-grav unit user assignment replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AntiGravUnitUser'
        '404':
          description: Not Found
    delete:
      operationId: deleteAntiGravUnitsUser
      summary: Delete an anti-gravity unit user association
      tags:
      - AntiGravUnitsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Association deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/apps:
    get:
      operationId: getApps
      summary: List all apps
      tags:
      - Apps
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of apps
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/App'
        '401':
          description: Unauthorized
    post:
      operationId: createApp
      summary: Create an OAuth application
      tags:
      - Apps
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppCreate'
      responses:
        '201':
          description: App created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/App'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/apps/{id}:
    get:
      operationId: getAppById
      summary: Show an app
      tags:
      - Apps
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single app
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/App'
        '404':
          description: Not Found
    patch:
      operationId: updateApp
      summary: Update an OAuth application
      tags:
      - Apps
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppCreate'
      responses:
        '200':
          description: App updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/App'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceApp
      summary: Replace an OAuth application
      tags:
      - Apps
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppCreate'
      responses:
        '200':
          description: App replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/App'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteApp
      summary: Delete an OAuth application
      tags:
      - Apps
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: App deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/attachments:
    get:
      operationId: getAttachments
      summary: List all attachments
      tags:
      - Attachments
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
      - name: filter[attachable_id]
        in: query
        schema:
          type: string
      - name: filter[attachable_type]
        in: query
        schema:
          type: string
      - name: filter[kind]
        in: query
        schema:
          type: string
      - name: filter[language_id]
        in: query
        schema:
          type: string
      - name: filter[user_id]
        in: query
        schema:
          type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Attachment'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/attachments/{id}:
    get:
      operationId: getAttachment
      summary: Get an attachment
      tags:
      - Attachments
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Attachment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateAttachment
      summary: Update an attachment
      tags:
      - Attachments
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AttachmentUpdate'
      responses:
        '200':
          description: Attachment updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Attachment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceAttachment
      summary: Replace an attachment
      tags:
      - Attachments
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AttachmentUpdate'
      responses:
        '200':
          description: Attachment replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Attachment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteAttachment
      summary: Delete an attachment
      tags:
      - Attachments
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Attachment deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/balances:
    get:
      operationId: getBalances
      summary: List all balances (admin)
      tags:
      - Balances
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of balances
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Balance'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/balances/{id}:
    get:
      operationId: getBalanceById
      summary: Show a balance (admin)
      tags:
      - Balances
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single balance
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Balance'
        '404':
          description: Not Found
    patch:
      operationId: updateBalance
      summary: Update a balance (admin)
      tags:
      - Balances
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceUpdate'
      responses:
        '200':
          description: Balance updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Balance'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replaceBalance
      summary: Replace a balance (admin)
      tags:
      - Balances
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceUpdate'
      responses:
        '200':
          description: Balance replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Balance'
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/blocs:
    get:
      operationId: getBlocs
      summary: Return all blocs
      tags:
      - Blocs
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. One of id, cursus_id, campus_id, squad_size, created_at, updated_at, coalition_delay, repeat_deadline_delay.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[campus_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by campus ID(s).
      - name: filter[cursus_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by cursus ID(s).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Bloc'
        '401':
          description: Unauthorized
  /v2/blocs/{bloc_id}/coalitions:
    get:
      operationId: getBlocCoalitions
      summary: Return coalitions for a bloc
      tags:
      - Coalitions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: bloc_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Coalition'
        '401':
          description: Unauthorized
        '404':
          description: Bloc not found
  /v2/blocs/{bloc_id}/scores:
    get:
      operationId: getBlocScores
      summary: Return scores for a bloc (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: bloc_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '404':
          description: Bloc not found
  /v2/blocs/{bloc_id}/scores/{id}:
    get:
      operationId: getBlocScoreById
      summary: Return a specific score for a bloc (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The score ID.
      - name: bloc_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/blocs/{id}:
    get:
      operationId: getBlocById
      summary: Return a bloc
      tags:
      - Blocs
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The bloc ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Bloc'
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/campus:
    get:
      operationId: getCampuses
      summary: List all campuses
      tags:
      - Campus
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s), comma-separated
      - name: filter[name]
        in: query
        schema:
          type: string
        description: Filter by campus name
      - name: filter[country]
        in: query
        schema:
          type: string
        description: Filter by country
      - name: filter[active]
        in: query
        schema:
          type: string
        description: Filter by active status
      - name: filter[public]
        in: query
        schema:
          type: string
        description: Filter by public status
      - name: range[id]
        in: query
        schema:
          type: string
        description: 'Range filter for id (format: min,max)'
      - name: range[users_count]
        in: query
        schema:
          type: string
        description: 'Range filter for users_count (format: min,max)'
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
              description: Total number of items
            X-Page:
              schema:
                type: integer
              description: Current page number
            X-Per-Page:
              schema:
                type: integer
              description: Items per page
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Campus'
        '401':
          description: Unauthorized
    post:
      operationId: createCampus
      summary: Create a campus (admin)
      tags:
      - Campus
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                campus:
                  type: object
                  properties:
                    name:
                      type: string
                    time_zone:
                      type: string
                    language_id:
                      type: integer
                    country:
                      type: string
                    address:
                      type: string
                    zip:
                      type: string
                    city:
                      type: string
                    website:
                      type: string
                    facebook:
                      type: string
                    twitter:
                      type: string
                    active:
                      type: boolean
                    public:
                      type: boolean
                    email_extension:
                      type: string
                    default_hidden_phone:
                      type: boolean
                  required:
                  - name
      responses:
        '201':
          description: Campus created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campus'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/campus/{campus_id}/achievements:
    get:
      operationId: getCampusAchievements
      summary: List achievements for a campus
      tags:
      - Achievements
      x-user-scope: true
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: string
        description: Campus ID or slug.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by kind.
      responses:
        '200':
          description: A list of achievements for the campus.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
  /v2/campus/{campus_id}/anti_grav_units_users:
    get:
      operationId: getCampusAntiGravUnitsUsers
      summary: List anti-grav unit assignments for a campus (admin)
      tags:
      - AntiGravUnitsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of anti-grav unit user assignments for the campus
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AntiGravUnitUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/campus/{campus_id}/cursus/{cursus_id}/events:
    get:
      operationId: getCampusCursusEvents
      summary: List events for a campus and cursus
      tags:
      - Events
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: string
        description: Campus ID or slug.
      - name: cursus_id
        in: path
        required: true
        schema:
          type: string
        description: Cursus ID or slug.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by event kind.
      - name: filter[future]
        in: query
        schema:
          type: string
          enum:
          - 'true'
          - 'false'
        description: Filter for future events only.
      responses:
        '200':
          description: A list of events for the campus-cursus combination.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
  /v2/campus/{campus_id}/cursus/{cursus_id}/exams:
    parameters:
    - name: campus_id
      in: path
      required: true
      schema:
        type: integer
    - name: cursus_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getCampusCursusExams
      summary: List exams for a cursus at a campus
      tags:
      - Exams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of exams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Exam'
  /v2/campus/{campus_id}/events:
    get:
      operationId: getCampusEvents
      summary: List events for a campus
      tags:
      - Events
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: string
        description: Campus ID or slug.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by event kind.
      - name: filter[future]
        in: query
        schema:
          type: string
          enum:
          - 'true'
          - 'false'
        description: Filter for future events only.
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: Range filter on begin_at.
      responses:
        '200':
          description: A list of events for the campus.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
  /v2/campus/{campus_id}/exams:
    parameters:
    - name: campus_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getCampusExams
      summary: List exams for a campus
      tags:
      - Exams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of exams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Exam'
  /v2/campus/{campus_id}/experiences:
    get:
      operationId: getCampusExperiences
      summary: List experiences for a campus (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
        description: Campus ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Campus not found
  /v2/campus/{campus_id}/journals:
    get:
      operationId: getCampusJournals
      summary: List journals for a campus
      tags:
      - Journals
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: string
        description: Campus ID or slug.
      responses:
        '200':
          description: A list of journals for the campus.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Journal'
        '401':
          description: Unauthorized.
  /v2/campus/{campus_id}/locations:
    get:
      operationId: getCampusLocations
      summary: List locations for a campus
      tags:
      - Locations
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
        description: Campus ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[active]
        in: query
        schema:
          type: string
        description: Filter by active status
      - name: filter[host]
        in: query
        schema:
          type: string
        description: Filter by host name
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: 'Range filter for begin_at (format: start,end)'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '404':
          description: Campus not found
  /v2/campus/{campus_id}/locations/end_all:
    delete:
      operationId: endAllCampusLocations
      summary: End all active locations for a campus (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
        description: Campus ID
      responses:
        '204':
          description: All locations ended
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Campus not found
  /v2/campus/{campus_id}/notes:
    get:
      tags:
      - Notes
      summary: List notes for a campus
      description: Return all the notes of the given campus.
      operationId: getCampusNotes
      parameters:
      - name: campus_id
        in: path
        required: true
        description: The campus ID or slug
        schema:
          type: string
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Note'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/campus/{campus_id}/products:
    get:
      operationId: getCampusProducts
      summary: List products for a campus
      tags:
      - Products
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of campus products
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        '401':
          description: Unauthorized
    post:
      operationId: createCampusProduct
      summary: Create a product for a campus (admin)
      tags:
      - Products
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
      responses:
        '201':
          description: Product created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/campus/{campus_id}/products/{id}:
    get:
      operationId: getCampusProductById
      summary: Show a campus product (admin)
      tags:
      - Products
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single campus product
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '404':
          description: Not Found
    patch:
      operationId: updateCampusProduct
      summary: Update a campus product (admin)
      tags:
      - Products
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
      responses:
        '200':
          description: Product updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replaceCampusProduct
      summary: Replace a campus product (admin)
      tags:
      - Products
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
      responses:
        '200':
          description: Product replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    delete:
      operationId: deleteCampusProduct
      summary: Delete a campus product
      tags:
      - Products
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Product deleted
        '404':
          description: Not Found
  /v2/campus/{campus_id}/quests:
    get:
      operationId: getCampusQuests
      summary: List quests for a campus (admin)
      tags:
      - Quests
      x-admin-only: true
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: string
        description: Campus ID or slug.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by kind.
      responses:
        '200':
          description: A list of quests for the campus.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
  /v2/campus/{campus_id}/stats:
    get:
      operationId: getCampusStats
      summary: Get campus statistics
      tags:
      - Campus
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
        description: Campus ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                description: Campus statistics object
        '401':
          description: Unauthorized
        '404':
          description: Campus not found
  /v2/campus/{campus_id}/tags_users:
    get:
      operationId: getCampusTagsUsers
      summary: List tag-user associations for a campus
      tags:
      - TagsUsers
      parameters:
      - name: campus_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TagUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/campus/{campus_id}/users:
    get:
      tags:
      - Users
      summary: List users for a campus
      description: Return all users belonging to the given campus.
      operationId: getCampusUsers
      parameters:
      - name: campus_id
        in: path
        required: true
        description: The campus ID or slug
        schema:
          type: string
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/campus/{id}:
    get:
      operationId: getCampus
      summary: Show a campus (admin)
      tags:
      - Campus
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Campus ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campus'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Campus not found
    patch:
      operationId: updateCampusPatch
      summary: Update a campus (admin)
      tags:
      - Campus
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Campus ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                campus:
                  type: object
                  properties:
                    name:
                      type: string
                    time_zone:
                      type: string
                    language_id:
                      type: integer
                    country:
                      type: string
                    address:
                      type: string
                    zip:
                      type: string
                    city:
                      type: string
                    website:
                      type: string
                    facebook:
                      type: string
                    twitter:
                      type: string
                    active:
                      type: boolean
                    public:
                      type: boolean
                    email_extension:
                      type: string
                    default_hidden_phone:
                      type: boolean
      responses:
        '200':
          description: Campus updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campus'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Campus not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateCampusPut
      summary: Update a campus (full replace)
      tags:
      - Campus
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Campus ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                campus:
                  type: object
                  properties:
                    name:
                      type: string
                    time_zone:
                      type: string
                    language_id:
                      type: integer
                    country:
                      type: string
                    address:
                      type: string
                    zip:
                      type: string
                    city:
                      type: string
                    website:
                      type: string
                    facebook:
                      type: string
                    twitter:
                      type: string
                    active:
                      type: boolean
                    public:
                      type: boolean
                    email_extension:
                      type: string
                    default_hidden_phone:
                      type: boolean
                  required:
                  - name
      responses:
        '200':
          description: Campus updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campus'
        '401':
          description: Unauthorized
        '404':
          description: Campus not found
        '422':
          description: Unprocessable Entity
  /v2/campus_users:
    get:
      operationId: getCampusUsers_campus_users
      summary: List all campus-user relationships
      tags:
      - Campus
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by campus_user ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s)
      - name: filter[is_primary]
        in: query
        schema:
          type: string
        description: Filter by primary campus status
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CampusUser'
        '401':
          description: Unauthorized
    post:
      operationId: createCampusUser
      summary: Create a campus-user relationship (admin)
      tags:
      - Campus
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                campus_user:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    campus_id:
                      type: integer
                    is_primary:
                      type: boolean
                  required:
                  - user_id
                  - campus_id
      responses:
        '201':
          description: Campus-user relationship created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CampusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/campus_users/{id}:
    get:
      operationId: getCampusUser
      summary: Show a campus-user relationship (admin)
      tags:
      - Campus
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CampusUser ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CampusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: CampusUser not found
  /v2/campus_users/{id}/set_as_primary:
    post:
      operationId: setCampusUserAsPrimary
      summary: Set a campus-user relationship as primary (admin)
      tags:
      - Campus
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CampusUser ID
      responses:
        '200':
          description: Campus-user set as primary
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CampusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: CampusUser not found
  /v2/certificates:
    get:
      operationId: getCertificates
      summary: List all certificates (admin)
      tags:
      - Certificates
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by certificate ID(s)
      - name: filter[name]
        in: query
        schema:
          type: string
        description: Filter by certificate name
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Certificate'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
  /v2/certificates/{certificate_id}/certificates_users:
    get:
      operationId: getCertificateCertificatesUsers
      summary: List certificate-user relationships for a certificate (admin)
      tags:
      - Certificates
      x-admin-only: true
      parameters:
      - name: certificate_id
        in: path
        required: true
        schema:
          type: integer
        description: Certificate ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CertificateUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Certificate not found
  /v2/certificates/{id}:
    get:
      operationId: getCertificate
      summary: Show a certificate
      tags:
      - Certificates
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Certificate ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Certificate'
        '401':
          description: Unauthorized
        '404':
          description: Certificate not found
  /v2/certificates_users:
    get:
      operationId: getCertificatesUsers
      summary: List all certificate-user relationships (admin)
      tags:
      - Certificates
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by certificate_user ID(s)
      - name: filter[certificate_id]
        in: query
        schema:
          type: string
        description: Filter by certificate ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CertificateUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
  /v2/certificates_users/{id}:
    get:
      operationId: getCertificateUser
      summary: Show a certificate-user relationship (admin)
      tags:
      - Certificates
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CertificateUser ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: CertificateUser not found
    delete:
      operationId: deleteCertificateUser
      summary: Delete a certificate-user relationship (admin)
      tags:
      - Certificates
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CertificateUser ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: CertificateUser not found
  /v2/closes:
    get:
      operationId: getCloses
      summary: List all closes (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by close ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
    post:
      operationId: createClose
      summary: Create a close (admin)
      tags:
      - Closes
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                close:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    reason:
                      type: string
                    kind:
                      type: string
                  required:
                  - user_id
                  - reason
      responses:
        '201':
          description: Close created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/closes/{close_id}/community_services:
    get:
      operationId: getCloseCommunityServices
      summary: List community services for a close
      tags:
      - CommunityServices
      parameters:
      - name: close_id
        in: path
        required: true
        schema:
          type: integer
        description: The close ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of community services for the close
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CommunityService'
        '401':
          description: Unauthorized
  /v2/closes/{id}:
    get:
      operationId: getClose
      summary: Show a close (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
    patch:
      operationId: updateClosePatch
      summary: Update a close (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                close:
                  type: object
                  properties:
                    reason:
                      type: string
                    kind:
                      type: string
      responses:
        '200':
          description: Close updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateClosePut
      summary: Update a close - full replace (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                close:
                  type: object
                  properties:
                    reason:
                      type: string
                    kind:
                      type: string
                  required:
                  - reason
      responses:
        '200':
          description: Close updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteClose
      summary: Delete a close (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
  /v2/closes/{id}/close:
    patch:
      operationId: reClosePatch
      summary: Re-close a user (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      responses:
        '200':
          description: User re-closed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
    put:
      operationId: reClosePut
      summary: Re-close a user - PUT (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      responses:
        '200':
          description: User re-closed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
  /v2/closes/{id}/unclose:
    patch:
      operationId: unclosePatch
      summary: Unclose a user (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      responses:
        '200':
          description: User unclosed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
    put:
      operationId: unclosePut
      summary: Unclose a user - PUT (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Close ID
      responses:
        '200':
          description: User unclosed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Close not found
  /v2/clusters:
    get:
      operationId: getClusters
      summary: List all clusters (admin)
      tags:
      - Clusters
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by cluster ID(s)
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s)
      - name: filter[name]
        in: query
        schema:
          type: string
        description: Filter by cluster name
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Cluster'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
  /v2/clusters/{id}:
    get:
      operationId: getCluster
      summary: Show a cluster
      tags:
      - Clusters
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Cluster ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cluster'
        '401':
          description: Unauthorized
        '404':
          description: Cluster not found
  /v2/coalitions:
    get:
      operationId: getCoalitions
      summary: Return all coalitions
      tags:
      - Coalitions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. Prefix with `-` for descending. One of id, bloc_id, user_id, name, image, slug, created_at,
          updated_at, color, cover.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s), comma-separated.
      - name: filter[name]
        in: query
        required: false
        schema:
          type: string
        description: Filter by name.
      - name: filter[slug]
        in: query
        required: false
        schema:
          type: string
        description: Filter by slug.
      - name: filter[bloc_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by bloc ID(s).
      - name: filter[user_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by user ID(s).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Coalition'
        '401':
          description: Unauthorized
    post:
      operationId: createCoalition
      summary: Create a coalition (admin)
      tags:
      - Coalitions
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - coalition
              properties:
                coalition:
                  type: object
                  required:
                  - bloc_id
                  - user_id
                  - name
                  - color
                  properties:
                    bloc_id:
                      type: integer
                      description: The bloc ID.
                    user_id:
                      type: integer
                      description: The user ID.
                    name:
                      type: string
                      description: The name (must be unique within a bloc).
                    slug:
                      type: string
                      nullable: true
                      description: The slug.
                    color:
                      type: string
                      description: The color (hex value).
                    image:
                      type: string
                      format: binary
                      description: The image file.
                    cover:
                      type: string
                      format: binary
                      nullable: true
                      description: The cover file.
      responses:
        '201':
          description: Coalition created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Coalition'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/coalitions/{coalition_id}/coalitions_users:
    get:
      operationId: getCoalitionCoalitionsUsers
      summary: Return coalitions_users for a coalition
      tags:
      - CoalitionsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: filter[user_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by user ID(s).
      - name: coalition_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CoalitionUser'
        '401':
          description: Unauthorized
        '404':
          description: Coalition not found
  /v2/coalitions/{coalition_id}/scores:
    get:
      operationId: getCoalitionScores
      summary: Return scores for a coalition (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: coalition_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '404':
          description: Coalition not found
    post:
      operationId: createCoalitionScore
      summary: Create a score for a coalition (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - name: coalition_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                score:
                  type: object
                  properties:
                    coalitions_user_id:
                      type: integer
                      description: The coalitions_user ID.
                    calculation_id:
                      type: integer
                      description: The calculation ID.
                    value:
                      type: integer
                      description: The score value.
                    reason:
                      type: string
                      description: The reason for the score.
                    scoreable_type:
                      type: string
                      description: The scoreable type.
                    scoreable_id:
                      type: integer
                      description: The scoreable ID.
      responses:
        '201':
          description: Score created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/coalitions/{coalition_id}/scores/{id}:
    get:
      operationId: getCoalitionScoreById
      summary: Return a specific score for a coalition (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The score ID.
      - name: coalition_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '404':
          description: Not found
    delete:
      operationId: deleteCoalitionScore
      summary: Delete a score for a coalition
      tags:
      - Scores
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The score ID.
      - name: coalition_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Score deleted
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/coalitions/{coalition_id}/users:
    get:
      tags:
      - Users
      summary: List users for a coalition
      description: Return all users belonging to the given coalition.
      operationId: getCoalitionUsers
      parameters:
      - name: coalition_id
        in: path
        required: true
        description: The coalition ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/coalitions/{id}:
    get:
      operationId: getCoalitionById
      summary: Return a coalition (admin)
      tags:
      - Coalitions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The coalition ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Coalition'
        '401':
          description: Unauthorized
        '404':
          description: Not found
    patch:
      operationId: updateCoalition
      summary: Update a coalition (admin)
      tags:
      - Coalitions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The coalition ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                coalition:
                  type: object
                  properties:
                    name:
                      type: string
                    slug:
                      type: string
                      nullable: true
                    color:
                      type: string
                    image:
                      type: string
                      format: binary
                    cover:
                      type: string
                      format: binary
                      nullable: true
      responses:
        '200':
          description: Coalition updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Coalition'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: replaceCoalition
      summary: Replace a coalition
      tags:
      - Coalitions
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The coalition ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                coalition:
                  type: object
                  properties:
                    name:
                      type: string
                    slug:
                      type: string
                      nullable: true
                    color:
                      type: string
                    image:
                      type: string
                      format: binary
                    cover:
                      type: string
                      format: binary
                      nullable: true
      responses:
        '200':
          description: Coalition replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Coalition'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
  /v2/coalitions_users:
    get:
      operationId: getCoalitionsUsers
      summary: Return all coalitions_users
      tags:
      - CoalitionsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. One of id, coalition_id, user_id, created_at, updated_at, this_year_score, this_year_score_updated_at.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[coalition_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by coalition ID(s).
      - name: filter[user_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by user ID(s).
      - name: range[this_year_score]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on this_year_score (min,max).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CoalitionUser'
        '401':
          description: Unauthorized
    post:
      operationId: createCoalitionUser
      summary: Create a coalitions_user (admin)
      tags:
      - CoalitionsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - coalitions_user
              properties:
                coalitions_user:
                  type: object
                  required:
                  - coalition_id
                  - user_id
                  - this_year_score
                  properties:
                    coalition_id:
                      type: integer
                      description: The coalition ID.
                    user_id:
                      type: integer
                      description: The user ID (must be unique within a coalition).
                    this_year_score:
                      type: integer
                      description: The this-year score.
                    this_year_score_updated_at:
                      type: string
                      format: date-time
                      description: When the this-year score was last updated.
      responses:
        '201':
          description: CoalitionUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoalitionUser'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/coalitions_users/{coalitions_user_id}/scores:
    get:
      operationId: getCoalitionsUserScores
      summary: Return scores for a coalitions_user (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: coalitions_user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '404':
          description: CoalitionsUser not found
  /v2/coalitions_users/{coalitions_user_id}/scores/{id}:
    get:
      operationId: getCoalitionsUserScoreById
      summary: Return a specific score for a coalitions_user (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The score ID.
      - name: coalitions_user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/coalitions_users/{id}:
    get:
      operationId: getCoalitionUserById
      summary: Return a coalitions_user (admin)
      tags:
      - CoalitionsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The coalitions_user ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoalitionUser'
        '401':
          description: Unauthorized
        '404':
          description: Not found
    patch:
      operationId: updateCoalitionUser
      summary: Update a coalitions_user (admin)
      tags:
      - CoalitionsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The coalitions_user ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                coalitions_user:
                  type: object
                  properties:
                    this_year_score:
                      type: integer
                    this_year_score_updated_at:
                      type: string
                      format: date-time
      responses:
        '200':
          description: CoalitionUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoalitionUser'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: replaceCoalitionUser
      summary: Replace a coalitions_user (admin)
      tags:
      - CoalitionsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The coalitions_user ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                coalitions_user:
                  type: object
                  properties:
                    this_year_score:
                      type: integer
                    this_year_score_updated_at:
                      type: string
                      format: date-time
      responses:
        '200':
          description: CoalitionUser replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoalitionUser'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteCoalitionUser
      summary: Delete a coalitions_user
      tags:
      - CoalitionsUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The coalitions_user ID.
      responses:
        '204':
          description: CoalitionUser deleted
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/community_services:
    get:
      operationId: getCommunityServices
      summary: List all community services
      tags:
      - CommunityServices
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of community services
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CommunityService'
        '401':
          description: Unauthorized
    post:
      operationId: createCommunityService
      summary: Create a community service (admin)
      tags:
      - CommunityServices
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommunityServiceCreate'
      responses:
        '201':
          description: Community service created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/community_services/graph:
    get:
      operationId: getCommunityServicesGraph
      summary: Graph community services
      tags:
      - CommunityServices
      parameters:
      - name: field
        in: query
        schema:
          type: string
        description: Field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: Grouping interval
      responses:
        '200':
          description: Graph data for community services
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/community_services/{id}:
    get:
      operationId: getCommunityServiceById
      summary: Show a community service (admin)
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single community service
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '404':
          description: Not Found
    patch:
      operationId: updateCommunityService
      summary: Update a community service (admin)
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommunityServiceCreate'
      responses:
        '200':
          description: Community service updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replaceCommunityService
      summary: Replace a community service (admin)
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommunityServiceCreate'
      responses:
        '200':
          description: Community service replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    delete:
      operationId: deleteCommunityService
      summary: Delete a community service
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Community service deleted
        '404':
          description: Not Found
  /v2/community_services/{id}/invalidate:
    put:
      operationId: invalidateCommunityServicePut
      summary: Invalidate a community service (admin)
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Community service invalidated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    patch:
      operationId: invalidateCommunityServicePatch
      summary: Invalidate a community service (admin)
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Community service invalidated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/community_services/{id}/validate:
    put:
      operationId: validateCommunityServicePut
      summary: Validate a community service (admin)
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Community service validated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    patch:
      operationId: validateCommunityServicePatch
      summary: Validate a community service (admin)
      tags:
      - CommunityServices
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Community service validated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityService'
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/cursus:
    get:
      operationId: getCursus
      summary: List all cursus
      tags:
      - Cursus
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of cursus
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Cursus'
        '401':
          description: Unauthorized
    post:
      operationId: createCursus
      summary: Create a cursus (admin)
      tags:
      - Cursus
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CursusCreate'
      responses:
        '201':
          description: Cursus created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cursus'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/cursus/{cursus_id}/achievements:
    get:
      operationId: getCursusAchievements
      summary: List achievements for a cursus
      tags:
      - Achievements
      x-user-scope: true
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: string
        description: Cursus ID or slug.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by kind.
      - name: filter[tier]
        in: query
        schema:
          type: string
        description: Filter by tier.
      responses:
        '200':
          description: A list of achievements for the cursus.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
  /v2/cursus/{cursus_id}/cursus_users:
    get:
      operationId: getCursusCursusUsers
      summary: List cursus-user relationships for a cursus
      tags:
      - CursusUsers
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
        description: Cursus ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        schema:
          type: string
        description: 'Sort field. Options: id, cursus_id, user_id, created_at, updated_at, end_at, begin_at, has_coalition,
          blackholed_at, level.'
      - name: filter[active]
        in: query
        schema:
          type: string
        description: Filter by active status
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s)
      - name: range[level]
        in: query
        schema:
          type: string
        description: 'Range filter for level (format: min,max)'
      - name: range[blackholed_at]
        in: query
        schema:
          type: string
        description: 'Range filter for blackholed_at (format: start,end)'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
        '404':
          description: Cursus not found
  /v2/cursus/{cursus_id}/events:
    get:
      operationId: getCursusEvents
      summary: List events for a cursus
      tags:
      - Events
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: string
        description: Cursus ID or slug.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by event kind.
      - name: filter[future]
        in: query
        schema:
          type: string
          enum:
          - 'true'
          - 'false'
        description: Filter for future events only.
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: Range filter on begin_at.
      responses:
        '200':
          description: A list of events for the cursus.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
  /v2/cursus/{cursus_id}/exams:
    parameters:
    - name: cursus_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getCursusExams
      summary: List exams for a cursus
      tags:
      - Exams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of exams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Exam'
  /v2/cursus/{cursus_id}/levels:
    get:
      operationId: getCursusLevels
      summary: List levels for a cursus
      tags:
      - Levels
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
        description: Cursus ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Level'
        '401':
          description: Unauthorized
        '404':
          description: Cursus not found
  /v2/cursus/{cursus_id}/notions:
    get:
      operationId: getCursusNotions
      summary: Return notions for a cursus
      tags:
      - Notions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[name]
        in: query
        required: false
        schema:
          type: string
        description: Filter by name.
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Notion'
        '401':
          description: Unauthorized
        '404':
          description: Cursus not found
  /v2/cursus/{cursus_id}/projects:
    get:
      operationId: getCursusProjects
      summary: List projects for a cursus
      tags:
      - Projects
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/cursus/{cursus_id}/quests:
    get:
      operationId: getCursusQuests
      summary: List quests for a cursus (admin)
      tags:
      - Quests
      x-admin-only: true
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: string
        description: Cursus ID or slug.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by kind.
      responses:
        '200':
          description: A list of quests for the cursus.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
  /v2/cursus/{cursus_id}/skills:
    get:
      operationId: getCursusSkills
      summary: Return skills for a cursus
      tags:
      - Skills
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[name]
        in: query
        required: false
        schema:
          type: string
        description: Filter by name.
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Skill'
        '401':
          description: Unauthorized
        '404':
          description: Cursus not found
  /v2/cursus/{cursus_id}/tags_users:
    get:
      operationId: getCursusTagsUsers
      summary: List tag-user associations for a cursus
      tags:
      - TagsUsers
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TagUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/cursus/{cursus_id}/teams:
    get:
      operationId: getCursusTeams
      summary: List teams for a cursus
      tags:
      - Teams
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/cursus/{cursus_id}/teams/graph:
    get:
      operationId: getCursusTeamsGraph
      summary: Get graph data for teams in a cursus
      tags:
      - Teams
      parameters:
      - name: cursus_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: query
        schema:
          type: string
        description: The field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: The interval for grouping
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GraphPoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/cursus/{cursus_id}/users:
    get:
      tags:
      - Users
      summary: List users for a cursus
      description: Return all users enrolled in the given cursus.
      operationId: getCursusUsers
      parameters:
      - name: cursus_id
        in: path
        required: true
        description: The cursus ID or slug
        schema:
          type: string
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/cursus/{id}:
    get:
      operationId: getCursusById
      summary: Show a cursus (admin)
      tags:
      - Cursus
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single cursus
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cursus'
        '404':
          description: Not Found
    patch:
      operationId: updateCursus
      summary: Update a cursus (admin)
      tags:
      - Cursus
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CursusCreate'
      responses:
        '200':
          description: Cursus updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cursus'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replaceCursus
      summary: Replace a cursus (admin)
      tags:
      - Cursus
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CursusCreate'
      responses:
        '200':
          description: Cursus replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cursus'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    delete:
      operationId: deleteCursus
      summary: Delete a cursus
      tags:
      - Cursus
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Cursus deleted
        '404':
          description: Not Found
  /v2/cursus_users:
    get:
      operationId: getCursusUsers_cursus_users
      summary: List all cursus-user relationships
      tags:
      - CursusUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        schema:
          type: string
        description: 'Sort field. Options: id, cursus_id, user_id, created_at, updated_at, end_at, begin_at, has_coalition,
          blackholed_at, level. Prefix with - for descending.'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by cursus_user ID(s)
      - name: filter[cursus_id]
        in: query
        schema:
          type: string
        description: Filter by cursus ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      - name: filter[active]
        in: query
        schema:
          type: string
        description: Filter by active status (true/false)
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s)
      - name: filter[has_coalition]
        in: query
        schema:
          type: string
        description: Filter by coalition membership
      - name: filter[end]
        in: query
        schema:
          type: string
        description: Filter by ended status
      - name: filter[future]
        in: query
        schema:
          type: string
        description: Filter by future start
      - name: filter[blackholed]
        in: query
        schema:
          type: string
        description: Filter by blackholed status
      - name: range[id]
        in: query
        schema:
          type: string
        description: 'Range filter for id (format: min,max)'
      - name: range[cursus_id]
        in: query
        schema:
          type: string
        description: 'Range filter for cursus_id (format: min,max)'
      - name: range[user_id]
        in: query
        schema:
          type: string
        description: 'Range filter for user_id (format: min,max)'
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: 'Range filter for created_at (format: start,end)'
      - name: range[updated_at]
        in: query
        schema:
          type: string
        description: 'Range filter for updated_at (format: start,end)'
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: 'Range filter for begin_at (format: start,end)'
      - name: range[end_at]
        in: query
        schema:
          type: string
        description: 'Range filter for end_at (format: start,end)'
      - name: range[blackholed_at]
        in: query
        schema:
          type: string
        description: 'Range filter for blackholed_at (format: start,end)'
      - name: range[level]
        in: query
        schema:
          type: string
        description: 'Range filter for level (format: min,max)'
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
              description: Total number of items
            X-Page:
              schema:
                type: integer
              description: Current page number
            X-Per-Page:
              schema:
                type: integer
              description: Items per page
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
    post:
      operationId: createCursusUser
      summary: Create a cursus-user relationship (admin)
      tags:
      - CursusUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                cursus_user:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    cursus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    has_coalition:
                      type: boolean
                  required:
                  - user_id
                  - cursus_id
      responses:
        '201':
          description: CursusUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/cursus_users/graph:
    get:
      operationId: getCursusUsersGraph
      summary: Get cursus users graph data
      tags:
      - CursusUsers
      parameters:
      - name: field
        in: query
        schema:
          type: string
        description: Field to graph on (e.g., created_at, begin_at)
      - name: interval
        in: query
        schema:
          type: string
          enum:
          - day
          - week
          - month
          - year
        description: Interval to group by
      - name: filter[cursus_id]
        in: query
        schema:
          type: string
        description: Filter by cursus ID(s)
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s)
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: 'Range filter for created_at (format: start,end)'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    data:
                      type: string
                    value:
                      type: number
        '401':
          description: Unauthorized
  /v2/cursus_users/{id}:
    get:
      operationId: getCursusUser
      summary: Show a cursus-user relationship (admin)
      tags:
      - CursusUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CursusUser ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: CursusUser not found
    patch:
      operationId: updateCursusUserPatch
      summary: Update a cursus-user relationship (admin)
      tags:
      - CursusUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CursusUser ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                cursus_user:
                  type: object
                  properties:
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    grade:
                      type: string
                      nullable: true
                    level:
                      type: number
                      format: float
                    has_coalition:
                      type: boolean
                    blackholed_at:
                      type: string
                      format: date-time
                      nullable: true
      responses:
        '200':
          description: CursusUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: CursusUser not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateCursusUserPut
      summary: Update a cursus-user relationship - full replace (admin)
      tags:
      - CursusUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CursusUser ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                cursus_user:
                  type: object
                  properties:
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    grade:
                      type: string
                      nullable: true
                    level:
                      type: number
                      format: float
                    has_coalition:
                      type: boolean
                    blackholed_at:
                      type: string
                      format: date-time
                      nullable: true
      responses:
        '200':
          description: CursusUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: CursusUser not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteCursusUser
      summary: Delete a cursus-user relationship
      tags:
      - CursusUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: CursusUser ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '404':
          description: CursusUser not found
  /v2/dashes:
    get:
      operationId: getDashes
      summary: List dashes
      tags:
      - Dashes
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Dash'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createDash
      summary: Create a dash
      tags:
      - Dashes
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DashCreate'
      responses:
        '201':
          description: Dash created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dash'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/dashes/{dash_id}/dashes_users:
    get:
      operationId: getDashDashesUsers
      summary: List user associations for a dash
      tags:
      - DashesUsers
      parameters:
      - name: dash_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DashUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/dashes/{dash_id}/users:
    get:
      tags:
      - Users
      summary: List users for a dash
      description: Return all users in the given dash.
      operationId: getDashUsers
      parameters:
      - name: dash_id
        in: path
        required: true
        description: The dash ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/dashes/{id}:
    get:
      operationId: getDash
      summary: Get a dash
      tags:
      - Dashes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dash'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateDash
      summary: Update a dash
      tags:
      - Dashes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DashCreate'
      responses:
        '200':
          description: Dash updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dash'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceDash
      summary: Replace a dash
      tags:
      - Dashes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DashCreate'
      responses:
        '200':
          description: Dash replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dash'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteDash
      summary: Delete a dash
      tags:
      - Dashes
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Dash deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/dashes_users:
    get:
      operationId: getDashesUsers
      summary: List dash-user associations
      tags:
      - DashesUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DashUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createDashesUser
      summary: Create a dash-user association
      tags:
      - DashesUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DashUserCreate'
      responses:
        '201':
          description: Association created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/dashes_users/{id}:
    get:
      operationId: getDashesUser
      summary: Get a dash-user association
      tags:
      - DashesUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateDashesUser
      summary: Update a dash-user association
      tags:
      - DashesUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DashUserCreate'
      responses:
        '200':
          description: Association updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceDashesUser
      summary: Replace a dash-user association
      tags:
      - DashesUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DashUserCreate'
      responses:
        '200':
          description: Association replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteDashesUser
      summary: Delete a dash-user association
      tags:
      - DashesUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Association deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/endpoints:
    get:
      operationId: getEndpoints
      summary: List API endpoints
      tags:
      - Endpoints
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Endpoint'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createEndpoint
      summary: Create an API endpoint
      tags:
      - Endpoints
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EndpointCreate'
      responses:
        '201':
          description: Endpoint created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Endpoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/endpoints/{id}:
    get:
      operationId: getEndpoint
      summary: Get an API endpoint
      tags:
      - Endpoints
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Endpoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateEndpoint
      summary: Update an API endpoint
      tags:
      - Endpoints
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EndpointCreate'
      responses:
        '200':
          description: Endpoint updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Endpoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceEndpoint
      summary: Replace an API endpoint
      tags:
      - Endpoints
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EndpointCreate'
      responses:
        '200':
          description: Endpoint replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Endpoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteEndpoint
      summary: Delete an API endpoint
      tags:
      - Endpoints
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Endpoint deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/endpoints/{id}/callback:
    post:
      operationId: callbackEndpoint
      summary: Trigger a callback for an endpoint
      tags:
      - Endpoints
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Callback triggered
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/evaluations:
    get:
      operationId: getEvaluations
      summary: List all evaluations
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Evaluations
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of evaluations
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Evaluation'
    post:
      operationId: createEvaluation
      summary: Create an evaluation
      description: Admin only.
      tags:
      - Evaluations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EvaluationCreate'
      responses:
        '201':
          description: Evaluation created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Evaluation'
  /v2/evaluations/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getEvaluation
      summary: Show an evaluation
      description: Admin only.
      tags:
      - Evaluations
      responses:
        '200':
          description: An evaluation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Evaluation'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateEvaluation
      summary: Update an evaluation
      description: Admin only.
      tags:
      - Evaluations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EvaluationCreate'
      responses:
        '200':
          description: Evaluation updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Evaluation'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceEvaluation
      summary: Replace an evaluation
      description: Admin only.
      tags:
      - Evaluations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EvaluationCreate'
      responses:
        '200':
          description: Evaluation replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Evaluation'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteEvaluation
      summary: Delete an evaluation
      tags:
      - Evaluations
      responses:
        '204':
          description: Evaluation deleted
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/events:
    get:
      operationId: getEvents
      summary: List all events
      tags:
      - Events
      parameters:
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - id
          - begin_at
          - end_at
          - name
          - description
          - location
          - kind
          - max_people
          - created_at
          - updated_at
          - prohibition_of_cancellation
          - difficulty
          - remote
        description: Sort field. Prefix with `-` for descending. Default `-begin_at,-id`.
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by event ID (comma-separated for multiple).
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by event kind.
      - name: filter[future]
        in: query
        schema:
          type: string
          enum:
          - 'true'
          - 'false'
        description: Filter for future events only.
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: Range filter on begin_at (comma-separated start,end).
      - name: range[end_at]
        in: query
        schema:
          type: string
        description: Range filter on end_at.
      responses:
        '200':
          description: A list of events.
          headers:
            X-Total:
              schema:
                type: integer
              description: Total number of items.
            X-Page:
              schema:
                type: integer
              description: Current page number.
            X-Per-Page:
              schema:
                type: integer
              description: Items per page.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
    post:
      operationId: createEvent
      summary: Create an event (admin)
      tags:
      - Events
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EventCreate'
      responses:
        '201':
          description: The created event.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/events/{event_id}/users:
    get:
      tags:
      - Users
      summary: List users for an event
      description: Return all users registered for the given event.
      operationId: getEventUsers
      parameters:
      - name: event_id
        in: path
        required: true
        description: The event ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/events/{event_id}/waitlist:
    get:
      operationId: getEventWaitlist
      summary: Get the waitlist for an event
      tags:
      - Waitlists
      x-admin-only: true
      parameters:
      - name: event_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Waitlist'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/events/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Event ID.
    get:
      operationId: getEventById
      summary: Show an event (admin)
      tags:
      - Events
      x-admin-only: true
      responses:
        '200':
          description: The event.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateEvent
      summary: Update an event (admin)
      tags:
      - Events
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EventUpdate'
      responses:
        '200':
          description: The updated event.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceEvent
      summary: Replace an event (admin)
      tags:
      - Events
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EventUpdate'
      responses:
        '200':
          description: The replaced event.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteEvent
      summary: Delete an event
      tags:
      - Events
      responses:
        '204':
          description: Event deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/exams:
    get:
      operationId: getExams
      summary: List all exams
      tags:
      - Exams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of exams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Exam'
    post:
      operationId: createExam
      summary: Create an exam
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Exams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExamCreate'
      responses:
        '201':
          description: Exam created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Exam'
  /v2/exams/graph:
    get:
      operationId: getExamsGraph
      summary: Graph data for exams
      tags:
      - Exams
      parameters:
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/exams/graph/on/{field}:
    get:
      operationId: getExamsGraphOnField
      summary: Graph data for exams on a specific field
      tags:
      - Exams
      parameters:
      - name: field
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/exams/graph/on/{field}/by/{interval}:
    get:
      operationId: getExamsGraphOnFieldByInterval
      summary: Graph data for exams on a field grouped by interval
      tags:
      - Exams
      parameters:
      - name: field
        in: path
        required: true
        schema:
          type: string
      - name: interval
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/exams/{exam_id}/exams_users:
    parameters:
    - name: exam_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getExamUsers
      summary: List users for an exam
      description: Admin only. Requires Basic staff role.
      tags:
      - ExamsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: exam_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of exam users
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ExamUser'
    post:
      operationId: createExamUser
      summary: Create an exam user registration
      description: Admin only. Requires Advanced tutor role.
      tags:
      - ExamsUsers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExamUserCreate'
      responses:
        '201':
          description: Exam user created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExamUser'
      parameters:
      - name: exam_id
        in: path
        required: true
        schema:
          type: integer
  /v2/exams/{exam_id}/exams_users/{id}:
    parameters:
    - name: exam_id
      in: path
      required: true
      schema:
        type: integer
    - name: id
      in: path
      required: true
      schema:
        type: integer
    delete:
      operationId: deleteExamUser
      summary: Delete an exam user registration
      tags:
      - ExamsUsers
      responses:
        '204':
          description: Exam user deleted
      parameters:
      - name: exam_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/exams/{exam_id}/waitlist:
    get:
      operationId: getExamWaitlist
      summary: Get the waitlist for an exam
      tags:
      - Waitlists
      x-admin-only: true
      parameters:
      - name: exam_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Waitlist'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/exams/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getExam
      summary: Show an exam
      description: Admin only.
      tags:
      - Exams
      responses:
        '200':
          description: An exam
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Exam'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateExam
      summary: Update an exam
      description: Admin only.
      tags:
      - Exams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExamCreate'
      responses:
        '200':
          description: Exam updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Exam'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceExam
      summary: Replace an exam
      description: Admin only.
      tags:
      - Exams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExamCreate'
      responses:
        '200':
          description: Exam replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Exam'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteExam
      summary: Delete an exam
      description: Admin only.
      tags:
      - Exams
      responses:
        '204':
          description: Exam deleted
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/experiences:
    get:
      operationId: getExperiences
      summary: List all experiences (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by experience ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      - name: filter[skill_id]
        in: query
        schema:
          type: string
        description: Filter by skill ID(s)
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
    post:
      operationId: createExperience
      summary: Create an experience (admin)
      tags:
      - Experiences
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                experience:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    skill_id:
                      type: integer
                    amount:
                      type: integer
                  required:
                  - user_id
                  - skill_id
                  - amount
      responses:
        '201':
          description: Experience created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/experiences/{id}:
    get:
      operationId: getExperience
      summary: Show an experience (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Experience ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Experience not found
    patch:
      operationId: updateExperiencePatch
      summary: Update an experience (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Experience ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                experience:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    skill_id:
                      type: integer
                    amount:
                      type: integer
      responses:
        '200':
          description: Experience updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Experience not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateExperiencePut
      summary: Update an experience - full replace (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Experience ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                experience:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    skill_id:
                      type: integer
                    amount:
                      type: integer
                  required:
                  - user_id
                  - skill_id
                  - amount
      responses:
        '200':
          description: Experience updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Experience not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteExperience
      summary: Delete an experience
      tags:
      - Experiences
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Experience ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '404':
          description: Experience not found
  /v2/expertises:
    get:
      operationId: getExpertises
      summary: List all expertises
      tags:
      - Expertises
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by expertise ID(s)
      - name: filter[name]
        in: query
        schema:
          type: string
        description: Filter by expertise name
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Expertise'
        '401':
          description: Unauthorized
    post:
      operationId: createExpertise
      summary: Create an expertise (admin)
      tags:
      - Expertises
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                expertise:
                  type: object
                  properties:
                    name:
                      type: string
                    slug:
                      type: string
                  required:
                  - name
      responses:
        '201':
          description: Expertise created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Expertise'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/expertises/{expertise_id}/expertises_users:
    get:
      operationId: getExpertiseExpertisesUsers
      summary: Return expertises_users for an expertise
      tags:
      - ExpertisesUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: expertise_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '404':
          description: Expertise not found
    post:
      operationId: createExpertiseExpertiseUser
      summary: Create an expertises_user under an expertise
      tags:
      - ExpertisesUsers
      x-user-scope: true
      parameters:
      - name: expertise_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - expertises_user
              properties:
                expertises_user:
                  type: object
                  required:
                  - user_id
                  - value
                  properties:
                    user_id:
                      type: integer
                      description: The user ID.
                    value:
                      type: integer
                      description: The expertise value.
                    interested:
                      type: boolean
                      default: false
                    contact_me:
                      type: boolean
                      default: false
      responses:
        '201':
          description: ExpertiseUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/expertises/{expertise_id}/users:
    get:
      tags:
      - Users
      summary: List users for an expertise
      description: Return all users with the given expertise.
      operationId: getExpertiseUsers
      parameters:
      - name: expertise_id
        in: path
        required: true
        description: The expertise ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/expertises/{id}:
    get:
      operationId: getExpertise
      summary: Show an expertise (admin)
      tags:
      - Expertises
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Expertise ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Expertise'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Expertise not found
    patch:
      operationId: updateExpertisePatch
      summary: Update an expertise (admin)
      tags:
      - Expertises
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Expertise ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                expertise:
                  type: object
                  properties:
                    name:
                      type: string
                    slug:
                      type: string
      responses:
        '200':
          description: Expertise updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Expertise'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Expertise not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateExpertisePut
      summary: Update an expertise - full replace (admin)
      tags:
      - Expertises
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Expertise ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                expertise:
                  type: object
                  properties:
                    name:
                      type: string
                    slug:
                      type: string
                  required:
                  - name
      responses:
        '200':
          description: Expertise updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Expertise'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Expertise not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteExpertise
      summary: Delete an expertise
      tags:
      - Expertises
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Expertise ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '404':
          description: Expertise not found
  /v2/expertises_users:
    get:
      operationId: getExpertisesUsers
      summary: Return all expertises_users
      tags:
      - ExpertisesUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. One of id, expertise_id, user_id, interested, value, created_at, updated_at, contact_me.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[expertise_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by expertise ID(s).
      - name: filter[user_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by user ID(s).
      - name: filter[interested]
        in: query
        required: false
        schema:
          type: string
        description: Filter by interested flag.
      - name: filter[contact_me]
        in: query
        required: false
        schema:
          type: string
        description: Filter by contact_me flag.
      - name: range[value]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on value (min,max).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
    post:
      operationId: createExpertiseUser
      summary: Create an expertises_user
      tags:
      - ExpertisesUsers
      x-user-scope: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - expertises_user
              properties:
                expertises_user:
                  type: object
                  required:
                  - expertise_id
                  - user_id
                  - value
                  properties:
                    expertise_id:
                      type: integer
                      description: The expertise ID (must be unique per user).
                    user_id:
                      type: integer
                      description: The user ID.
                    value:
                      type: integer
                      description: The expertise value.
                    interested:
                      type: boolean
                      default: false
                      description: Whether the user is interested.
                    contact_me:
                      type: boolean
                      default: false
                      description: Whether the user wants to be contacted.
      responses:
        '201':
          description: ExpertiseUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/expertises_users/{id}:
    get:
      operationId: getExpertiseUserById
      summary: Return an expertises_user
      tags:
      - ExpertisesUsers
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The expertises_user ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '404':
          description: Not found
    patch:
      operationId: updateExpertiseUser
      summary: Update an expertises_user
      tags:
      - ExpertisesUsers
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The expertises_user ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                expertises_user:
                  type: object
                  properties:
                    value:
                      type: integer
                    interested:
                      type: boolean
                    contact_me:
                      type: boolean
      responses:
        '200':
          description: ExpertiseUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: replaceExpertiseUser
      summary: Replace an expertises_user
      tags:
      - ExpertisesUsers
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The expertises_user ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                expertises_user:
                  type: object
                  properties:
                    value:
                      type: integer
                    interested:
                      type: boolean
                    contact_me:
                      type: boolean
      responses:
        '200':
          description: ExpertiseUser replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteExpertiseUser
      summary: Delete an expertises_user
      tags:
      - ExpertisesUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The expertises_user ID.
      responses:
        '204':
          description: ExpertiseUser deleted
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/flash_users:
    get:
      operationId: getFlashUsers
      summary: List flash-user associations
      tags:
      - FlashUsers
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FlashUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createFlashUser
      summary: Create a flash-user association
      tags:
      - FlashUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FlashUserCreate'
      responses:
        '201':
          description: Association created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FlashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/flash_users/{id}:
    get:
      operationId: getFlashUser
      summary: Get a flash-user association
      tags:
      - FlashUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FlashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/flashes:
    get:
      operationId: getFlashes
      summary: List flash messages
      tags:
      - Flashes
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Flash'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createFlash
      summary: Create a flash message
      tags:
      - Flashes
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FlashCreate'
      responses:
        '201':
          description: Flash created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Flash'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/flashes/{flash_id}/flash_users:
    get:
      operationId: getFlashFlashUsers
      summary: List user associations for a flash
      tags:
      - FlashUsers
      x-admin-only: true
      parameters:
      - name: flash_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FlashUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      operationId: createFlashFlashUser
      summary: Create a flash-user association under a flash
      tags:
      - FlashUsers
      x-admin-only: true
      parameters:
      - name: flash_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FlashUserCreate'
      responses:
        '201':
          description: Association created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FlashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/flashes/{flash_id}/flash_users/{id}:
    get:
      operationId: getFlashFlashUser
      summary: Get a flash-user association under a flash
      tags:
      - FlashUsers
      x-admin-only: true
      parameters:
      - name: flash_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FlashUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/flashes/{id}:
    get:
      operationId: getFlash
      summary: Get a flash message
      tags:
      - Flashes
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Flash'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/groups:
    get:
      operationId: getGroups
      summary: List all groups
      tags:
      - Groups
      responses:
        '200':
          description: A list of groups.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Group'
        '401':
          description: Unauthorized.
    post:
      operationId: createGroup
      summary: Create a group (admin)
      tags:
      - Groups
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupCreate'
      responses:
        '201':
          description: The created group.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/groups/{group_id}/groups_users:
    get:
      operationId: getGroupGroupsUsers
      summary: List group-user associations for a group
      tags:
      - GroupsUsers
      parameters:
      - name: group_id
        in: path
        required: true
        schema:
          type: integer
        description: Group ID.
      responses:
        '200':
          description: A list of group-user associations for the group.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GroupUser'
        '401':
          description: Unauthorized.
  /v2/groups/{group_id}/users:
    get:
      tags:
      - Users
      summary: List users for a group
      description: Return all users in the given group.
      operationId: getGroupUsers
      parameters:
      - name: group_id
        in: path
        required: true
        description: The group ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/groups/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Group ID.
    get:
      operationId: getGroupById
      summary: Show a group (admin)
      tags:
      - Groups
      x-admin-only: true
      responses:
        '200':
          description: The group.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateGroup
      summary: Update a group (admin)
      tags:
      - Groups
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupUpdate'
      responses:
        '200':
          description: The updated group.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceGroup
      summary: Replace a group (admin)
      tags:
      - Groups
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupUpdate'
      responses:
        '200':
          description: The replaced group.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteGroup
      summary: Delete a group
      tags:
      - Groups
      responses:
        '204':
          description: Group deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/groups_users:
    get:
      operationId: getGroupsUsers
      summary: List all group-user associations
      tags:
      - GroupsUsers
      responses:
        '200':
          description: A list of group-user associations.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GroupUser'
        '401':
          description: Unauthorized.
    post:
      operationId: createGroupUser
      summary: Create a group-user association (admin)
      tags:
      - GroupsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupUserCreate'
      responses:
        '201':
          description: The created group-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/groups_users/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: GroupUser ID.
    get:
      operationId: getGroupUserById
      summary: Show a group-user association (admin)
      tags:
      - GroupsUsers
      x-admin-only: true
      responses:
        '200':
          description: The group-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateGroupUser
      summary: Update a group-user association (admin)
      tags:
      - GroupsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupUserUpdate'
      responses:
        '200':
          description: The updated group-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceGroupUser
      summary: Replace a group-user association (admin)
      tags:
      - GroupsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupUserUpdate'
      responses:
        '200':
          description: The replaced group-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteGroupUser
      summary: Delete a group-user association (admin)
      tags:
      - GroupsUsers
      x-admin-only: true
      responses:
        '204':
          description: GroupUser deleted.
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/internships:
    get:
      operationId: getInternships
      summary: List all internships (admin)
      tags:
      - Internships
      x-admin-only: true
      responses:
        '200':
          description: A list of internships.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
    post:
      operationId: createInternship
      summary: Create an internship (admin)
      tags:
      - Internships
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                internship:
                  type: object
      responses:
        '201':
          description: The created internship.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/internships/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Internship ID.
    get:
      operationId: getInternshipById
      summary: Show an internship (admin)
      tags:
      - Internships
      x-admin-only: true
      responses:
        '200':
          description: The internship.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateInternship
      summary: Update an internship (admin)
      tags:
      - Internships
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                internship:
                  type: object
      responses:
        '200':
          description: The updated internship.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceInternship
      summary: Replace an internship (admin)
      tags:
      - Internships
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                internship:
                  type: object
      responses:
        '200':
          description: The replaced internship.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteInternship
      summary: Delete an internship (admin)
      tags:
      - Internships
      x-admin-only: true
      responses:
        '204':
          description: Internship deleted.
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/internships/{internship_id}/amendments:
    get:
      operationId: getInternshipAmendments
      summary: List amendments for an internship
      tags:
      - Amendments
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: internship_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of internship amendments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Amendment'
        '401':
          description: Unauthorized
  /v2/journals:
    get:
      operationId: getJournals
      summary: List journal entries
      tags:
      - Journals
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Journal'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createJournal
      summary: Create a journal entry
      tags:
      - Journals
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JournalCreate'
      responses:
        '201':
          description: Journal entry created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Journal'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/journals/{id}:
    get:
      operationId: getJournal
      summary: Get a journal entry
      tags:
      - Journals
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Journal'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateJournal
      summary: Update a journal entry
      tags:
      - Journals
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JournalCreate'
      responses:
        '200':
          description: Journal entry updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Journal'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceJournal
      summary: Replace a journal entry
      tags:
      - Journals
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JournalCreate'
      responses:
        '200':
          description: Journal entry replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Journal'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteJournal
      summary: Delete a journal entry
      tags:
      - Journals
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Journal entry deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/languages:
    get:
      operationId: getLanguages
      summary: List all languages
      tags:
      - Languages
      responses:
        '200':
          description: A list of languages.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Language'
        '401':
          description: Unauthorized.
    post:
      operationId: createLanguage
      summary: Create a language (admin)
      tags:
      - Languages
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                language:
                  type: object
                  properties:
                    name:
                      type: string
                    identifier:
                      type: string
                  required:
                  - name
                  - identifier
      responses:
        '201':
          description: The created language.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Language'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/languages/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Language ID.
    get:
      operationId: getLanguageById
      summary: Show a language (admin)
      tags:
      - Languages
      x-admin-only: true
      responses:
        '200':
          description: The language.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Language'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateLanguage
      summary: Update a language (admin)
      tags:
      - Languages
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                language:
                  type: object
                  properties:
                    name:
                      type: string
                    identifier:
                      type: string
      responses:
        '200':
          description: The updated language.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Language'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceLanguage
      summary: Replace a language (admin)
      tags:
      - Languages
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                language:
                  type: object
                  properties:
                    name:
                      type: string
                    identifier:
                      type: string
      responses:
        '200':
          description: The replaced language.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Language'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteLanguage
      summary: Delete a language
      tags:
      - Languages
      responses:
        '204':
          description: Language deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/languages_users:
    get:
      operationId: getLanguagesUsers
      summary: List all language-user relationships
      tags:
      - LanguagesUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by language_user ID(s)
      - name: filter[language_id]
        in: query
        schema:
          type: string
        description: Filter by language ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
    post:
      operationId: createLanguageUser
      summary: Create a language-user relationship (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                languages_user:
                  type: object
                  properties:
                    language_id:
                      type: integer
                    user_id:
                      type: integer
                    position:
                      type: integer
                  required:
                  - language_id
                  - user_id
      responses:
        '201':
          description: LanguageUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/languages_users/graph:
    get:
      operationId: getLanguagesUsersGraph
      summary: Get languages users graph data
      tags:
      - LanguagesUsers
      parameters:
      - name: field
        in: query
        schema:
          type: string
        description: Field to graph on (e.g., created_at)
      - name: interval
        in: query
        schema:
          type: string
          enum:
          - day
          - week
          - month
          - year
        description: Interval to group by
      - name: filter[language_id]
        in: query
        schema:
          type: string
        description: Filter by language ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    data:
                      type: string
                    value:
                      type: number
        '401':
          description: Unauthorized
  /v2/languages_users/{id}:
    get:
      operationId: getLanguageUser
      summary: Show a language-user relationship (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: LanguageUser not found
    patch:
      operationId: updateLanguageUserPatch
      summary: Update a language-user relationship (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                languages_user:
                  type: object
                  properties:
                    language_id:
                      type: integer
                    user_id:
                      type: integer
                    position:
                      type: integer
      responses:
        '200':
          description: LanguageUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: LanguageUser not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateLanguageUserPut
      summary: Update a language-user relationship - full replace (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                languages_user:
                  type: object
                  properties:
                    language_id:
                      type: integer
                    user_id:
                      type: integer
                    position:
                      type: integer
                  required:
                  - language_id
                  - user_id
      responses:
        '200':
          description: LanguageUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: LanguageUser not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteLanguageUser
      summary: Delete a language-user relationship
      tags:
      - LanguagesUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '404':
          description: LanguageUser not found
  /v2/levels:
    get:
      operationId: getLevels
      summary: List all levels (admin)
      tags:
      - Levels
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by level ID(s)
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Level'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
  /v2/locations:
    get:
      operationId: getLocations
      summary: List all locations
      tags:
      - Locations
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by location ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s)
      - name: filter[host]
        in: query
        schema:
          type: string
        description: Filter by host
      - name: filter[primary]
        in: query
        schema:
          type: string
        description: Filter by primary status
      - name: filter[active]
        in: query
        schema:
          type: string
        description: Filter by active status (end_at is null)
      - name: filter[inactive]
        in: query
        schema:
          type: string
        description: Filter by inactive status (end_at is not null)
      - name: range[id]
        in: query
        schema:
          type: string
        description: 'Range filter for id (format: min,max)'
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: 'Range filter for begin_at (format: start,end)'
      - name: range[end_at]
        in: query
        schema:
          type: string
        description: 'Range filter for end_at (format: start,end)'
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
              description: Total number of items
            X-Page:
              schema:
                type: integer
              description: Current page number
            X-Per-Page:
              schema:
                type: integer
              description: Items per page
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
    post:
      operationId: createLocation
      summary: Create a location (admin)
      tags:
      - Locations
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                location:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    host:
                      type: string
                    campus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    primary:
                      type: boolean
                    floor:
                      type: string
                      nullable: true
                    row:
                      type: string
                      nullable: true
                    post:
                      type: string
                      nullable: true
                  required:
                  - user_id
                  - host
                  - campus_id
                  - begin_at
      responses:
        '201':
          description: Location created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/locations/graph:
    get:
      operationId: getLocationsGraph
      summary: Get locations graph data
      tags:
      - Locations
      parameters:
      - name: field
        in: query
        schema:
          type: string
        description: Field to graph on (e.g., begin_at, end_at)
      - name: interval
        in: query
        schema:
          type: string
          enum:
          - day
          - week
          - month
          - year
        description: Interval to group by
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: 'Range filter for begin_at (format: start,end)'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    data:
                      type: string
                    value:
                      type: number
        '401':
          description: Unauthorized
  /v2/locations/{id}:
    get:
      operationId: getLocation
      summary: Show a location (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Location ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Location not found
    patch:
      operationId: updateLocationPatch
      summary: Update a location (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Location ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                location:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    host:
                      type: string
                    campus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    primary:
                      type: boolean
                    floor:
                      type: string
                      nullable: true
                    row:
                      type: string
                      nullable: true
                    post:
                      type: string
                      nullable: true
      responses:
        '200':
          description: Location updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Location not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateLocationPut
      summary: Update a location - full replace (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Location ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                location:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    host:
                      type: string
                    campus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    primary:
                      type: boolean
                    floor:
                      type: string
                      nullable: true
                    row:
                      type: string
                      nullable: true
                    post:
                      type: string
                      nullable: true
                  required:
                  - user_id
                  - host
                  - campus_id
                  - begin_at
      responses:
        '200':
          description: Location updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Location not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteLocation
      summary: Delete a location (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Location ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Location not found
  /v2/mailings:
    get:
      operationId: getMailings
      summary: List all mailings (admin)
      tags:
      - Mailings
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by mailing ID(s)
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID(s)
      responses:
        '200':
          description: Successful response
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Mailing'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
    post:
      operationId: createMailing
      summary: Create a mailing (admin)
      tags:
      - Mailings
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mailing:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    subject:
                      type: string
                    body:
                      type: string
                  required:
                  - user_id
                  - subject
                  - body
      responses:
        '201':
          description: Mailing created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Mailing'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/mailings/{id}:
    get:
      operationId: getMailing
      summary: Show a mailing (admin)
      tags:
      - Mailings
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Mailing ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Mailing'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Mailing not found
    patch:
      operationId: updateMailingPatch
      summary: Update a mailing (admin)
      tags:
      - Mailings
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Mailing ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mailing:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    subject:
                      type: string
                    body:
                      type: string
      responses:
        '200':
          description: Mailing updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Mailing'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Mailing not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateMailingPut
      summary: Update a mailing - full replace (admin)
      tags:
      - Mailings
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Mailing ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mailing:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    subject:
                      type: string
                    body:
                      type: string
                  required:
                  - user_id
                  - subject
                  - body
      responses:
        '200':
          description: Mailing updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Mailing'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Mailing not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteMailing
      summary: Delete a mailing
      tags:
      - Mailings
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Mailing ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '404':
          description: Mailing not found
  /v2/me:
    get:
      tags:
      - Users
      summary: Show current user
      description: Return the current resource owner (the token owner / logged-in user). Returns the same detailed user object
        as GET /v2/users/{id}.
      operationId: getMe
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/me/projects:
    get:
      operationId: getMyProjects
      summary: List current user's projects
      tags:
      - Projects
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/me/scale_teams:
    get:
      operationId: getMyScaleTeams
      summary: List current user's scale teams
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of scale teams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/me/scale_teams/as_corrected:
    get:
      operationId: getMyScaleTeamsAsCorrected
      summary: List current user's scale teams as corrected
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of scale teams as corrected
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/me/scale_teams/as_corrector:
    get:
      operationId: getMyScaleTeamsAsCorrector
      summary: List current user's scale teams as corrector
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of scale teams as corrector
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/me/slots:
    get:
      operationId: getMySlots
      summary: List current user's slots
      tags:
      - Slots
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of slots
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Slot'
  /v2/me/teams:
    get:
      operationId: getMyTeams
      summary: List current user's teams
      tags:
      - Teams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/notes:
    get:
      tags:
      - Notes
      summary: List all notes
      description: Return all the notes. Requires "Notes manager" or "Advanced notes manager" role.
      operationId: getNotes
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Note'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      tags:
      - Notes
      summary: Create a note
      description: Create a new note. Requires "Notes manager" or "Advanced notes manager" role.
      operationId: createNote
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - note
              properties:
                note:
                  type: object
                  required:
                  - user_id
                  properties:
                    user_id:
                      type: integer
                      description: The recipient user ID
                    subject:
                      type: string
                      description: Note subject line
                    content:
                      type: string
                      description: Note body text
                    kind:
                      type: string
                      enum:
                      - manual
                      - black_hole
                      - school_record
                      description: Type of note
                    approved_at:
                      type: string
                      format: date-time
                      description: Approval timestamp (Advanced notes manager only)
                    approver_id:
                      type: integer
                      description: ID of approving user (Advanced notes manager only)
      responses:
        '201':
          description: Note created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Note'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/notes/{id}:
    get:
      tags:
      - Notes
      summary: Show a note
      description: Return a specific note. Requires "Notes manager" or "Advanced notes manager" role.
      operationId: getNote
      parameters:
      - name: id
        in: path
        required: true
        description: The note ID
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Note'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
      - Notes
      summary: Update a note
      description: Update an existing note. Requires "Notes manager" or "Advanced notes manager" role.
      operationId: updateNote
      parameters:
      - name: id
        in: path
        required: true
        description: The note ID
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                note:
                  type: object
                  properties:
                    user_id:
                      type: integer
                      description: User receiving the note
                    subject:
                      type: string
                      description: Note subject
                    content:
                      type: string
                      description: Note content
                    kind:
                      type: string
                      enum:
                      - manual
                      - black_hole
                      - school_record
                      description: Type of note
                    approved_at:
                      type: string
                      format: date-time
                      description: Approval timestamp (Advanced notes manager only)
                    approver_id:
                      type: integer
                      description: Approver user ID (Advanced notes manager only)
      responses:
        '204':
          description: Note updated successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      tags:
      - Notes
      summary: Replace a note
      description: Replace an existing note. Requires "Notes manager" or "Advanced notes manager" role.
      operationId: replaceNote
      parameters:
      - name: id
        in: path
        required: true
        description: The note ID
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                note:
                  type: object
                  properties:
                    user_id:
                      type: integer
                    subject:
                      type: string
                    content:
                      type: string
                    kind:
                      type: string
                      enum:
                      - manual
                      - black_hole
                      - school_record
                    approved_at:
                      type: string
                      format: date-time
                    approver_id:
                      type: integer
      responses:
        '204':
          description: Note replaced successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      tags:
      - Notes
      summary: Delete a note
      description: Delete a note. Requires appropriate role.
      operationId: deleteNote
      parameters:
      - name: id
        in: path
        required: true
        description: The note ID
        schema:
          type: integer
      responses:
        '204':
          description: Note deleted successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/notions:
    get:
      operationId: getNotions
      summary: Return all notions
      tags:
      - Notions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. One of id, name, created_at, updated_at, slug.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[name]
        in: query
        required: false
        schema:
          type: string
        description: Filter by name.
      - name: filter[slug]
        in: query
        required: false
        schema:
          type: string
        description: Filter by slug.
      - name: range[created_at]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on created_at (min,max).
      - name: range[updated_at]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on updated_at (min,max).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Notion'
        '401':
          description: Unauthorized
    post:
      operationId: createNotion
      summary: Create a notion (admin)
      tags:
      - Notions
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - notion
              properties:
                notion:
                  type: object
                  required:
                  - name
                  properties:
                    name:
                      type: string
                      description: The name (must be unique).
                    tag_ids:
                      type: array
                      items:
                        type: integer
                      description: Associated tag IDs.
                    cursus_ids:
                      type: array
                      items:
                        type: integer
                      description: Associated cursus IDs.
                    subnotions_attributes:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                            description: Subnotion name (must be unique within a notion).
                          attachments_attributes:
                            type: array
                            items:
                              type: object
                              properties:
                                language_id:
                                  type: integer
                                kind:
                                  type: string
                                  enum:
                                  - code
                                  - pdf
                                  - link
                                  - document
                                  - video
      responses:
        '201':
          description: Notion created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notion'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/notions/{id}:
    get:
      operationId: getNotionById
      summary: Return a notion (admin)
      tags:
      - Notions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The notion ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notion'
        '401':
          description: Unauthorized
        '404':
          description: Not found
    patch:
      operationId: updateNotion
      summary: Update a notion (admin)
      tags:
      - Notions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The notion ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notion:
                  type: object
                  properties:
                    name:
                      type: string
                    tag_ids:
                      type: array
                      items:
                        type: integer
                    cursus_ids:
                      type: array
                      items:
                        type: integer
                    subnotions_attributes:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                          name:
                            type: string
                          _destroy:
                            type: string
      responses:
        '200':
          description: Notion updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notion'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: replaceNotion
      summary: Replace a notion (admin)
      tags:
      - Notions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The notion ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notion:
                  type: object
                  properties:
                    name:
                      type: string
                    tag_ids:
                      type: array
                      items:
                        type: integer
                    cursus_ids:
                      type: array
                      items:
                        type: integer
      responses:
        '200':
          description: Notion replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notion'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteNotion
      summary: Delete a notion
      tags:
      - Notions
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The notion ID.
      responses:
        '204':
          description: Notion deleted
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/notions/{notion_id}/subnotions:
    get:
      operationId: getNotionSubnotions
      summary: Return subnotions for a notion
      tags:
      - Subnotions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[name]
        in: query
        required: false
        schema:
          type: string
        description: Filter by name.
      - name: notion_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Subnotion'
        '401':
          description: Unauthorized
        '404':
          description: Notion not found
  /v2/params_project_sessions_rules:
    get:
      operationId: getParamsProjectSessionsRules
      summary: List all params project sessions rules
      description: Requires Advanced tutor role.
      tags:
      - ParamsProjectSessionsRules
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ParamProjectSessionRule'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      operationId: createParamProjectSessionsRule
      summary: Create a param project sessions rule
      description: Requires Advanced tutor role.
      tags:
      - ParamsProjectSessionsRules
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParamProjectSessionRuleCreate'
      responses:
        '201':
          description: Param project sessions rule created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParamProjectSessionRule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/params_project_sessions_rules/{id}:
    get:
      operationId: getParamProjectSessionsRuleById
      summary: Get a param project sessions rule
      description: Requires Advanced tutor role.
      tags:
      - ParamsProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParamProjectSessionRule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateParamProjectSessionsRule
      summary: Update a param project sessions rule
      description: Requires Advanced tutor role.
      tags:
      - ParamsProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParamProjectSessionRuleUpdate'
      responses:
        '204':
          description: Param project sessions rule updated
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceParamProjectSessionsRule
      summary: Replace a param project sessions rule
      tags:
      - ParamsProjectSessionsRules
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParamProjectSessionRuleUpdate'
      responses:
        '204':
          description: Param project sessions rule replaced
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/partnerships/{partnership_id}/users:
    get:
      tags:
      - Users
      summary: List users for a partnership
      description: Return all users in the given partnership.
      operationId: getPartnershipUsers
      parameters:
      - name: partnership_id
        in: path
        required: true
        description: The partnership ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/partnerships_users/{partnerships_user_id}/experiences:
    get:
      operationId: getPartnershipsUserExperiences
      summary: List experiences for a partnerships_user (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: partnerships_user_id
        in: path
        required: true
        schema:
          type: integer
        description: PartnershipsUser ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: PartnershipsUser not found
  /v2/patronages:
    get:
      operationId: getPatronages
      summary: List all patronages (admin)
      tags:
      - Patronages
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of patronages
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Patronage'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createPatronage
      summary: Create a patronage (admin)
      tags:
      - Patronages
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageCreate'
      responses:
        '201':
          description: Patronage created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patronage'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/patronages/{id}:
    get:
      operationId: getPatronageById
      summary: Show a patronage (admin)
      tags:
      - Patronages
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single patronage
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patronage'
        '404':
          description: Not Found
    patch:
      operationId: updatePatronage
      summary: Update a patronage (admin)
      tags:
      - Patronages
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageCreate'
      responses:
        '200':
          description: Patronage updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patronage'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replacePatronage
      summary: Replace a patronage (admin)
      tags:
      - Patronages
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageCreate'
      responses:
        '200':
          description: Patronage replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patronage'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    delete:
      operationId: deletePatronage
      summary: Delete a patronage
      tags:
      - Patronages
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Patronage deleted
        '404':
          description: Not Found
  /v2/patronages/{patronage_id}/patronages_reports:
    get:
      operationId: getPatronagePatronagesReports
      summary: List reports for a patronage (admin)
      tags:
      - PatronagesReports
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: patronage_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of patronage reports
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createPatronagePatronageReport
      summary: Create a report for a patronage (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: patronage_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageReportCreate'
      responses:
        '201':
          description: Patronage report created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/patronages_reports:
    get:
      operationId: getPatronagesReports
      summary: List all patronage reports (admin)
      tags:
      - PatronagesReports
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of patronage reports
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createPatronageReport
      summary: Create a patronage report (admin)
      tags:
      - PatronagesReports
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageReportCreate'
      responses:
        '201':
          description: Patronage report created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/patronages_reports/graph:
    get:
      operationId: getPatronagesReportsGraph
      summary: Graph patronage reports (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: field
        in: query
        schema:
          type: string
        description: Field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: Grouping interval
      responses:
        '200':
          description: Graph data for patronage reports
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
        '403':
          description: Forbidden
  /v2/patronages_reports/{id}:
    get:
      operationId: getPatronageReportById
      summary: Show a patronage report (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single patronage report
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatronageReport'
        '404':
          description: Not Found
    patch:
      operationId: updatePatronageReport
      summary: Update a patronage report (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageReportCreate'
      responses:
        '200':
          description: Patronage report updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatronageReport'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replacePatronageReport
      summary: Replace a patronage report (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageReportCreate'
      responses:
        '200':
          description: Patronage report replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatronageReport'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    delete:
      operationId: deletePatronageReport
      summary: Delete a patronage report
      tags:
      - PatronagesReports
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Patronage report deleted
        '404':
          description: Not Found
  /v2/pools:
    get:
      operationId: getPools
      summary: List all pools (admin)
      tags:
      - Pools
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of pools
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Pool'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/pools/{id}:
    get:
      operationId: getPoolById
      summary: Show a pool (admin)
      tags:
      - Pools
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single pool
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pool'
        '404':
          description: Not Found
  /v2/pools/{id}/points/add:
    post:
      operationId: addPoolPoints
      summary: Add points to a pool (admin)
      tags:
      - Pools
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - points
              properties:
                points:
                  type: integer
                  description: Number of points to add (can be negative)
      responses:
        '200':
          description: Updated pool with new point totals
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pool'
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/pools/{id}/points/remove:
    delete:
      operationId: removePoolPoints
      summary: Remove points from a pool
      tags:
      - Pools
      parameters:
      - name: points
        in: query
        required: true
        schema:
          type: integer
        description: Number of points to remove (converted to absolute value)
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Updated pool with new point totals
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pool'
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/pools/{pool_id}/balances:
    get:
      operationId: getPoolBalances
      summary: List balances for a pool (admin)
      tags:
      - Balances
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: pool_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of pool balances
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Balance'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/pools/{pool_id}/balances/{id}:
    get:
      operationId: getPoolBalanceById
      summary: Show a pool balance (admin)
      tags:
      - Balances
      parameters:
      - name: pool_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single pool balance
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Balance'
        '404':
          description: Not Found
    patch:
      operationId: updatePoolBalance
      summary: Update a pool balance (admin)
      tags:
      - Balances
      parameters:
      - name: pool_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceUpdate'
      responses:
        '200':
          description: Balance updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Balance'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replacePoolBalance
      summary: Replace a pool balance
      tags:
      - Balances
      parameters:
      - name: pool_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceUpdate'
      responses:
        '200':
          description: Balance replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Balance'
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/products:
    get:
      operationId: getProducts
      summary: List all products
      tags:
      - Products
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of products
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        '401':
          description: Unauthorized
    post:
      operationId: createProduct
      summary: Create a product (admin)
      tags:
      - Products
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
      responses:
        '201':
          description: Product created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/products/{id}:
    get:
      operationId: getProductById
      summary: Show a product
      tags:
      - Products
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A single product
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '404':
          description: Not Found
    patch:
      operationId: updateProduct
      summary: Update a product (admin)
      tags:
      - Products
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
      responses:
        '200':
          description: Product updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    put:
      operationId: replaceProduct
      summary: Replace a product (admin)
      tags:
      - Products
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
      responses:
        '200':
          description: Product replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '403':
          description: Forbidden
        '404':
          description: Not Found
    delete:
      operationId: deleteProduct
      summary: Delete a product (admin)
      tags:
      - Products
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Product deleted
        '403':
          description: Forbidden
        '404':
          description: Not Found
  /v2/project_data:
    get:
      operationId: getProjectData
      summary: List all project data
      description: Data for the project graph visualization.
      tags:
      - ProjectData
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectData'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createProjectData
      summary: Create project data
      description: Requires Advanced tutor role and projects scope.
      tags:
      - ProjectData
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectDataCreate'
      responses:
        '201':
          description: Project data created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectData'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/project_data/{id}:
    get:
      operationId: getProjectDataById
      summary: Get project data by ID
      description: Requires Advanced tutor role.
      tags:
      - ProjectData
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectData'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateProjectData
      summary: Update project data
      description: Requires Advanced tutor role.
      tags:
      - ProjectData
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectDataUpdate'
      responses:
        '204':
          description: Project data updated
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceProjectData
      summary: Replace project data
      description: Requires Advanced tutor role.
      tags:
      - ProjectData
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectDataUpdate'
      responses:
        '204':
          description: Project data replaced
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteProjectData
      summary: Delete project data
      tags:
      - ProjectData
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Project data deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions:
    get:
      operationId: getProjectSessions
      summary: List all project sessions
      tags:
      - ProjectSessions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSession'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/project_sessions/graph:
    get:
      operationId: getProjectSessionsGraph
      summary: Get graph data for project sessions
      tags:
      - ProjectSessions
      parameters:
      - name: field
        in: query
        schema:
          type: string
        description: The field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: The interval for grouping
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GraphPoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/project_sessions/{id}:
    get:
      operationId: getProjectSessionById
      summary: Get a project session
      tags:
      - ProjectSessions
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSessionDetail'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions/{project_session_id}/attachments:
    get:
      operationId: getProjectSessionAttachments
      summary: List attachments for a project session
      tags:
      - Attachments
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Attachment'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions/{project_session_id}/attachments/{id}:
    get:
      operationId: getProjectSessionAttachment
      summary: Get an attachment for a project session
      tags:
      - Attachments
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Attachment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions/{project_session_id}/project_data:
    get:
      operationId: getProjectSessionProjectData
      summary: List project data for a project session
      tags:
      - ProjectData
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectData'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions/{project_session_id}/project_sessions_rules:
    get:
      operationId: getProjectSessionProjectSessionsRules
      summary: List project sessions rules for a project session
      description: Requires Advanced tutor role.
      tags:
      - ProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSessionRule'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      operationId: createProjectSessionProjectSessionsRule
      summary: Create a project sessions rule for a project session
      description: Requires Advanced tutor role and projects scope.
      tags:
      - ProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectSessionRuleCreate'
      responses:
        '201':
          description: Project sessions rule created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSessionRule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/project_sessions/{project_session_id}/project_sessions_skills:
    get:
      operationId: getProjectSessionProjectSessionsSkills
      summary: List project sessions skills for a project session
      tags:
      - ProjectSessionsSkills
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSessionSkill'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions/{project_session_id}/project_sessions_skills/{id}:
    get:
      operationId: getProjectSessionProjectSessionsSkillById
      summary: Get a specific project sessions skill for a project session
      tags:
      - ProjectSessionsSkills
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSessionSkill'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions/{project_session_id}/rules:
    get:
      operationId: getProjectSessionRules
      summary: List rules for a project session
      tags:
      - Rules
      x-admin-only: true
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Rule'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      operationId: createProjectSessionRule
      summary: Create a rule for a project session
      tags:
      - Rules
      x-admin-only: true
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RuleCreate'
      responses:
        '201':
          description: Rule created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/project_sessions/{project_session_id}/scale_teams:
    parameters:
    - name: project_session_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getProjectSessionScaleTeams
      summary: List scale teams for a project session
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scale teams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
    post:
      operationId: createProjectSessionScaleTeam
      summary: Create a scale team for a project session
      tags:
      - ScaleTeams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleTeamCreate'
      responses:
        '201':
          description: Scale team created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
  /v2/project_sessions/{project_session_id}/scale_teams/{id}:
    parameters:
    - name: project_session_id
      in: path
      required: true
      schema:
        type: integer
    - name: id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getProjectSessionScaleTeam
      summary: Show a scale team for a project session
      tags:
      - ScaleTeams
      responses:
        '200':
          description: A scale team
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateProjectSessionScaleTeam
      summary: Update a scale team for a project session
      tags:
      - ScaleTeams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleTeamUpdate'
      responses:
        '200':
          description: Scale team updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceProjectSessionScaleTeam
      summary: Replace a scale team for a project session
      tags:
      - ScaleTeams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleTeamUpdate'
      responses:
        '200':
          description: Scale team replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteProjectSessionScaleTeam
      summary: Delete a scale team for a project session
      tags:
      - ScaleTeams
      responses:
        '204':
          description: Scale team deleted
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/project_sessions/{project_session_id}/scales:
    parameters:
    - name: project_session_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getProjectSessionScales
      summary: List scales for a project session
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scales
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleDetail'
  /v2/project_sessions/{project_session_id}/teams:
    get:
      operationId: getProjectSessionTeams
      summary: List teams for a project session
      tags:
      - Teams
      parameters:
      - name: project_session_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/project_sessions_rules:
    get:
      operationId: getProjectSessionsRules
      summary: List all project sessions rules
      description: Requires Advanced tutor role.
      tags:
      - ProjectSessionsRules
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSessionRule'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      operationId: createProjectSessionsRule
      summary: Create a project sessions rule
      description: Requires Advanced tutor role and projects scope.
      tags:
      - ProjectSessionsRules
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectSessionRuleCreate'
      responses:
        '201':
          description: Project sessions rule created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSessionRule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/project_sessions_rules/{id}:
    get:
      operationId: getProjectSessionsRuleById
      summary: Get a project sessions rule
      description: Requires Advanced tutor role.
      tags:
      - ProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSessionRule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateProjectSessionsRule
      summary: Update a project sessions rule
      description: Requires Advanced tutor role and projects scope.
      tags:
      - ProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectSessionRuleUpdate'
      responses:
        '204':
          description: Project sessions rule updated
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceProjectSessionsRule
      summary: Replace a project sessions rule
      tags:
      - ProjectSessionsRules
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectSessionRuleUpdate'
      responses:
        '204':
          description: Project sessions rule replaced
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/project_sessions_rules/{project_sessions_rule_id}/params_project_sessions_rules:
    get:
      operationId: getProjectSessionsRuleParamsProjectSessionsRules
      summary: List params for a project sessions rule
      description: Requires Advanced tutor role.
      tags:
      - ParamsProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: project_sessions_rule_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ParamProjectSessionRule'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      operationId: createProjectSessionsRuleParamProjectSessionsRule
      summary: Create a param for a project sessions rule
      description: Requires Advanced tutor role.
      tags:
      - ParamsProjectSessionsRules
      x-admin-only: true
      parameters:
      - name: project_sessions_rule_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParamProjectSessionRuleCreate'
      responses:
        '201':
          description: Param project sessions rule created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParamProjectSessionRule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/project_sessions_skills:
    get:
      operationId: getProjectSessionsSkills
      summary: List all project sessions skills
      tags:
      - ProjectSessionsSkills
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSessionSkill'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/project_sessions_skills/{id}:
    get:
      operationId: getProjectSessionsSkillById
      summary: Get a project sessions skill
      tags:
      - ProjectSessionsSkills
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSessionSkill'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects:
    get:
      operationId: getProjects
      summary: List all projects
      tags:
      - Projects
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createProject
      summary: Create a project
      description: Requires Advanced tutor role and projects scope.
      tags:
      - Projects
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectCreate'
      responses:
        '201':
          description: Project created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/projects/{id}:
    get:
      operationId: getProjectById
      summary: Get a project
      tags:
      - Projects
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateProject
      summary: Update a project
      description: Requires Advanced tutor role and projects scope.
      tags:
      - Projects
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectUpdate'
      responses:
        '200':
          description: Project updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceProject
      summary: Replace a project
      description: Requires Advanced tutor role and projects scope.
      tags:
      - Projects
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectUpdate'
      responses:
        '200':
          description: Project replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteProject
      summary: Delete a project
      tags:
      - Projects
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Project deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects/{id}/retry:
    patch:
      operationId: retryProject
      summary: Retry a project
      tags:
      - Projects
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Project retried
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      operationId: retryProjectPut
      summary: Retry a project (PUT)
      tags:
      - Projects
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Project retried
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects/{project_id}/attachments:
    get:
      operationId: getProjectAttachments
      summary: List attachments for a project
      tags:
      - Attachments
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Attachment'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      operationId: createProjectAttachment
      summary: Create an attachment for a project
      tags:
      - Attachments
      x-admin-only: true
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AttachmentCreate'
      responses:
        '201':
          description: Attachment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Attachment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/projects/{project_id}/exams:
    parameters:
    - name: project_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getProjectExams
      summary: List exams for a project
      tags:
      - Exams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of exams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Exam'
  /v2/projects/{project_id}/project_sessions:
    get:
      operationId: getProjectProjectSessions
      summary: List project sessions for a project
      tags:
      - ProjectSessions
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSession'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects/{project_id}/project_sessions/graph:
    get:
      operationId: getProjectProjectSessionsGraph
      summary: Get graph data for a project's sessions
      tags:
      - ProjectSessions
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: query
        schema:
          type: string
        description: The field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: The interval for grouping
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GraphPoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects/{project_id}/projects:
    get:
      operationId: getProjectChildren
      summary: List child projects of a project
      tags:
      - Projects
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects/{project_id}/scale_teams:
    parameters:
    - name: project_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getProjectScaleTeams
      summary: List scale teams for a project
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scale teams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/projects/{project_id}/scale_teams/graph:
    get:
      operationId: getProjectScaleTeamsGraph
      summary: Graph data for project scale teams
      tags:
      - ScaleTeams
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/projects/{project_id}/scale_teams/graph/on/{field}:
    get:
      operationId: getProjectScaleTeamsGraphOnField
      summary: Graph data for project scale teams on a specific field
      tags:
      - ScaleTeams
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/projects/{project_id}/scale_teams/graph/on/{field}/by/{interval}:
    get:
      operationId: getProjectScaleTeamsGraphOnFieldByInterval
      summary: Graph data for project scale teams on a field grouped by interval
      tags:
      - ScaleTeams
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - name: interval
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/projects/{project_id}/scales:
    parameters:
    - name: project_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getProjectScales
      summary: List scales for a project
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scales
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleDetail'
  /v2/projects/{project_id}/slots:
    parameters:
    - name: project_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getProjectSlots
      summary: List slots for a project
      tags:
      - Slots
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of slots
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Slot'
  /v2/projects/{project_id}/slots/graph:
    get:
      operationId: getProjectSlotsGraph
      summary: Graph data for project slots
      tags:
      - Slots
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/projects/{project_id}/slots/graph/on/{field}:
    get:
      operationId: getProjectSlotsGraphOnField
      summary: Graph data for project slots on a specific field
      tags:
      - Slots
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/projects/{project_id}/slots/graph/on/{field}/by/{interval}:
    get:
      operationId: getProjectSlotsGraphOnFieldByInterval
      summary: Graph data for project slots on a field grouped by interval
      tags:
      - Slots
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - name: interval
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/projects/{project_id}/teams:
    get:
      operationId: getProjectTeams
      summary: List teams for a project
      tags:
      - Teams
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects/{project_id}/teams/graph:
    get:
      operationId: getProjectTeamsGraph
      summary: Get graph data for teams on a project
      tags:
      - Teams
      parameters:
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: query
        schema:
          type: string
        description: The field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: The interval for grouping
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GraphPoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects/{project_id}/users:
    get:
      tags:
      - Users
      summary: List users for a project
      description: Return all users working on the given project.
      operationId: getProjectUsers
      parameters:
      - name: project_id
        in: path
        required: true
        description: The project ID or slug
        schema:
          type: string
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/projects_users/{projects_user_id}/experiences:
    get:
      operationId: getProjectsUserExperiences
      summary: List experiences for a projects_user (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: projects_user_id
        in: path
        required: true
        schema:
          type: integer
        description: ProjectsUser ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: ProjectsUser not found
  /v2/quests:
    get:
      operationId: getQuests
      summary: List all quests (admin)
      tags:
      - Quests
      x-admin-only: true
      parameters:
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - id
          - name
          - slug
          - kind
          - internal_name
          - duration
          - ancestry
          - description
          - guild_size
          - guild_prct
          - cursus_id
          - campus_id
          - created_at
          - updated_at
          - grade_id
          - position
          - mails
          - certificate_id
          - unlock_all_projects
          - tries_number
          - success_number
          - close_on_fail
          - mails_from
        description: Sort field. Prefix with `-` for descending. Default `id`.
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by quest ID (comma-separated for multiple).
      - name: filter[kind]
        in: query
        schema:
          type: string
          enum:
          - main
          - optional
          - mandatory
          - repeatable
          - cursus_version
        description: Filter by kind.
      - name: filter[cursus_id]
        in: query
        schema:
          type: string
        description: Filter by cursus ID.
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID.
      - name: range[id]
        in: query
        schema:
          type: string
        description: Range filter on ID.
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: Range filter on created_at.
      responses:
        '200':
          description: A list of quests.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
    post:
      operationId: createQuest
      summary: Create a quest (admin)
      tags:
      - Quests
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestCreate'
      responses:
        '201':
          description: The created quest.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/quests/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Quest ID.
    get:
      operationId: getQuestById
      summary: Show a quest (admin)
      tags:
      - Quests
      x-admin-only: true
      responses:
        '200':
          description: The quest.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateQuest
      summary: Update a quest (admin)
      tags:
      - Quests
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestUpdate'
      responses:
        '200':
          description: The updated quest.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceQuest
      summary: Replace a quest (admin)
      tags:
      - Quests
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestUpdate'
      responses:
        '200':
          description: The replaced quest.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteQuest
      summary: Delete a quest
      tags:
      - Quests
      responses:
        '204':
          description: Quest deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/quests/{quest_id}/quests_users:
    get:
      operationId: getQuestQuestsUsers
      summary: List quest-user associations for a quest
      tags:
      - QuestsUsers
      parameters:
      - name: quest_id
        in: path
        required: true
        schema:
          type: integer
        description: Quest ID.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID.
      - name: filter[validated]
        in: query
        schema:
          type: string
        description: Filter by validated status.
      responses:
        '200':
          description: A list of quest-user associations for the quest.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuestUser'
        '401':
          description: Unauthorized.
  /v2/quests/{quest_id}/users:
    get:
      tags:
      - Users
      summary: List users for a quest
      description: Return all users in the given quest.
      operationId: getQuestUsers
      parameters:
      - name: quest_id
        in: path
        required: true
        description: The quest ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/quests_users:
    get:
      operationId: getQuestsUsers
      summary: List all quest-user associations
      tags:
      - QuestsUsers
      parameters:
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - id
          - quest_id
          - user_id
          - end_at
          - validated_at
          - prct
          - advancement
          - created_at
          - updated_at
        description: Sort field. Default `-id`.
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by ID.
      - name: filter[quest_id]
        in: query
        schema:
          type: string
        description: Filter by quest ID.
      - name: filter[user_id]
        in: query
        schema:
          type: string
        description: Filter by user ID.
      - name: filter[campus_id]
        in: query
        schema:
          type: string
        description: Filter by campus ID.
      - name: filter[validated]
        in: query
        schema:
          type: string
        description: Filter by validated status.
      - name: filter[end]
        in: query
        schema:
          type: string
        description: Filter by end status.
      - name: range[validated_at]
        in: query
        schema:
          type: string
        description: Range filter on validated_at.
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: Range filter on created_at.
      responses:
        '200':
          description: A list of quest-user associations.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuestUser'
        '401':
          description: Unauthorized.
    post:
      operationId: createQuestUser
      summary: Create a quest-user association (admin)
      tags:
      - QuestsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestUserCreate'
      responses:
        '201':
          description: The created quest-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/quests_users/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: QuestUser ID.
    get:
      operationId: getQuestUserById
      summary: Show a quest-user association (admin)
      tags:
      - QuestsUsers
      x-admin-only: true
      responses:
        '200':
          description: The quest-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateQuestUser
      summary: Update a quest-user association (admin)
      tags:
      - QuestsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestUserUpdate'
      responses:
        '200':
          description: The updated quest-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceQuestUser
      summary: Replace a quest-user association (admin)
      tags:
      - QuestsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestUserUpdate'
      responses:
        '200':
          description: The replaced quest-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteQuestUser
      summary: Delete a quest-user association
      tags:
      - QuestsUsers
      responses:
        '204':
          description: QuestUser deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/reports/{report_id}/patronages_reports:
    get:
      operationId: getReportPatronagesReports
      summary: List patronage reports for a report (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: report_id
        in: path
        required: true
        schema:
          type: integer
        description: The report ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: A list of patronage reports
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createReportPatronageReport
      summary: Create a patronage report for a report (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: report_id
        in: path
        required: true
        schema:
          type: integer
        description: The report ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageReportCreate'
      responses:
        '201':
          description: Patronage report created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/roles:
    get:
      operationId: getRoles
      summary: List all roles
      tags:
      - Roles
      parameters:
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - id
          - name
          - description
          - created_at
          - updated_at
        description: Sort field. Prefix with `-` for descending. Default `-id`.
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by role ID (comma-separated for multiple).
      - name: filter[name]
        in: query
        schema:
          type: string
        description: Filter by name.
      - name: range[id]
        in: query
        schema:
          type: string
        description: Range filter on ID.
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: Range filter on created_at.
      responses:
        '200':
          description: A list of roles.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Role'
        '401':
          description: Unauthorized.
    post:
      operationId: createRole
      summary: Create a role (admin)
      tags:
      - Roles
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleCreate'
      responses:
        '201':
          description: The created role.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/roles/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Role ID.
    get:
      operationId: getRoleById
      summary: Show a role (admin)
      tags:
      - Roles
      x-admin-only: true
      responses:
        '200':
          description: The role.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateRole
      summary: Update a role (admin)
      tags:
      - Roles
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleUpdate'
      responses:
        '200':
          description: The updated role.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceRole
      summary: Replace a role (admin)
      tags:
      - Roles
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleUpdate'
      responses:
        '200':
          description: The replaced role.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteRole
      summary: Delete a role
      tags:
      - Roles
      responses:
        '204':
          description: Role deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/roles/{role_id}/roles_entities:
    get:
      operationId: getRoleRolesEntities
      summary: List role-entity associations for a role
      tags:
      - RolesEntities
      parameters:
      - name: role_id
        in: path
        required: true
        schema:
          type: integer
        description: Role ID.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[entity_type]
        in: query
        schema:
          type: string
        description: Filter by entity type.
      responses:
        '200':
          description: A list of role-entity associations for the role.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RoleEntity'
        '401':
          description: Unauthorized.
  /v2/roles_entities:
    get:
      operationId: getRolesEntities
      summary: List all role-entity associations
      tags:
      - RolesEntities
      parameters:
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - id
          - role_id
          - entity_id
          - expires_at
          - created_at
          - updated_at
          - entity_type
        description: Sort field. Default `-id`.
      - name: filter[id]
        in: query
        schema:
          type: string
        description: Filter by ID.
      - name: filter[role_id]
        in: query
        schema:
          type: string
        description: Filter by role ID.
      - name: filter[entity_id]
        in: query
        schema:
          type: string
        description: Filter by entity ID.
      - name: filter[entity_type]
        in: query
        schema:
          type: string
        description: Filter by entity type.
      - name: filter[expires]
        in: query
        schema:
          type: string
        description: Filter by expiry status.
      - name: range[expires_at]
        in: query
        schema:
          type: string
        description: Range filter on expires_at.
      - name: range[created_at]
        in: query
        schema:
          type: string
        description: Range filter on created_at.
      responses:
        '200':
          description: A list of role-entity associations.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RoleEntity'
        '401':
          description: Unauthorized.
    post:
      operationId: createRoleEntity
      summary: Create a role-entity association (admin)
      tags:
      - RolesEntities
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleEntityCreate'
      responses:
        '201':
          description: The created role-entity association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleEntity'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/roles_entities/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: RoleEntity ID.
    get:
      operationId: getRoleEntityById
      summary: Show a role-entity association (admin)
      tags:
      - RolesEntities
      x-admin-only: true
      responses:
        '200':
          description: The role-entity association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleEntity'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateRoleEntity
      summary: Update a role-entity association (admin)
      tags:
      - RolesEntities
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleEntityUpdate'
      responses:
        '200':
          description: The updated role-entity association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleEntity'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceRoleEntity
      summary: Replace a role-entity association (admin)
      tags:
      - RolesEntities
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleEntityUpdate'
      responses:
        '200':
          description: The replaced role-entity association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleEntity'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteRoleEntity
      summary: Delete a role-entity association
      tags:
      - RolesEntities
      responses:
        '204':
          description: RoleEntity deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/rules:
    get:
      operationId: getRules
      summary: List rules
      tags:
      - Rules
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Rule'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createRule
      summary: Create a rule
      tags:
      - Rules
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RuleCreate'
      responses:
        '201':
          description: Rule created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/rules/{id}:
    get:
      operationId: getRule
      summary: Get a rule
      tags:
      - Rules
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateRule
      summary: Update a rule
      tags:
      - Rules
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RuleCreate'
      responses:
        '200':
          description: Rule updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceRule
      summary: Replace a rule
      tags:
      - Rules
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RuleCreate'
      responses:
        '200':
          description: Rule replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteRule
      summary: Delete a rule
      tags:
      - Rules
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Rule deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/scale_teams:
    get:
      operationId: getScaleTeams
      summary: List all scale teams
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of scale teams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
    post:
      operationId: createScaleTeam
      summary: Create a scale team
      tags:
      - ScaleTeams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleTeamCreate'
      responses:
        '201':
          description: Scale team created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
  /v2/scale_teams/graph:
    get:
      operationId: getScaleTeamsGraph
      summary: Graph data for scale teams
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/scale_teams/graph/on/{field}:
    get:
      operationId: getScaleTeamsGraphOnField
      summary: Graph data for scale teams on a specific field
      tags:
      - ScaleTeams
      parameters:
      - name: field
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/scale_teams/graph/on/{field}/by/{interval}:
    get:
      operationId: getScaleTeamsGraphOnFieldByInterval
      summary: Graph data for scale teams on a field grouped by interval
      tags:
      - ScaleTeams
      parameters:
      - name: field
        in: path
        required: true
        schema:
          type: string
      - name: interval
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/scale_teams/multiple_create:
    post:
      operationId: multipleCreateScaleTeams
      summary: Create multiple scale teams at once
      tags:
      - ScaleTeams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                scale_teams:
                  type: array
                  items:
                    $ref: '#/components/schemas/ScaleTeamCreateItem'
      responses:
        '201':
          description: Scale teams created
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/scale_teams/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getScaleTeam
      summary: Show a scale team
      tags:
      - ScaleTeams
      responses:
        '200':
          description: A scale team
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateScaleTeam
      summary: Update a scale team
      tags:
      - ScaleTeams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleTeamUpdate'
      responses:
        '200':
          description: Scale team updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceScaleTeam
      summary: Replace a scale team
      tags:
      - ScaleTeams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleTeamUpdate'
      responses:
        '200':
          description: Scale team replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleTeam'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteScaleTeam
      summary: Delete a scale team
      description: Admin-only. Destroy a scale team.
      tags:
      - ScaleTeams
      responses:
        '204':
          description: Scale team deleted
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/scales:
    get:
      operationId: getScales
      summary: List all scales
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of scales
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleDetail'
    post:
      operationId: createScale
      summary: Create a scale
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleCreate'
      responses:
        '201':
          description: Scale created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleDetail'
  /v2/scales/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getScale
      summary: Show a scale
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      responses:
        '200':
          description: A scale
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleDetail'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateScale
      summary: Update a scale
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleCreate'
      responses:
        '200':
          description: Scale updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleDetail'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceScale
      summary: Replace a scale
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleCreate'
      responses:
        '200':
          description: Scale replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleDetail'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteScale
      summary: Delete a scale
      tags:
      - Scales
      responses:
        '204':
          description: Scale deleted
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/scores:
    get:
      operationId: getScores
      summary: Return all scores (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. One of id, coalitions_user_id, calculation_id, reason, created_at, updated_at, coalition_id,
          scoreable_id, scoreable_type, value.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[coalition_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by coalition ID(s).
      - name: filter[coalitions_user_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by coalitions_user ID(s).
      - name: filter[scoreable_type]
        in: query
        required: false
        schema:
          type: string
        description: Filter by scoreable type.
      - name: range[value]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on value (min,max).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
  /v2/scores/{id}:
    get:
      operationId: getScoreById
      summary: Return a score (admin)
      tags:
      - Scores
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The score ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Score'
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/skills:
    get:
      operationId: getSkills
      summary: Return all skills
      tags:
      - Skills
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. One of id, name, created_at, updated_at, slug.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[name]
        in: query
        required: false
        schema:
          type: string
        description: Filter by name.
      - name: filter[slug]
        in: query
        required: false
        schema:
          type: string
        description: Filter by slug.
      - name: range[id]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on id (min,max).
      - name: range[created_at]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on created_at (min,max).
      - name: range[updated_at]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on updated_at (min,max).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Skill'
        '401':
          description: Unauthorized
    post:
      operationId: createSkill
      summary: Create a skill (admin)
      tags:
      - Skills
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - skill
              properties:
                skill:
                  type: object
                  required:
                  - name
                  properties:
                    name:
                      type: string
                      description: The name (must be unique).
      responses:
        '201':
          description: Skill created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Skill'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/skills/{id}:
    get:
      operationId: getSkillById
      summary: Return a skill
      tags:
      - Skills
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The skill ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Skill'
        '401':
          description: Unauthorized
        '404':
          description: Not found
    patch:
      operationId: updateSkill
      summary: Update a skill (admin)
      tags:
      - Skills
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The skill ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                skill:
                  type: object
                  properties:
                    name:
                      type: string
                      description: The name (must be unique).
      responses:
        '200':
          description: Skill updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Skill'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: replaceSkill
      summary: Replace a skill (admin)
      tags:
      - Skills
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The skill ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                skill:
                  type: object
                  properties:
                    name:
                      type: string
                      description: The name (must be unique).
      responses:
        '200':
          description: Skill replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Skill'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteSkill
      summary: Delete a skill (admin)
      tags:
      - Skills
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The skill ID.
      responses:
        '204':
          description: Skill deleted
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/skills/{skill_id}/experiences:
    get:
      operationId: getSkillExperiences
      summary: List experiences for a skill (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: skill_id
        in: path
        required: true
        schema:
          type: integer
        description: Skill ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Skill not found
  /v2/skills/{skill_id}/project_sessions_skills:
    get:
      operationId: getSkillProjectSessionsSkills
      summary: List project sessions skills for a skill
      tags:
      - ProjectSessionsSkills
      parameters:
      - name: skill_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSessionSkill'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/slots:
    get:
      operationId: getSlots
      summary: List all evaluation slots
      description: Slots represent time intervals when a user is available to evaluate.
      tags:
      - Slots
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Paginated list of slots
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Slot'
    post:
      operationId: createSlot
      summary: Create an evaluation slot
      tags:
      - Slots
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SlotCreate'
      responses:
        '201':
          description: Slot created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Slot'
  /v2/slots/graph:
    get:
      operationId: getSlotsGraph
      summary: Graph data for slots
      tags:
      - Slots
      parameters:
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/slots/graph/on/{field}:
    get:
      operationId: getSlotsGraphOnField
      summary: Graph data for slots on a specific field
      tags:
      - Slots
      parameters:
      - name: field
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/slots/graph/on/{field}/by/{interval}:
    get:
      operationId: getSlotsGraphOnFieldByInterval
      summary: Graph data for slots on a field grouped by interval
      tags:
      - Slots
      parameters:
      - name: field
        in: path
        required: true
        schema:
          type: string
      - name: interval
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/slots/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getSlot
      summary: Show a slot
      tags:
      - Slots
      responses:
        '200':
          description: A slot
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Slot'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateSlot
      summary: Update a slot
      tags:
      - Slots
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SlotCreate'
      responses:
        '200':
          description: Slot updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Slot'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceSlot
      summary: Replace a slot
      tags:
      - Slots
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SlotCreate'
      responses:
        '200':
          description: Slot replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Slot'
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteSlot
      summary: Delete a slot
      tags:
      - Slots
      responses:
        '204':
          description: Slot deleted
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/staff:
    get:
      tags:
      - Staff
      summary: List all staff users
      description: Return all staff users. Requires "42network" role.
      operationId: getStaff
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/subnotions:
    get:
      operationId: getSubnotions
      summary: Return all subnotions
      tags:
      - Subnotions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: 'Sort field. One of id, notion_id, name, created_at, updated_at, slug, position.

          '
      - name: filter[id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by ID(s).
      - name: filter[notion_id]
        in: query
        required: false
        schema:
          type: string
        description: Filter by notion ID(s).
      - name: filter[name]
        in: query
        required: false
        schema:
          type: string
        description: Filter by name.
      - name: filter[slug]
        in: query
        required: false
        schema:
          type: string
        description: Filter by slug.
      - name: filter[position]
        in: query
        required: false
        schema:
          type: string
        description: Filter by position.
      - name: range[position]
        in: query
        required: false
        schema:
          type: string
        description: Range filter on position (min,max).
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Subnotion'
        '401':
          description: Unauthorized
    post:
      operationId: createSubnotion
      summary: Create a subnotion (admin)
      tags:
      - Subnotions
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - subnotion
              properties:
                subnotion:
                  type: object
                  required:
                  - name
                  properties:
                    name:
                      type: string
                      description: The name (must be unique within a notion).
                    notion_id:
                      type: integer
                      description: The notion ID.
                    attachments_attributes:
                      type: array
                      items:
                        type: object
                        properties:
                          language_id:
                            type: integer
                            description: The language ID.
                          kind:
                            type: string
                            enum:
                            - code
                            - pdf
                            - link
                            - document
                            - video
                            description: The attachment kind.
                          untranslatable:
                            type: boolean
                            default: false
                            description: Whether the attachment is untranslatable.
      responses:
        '201':
          description: Subnotion created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subnotion'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/subnotions/{id}:
    get:
      operationId: getSubnotionById
      summary: Return a subnotion (admin)
      tags:
      - Subnotions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The subnotion ID.
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subnotion'
        '401':
          description: Unauthorized
        '404':
          description: Not found
    patch:
      operationId: updateSubnotion
      summary: Update a subnotion (admin)
      tags:
      - Subnotions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The subnotion ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                subnotion:
                  type: object
                  properties:
                    name:
                      type: string
                    notion_id:
                      type: integer
                    attachments_attributes:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                          language_id:
                            type: integer
                          kind:
                            type: string
                            enum:
                            - code
                            - pdf
                            - link
                            - document
                            - video
                          _destroy:
                            type: string
      responses:
        '200':
          description: Subnotion updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subnotion'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: replaceSubnotion
      summary: Replace a subnotion (admin)
      tags:
      - Subnotions
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The subnotion ID.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                subnotion:
                  type: object
                  properties:
                    name:
                      type: string
                    notion_id:
                      type: integer
      responses:
        '200':
          description: Subnotion replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subnotion'
        '401':
          description: Unauthorized
        '404':
          description: Not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteSubnotion
      summary: Delete a subnotion
      tags:
      - Subnotions
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: The subnotion ID.
      responses:
        '204':
          description: Subnotion deleted
        '401':
          description: Unauthorized
        '404':
          description: Not found
  /v2/tags/{tag_id}/notions:
    get:
      operationId: getTagNotions
      summary: Return notions for a tag
      tags:
      - Notions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: tag_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Notion'
        '401':
          description: Unauthorized
        '404':
          description: Tag not found
  /v2/tags/{tag_id}/tags_users:
    get:
      operationId: getTagTagsUsers
      summary: List user associations for a tag
      tags:
      - TagsUsers
      parameters:
      - name: tag_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TagUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/tags_users:
    get:
      operationId: getTagsUsers
      summary: List tag-user associations
      tags:
      - TagsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TagUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createTagsUser
      summary: Create a tag-user association
      tags:
      - TagsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagUserCreate'
      responses:
        '201':
          description: Association created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/tags_users/{id}:
    get:
      operationId: getTagsUser
      summary: Get a tag-user association
      tags:
      - TagsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateTagsUser
      summary: Update a tag-user association
      tags:
      - TagsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagUserCreate'
      responses:
        '200':
          description: Association updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceTagsUser
      summary: Replace a tag-user association
      tags:
      - TagsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagUserCreate'
      responses:
        '200':
          description: Association replaced
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteTagsUser
      summary: Delete a tag-user association
      tags:
      - TagsUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Association deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/teams:
    get:
      operationId: getTeams
      summary: List all teams
      tags:
      - Teams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createTeam
      summary: Create a team
      tags:
      - Teams
      x-user-scope: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamCreate'
      responses:
        '201':
          description: Team created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/teams/graph:
    get:
      operationId: getTeamsGraph
      summary: Get graph data for teams
      tags:
      - Teams
      parameters:
      - name: field
        in: query
        schema:
          type: string
        description: The field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: The interval for grouping
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GraphPoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/teams/{id}:
    get:
      operationId: getTeamById
      summary: Get a team
      tags:
      - Teams
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamDetail'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateTeam
      summary: Update a team
      tags:
      - Teams
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamUpdate'
      responses:
        '204':
          description: Team updated
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceTeam
      summary: Replace a team
      tags:
      - Teams
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamUpdate'
      responses:
        '204':
          description: Team replaced
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteTeam
      summary: Delete a team
      tags:
      - Teams
      x-user-scope: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Team deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/teams/{id}/reset_team_uploads:
    post:
      operationId: resetTeamUploads
      summary: Reset team uploads
      tags:
      - Teams
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Team uploads reset
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/teams/{team_id}/teams_users:
    get:
      operationId: getTeamTeamsUsers
      summary: List teams users for a team
      tags:
      - TeamsUsers
      parameters:
      - name: team_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamsUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/teams/{team_id}/users:
    get:
      tags:
      - Users
      summary: List users for a team
      description: Return all users in the given team.
      operationId: getTeamUsers
      parameters:
      - name: team_id
        in: path
        required: true
        description: The team ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/teams_users:
    get:
      operationId: getTeamsUsers
      summary: List all teams users
      tags:
      - TeamsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamsUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createTeamsUser
      summary: Create a teams user
      description: Requires Tutor role.
      tags:
      - TeamsUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamsUserCreate'
      responses:
        '201':
          description: Teams user created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamsUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/teams_users/{id}:
    get:
      operationId: getTeamsUserById
      summary: Get a teams user
      description: Requires admin access.
      tags:
      - TeamsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamsUser'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateTeamsUser
      summary: Update a teams user
      description: Requires admin access.
      tags:
      - TeamsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamsUserUpdate'
      responses:
        '204':
          description: Teams user updated
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      operationId: replaceTeamsUser
      summary: Replace a teams user
      description: Requires admin access.
      tags:
      - TeamsUsers
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamsUserUpdate'
      responses:
        '204':
          description: Teams user replaced
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    delete:
      operationId: deleteTeamsUser
      summary: Delete a teams user
      tags:
      - TeamsUsers
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Teams user deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/titles:
    get:
      operationId: getTitles
      summary: List all titles
      tags:
      - Titles
      responses:
        '200':
          description: A list of titles.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Title'
        '401':
          description: Unauthorized.
    post:
      operationId: createTitle
      summary: Create a title (admin)
      tags:
      - Titles
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TitleCreate'
      responses:
        '201':
          description: The created title.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Title'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/titles/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Title ID.
    get:
      operationId: getTitleById
      summary: Show a title (admin)
      tags:
      - Titles
      x-admin-only: true
      responses:
        '200':
          description: The title.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Title'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateTitle
      summary: Update a title (admin)
      tags:
      - Titles
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TitleUpdate'
      responses:
        '200':
          description: The updated title.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Title'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceTitle
      summary: Replace a title (admin)
      tags:
      - Titles
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TitleUpdate'
      responses:
        '200':
          description: The replaced title.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Title'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteTitle
      summary: Delete a title
      tags:
      - Titles
      responses:
        '204':
          description: Title deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/titles/{title_id}/achievements:
    get:
      operationId: getTitleAchievements
      summary: List achievements for a title
      tags:
      - Achievements
      parameters:
      - name: title_id
        in: path
        required: true
        schema:
          type: string
        description: Title ID or slug.
      responses:
        '200':
          description: A list of achievements for the title.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Achievement'
        '401':
          description: Unauthorized.
  /v2/titles/{title_id}/titles_users:
    get:
      operationId: getTitleTitlesUsers
      summary: List title-user associations for a title
      tags:
      - TitlesUsers
      parameters:
      - name: title_id
        in: path
        required: true
        schema:
          type: integer
        description: Title ID.
      responses:
        '200':
          description: A list of title-user associations for the title.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TitleUser'
        '401':
          description: Unauthorized.
  /v2/titles/{title_id}/users:
    get:
      tags:
      - Users
      summary: List users for a title
      description: Return all users who hold the given title.
      operationId: getTitleUsers
      parameters:
      - name: title_id
        in: path
        required: true
        description: The title ID
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/titles_users:
    get:
      operationId: getTitlesUsers
      summary: List all title-user associations
      tags:
      - TitlesUsers
      responses:
        '200':
          description: A list of title-user associations.
          headers:
            X-Total:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TitleUser'
        '401':
          description: Unauthorized.
    post:
      operationId: createTitleUser
      summary: Create a title-user association (admin)
      tags:
      - TitlesUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TitleUserCreate'
      responses:
        '201':
          description: The created title-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TitleUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/titles_users/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: TitleUser ID.
    get:
      operationId: getTitleUserById
      summary: Show a title-user association (admin)
      tags:
      - TitlesUsers
      x-admin-only: true
      responses:
        '200':
          description: The title-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TitleUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateTitleUser
      summary: Update a title-user association (admin)
      tags:
      - TitlesUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TitleUserUpdate'
      responses:
        '200':
          description: The updated title-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TitleUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceTitleUser
      summary: Replace a title-user association (admin)
      tags:
      - TitlesUsers
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TitleUserUpdate'
      responses:
        '200':
          description: The replaced title-user association.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TitleUser'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteTitleUser
      summary: Delete a title-user association (admin)
      tags:
      - TitlesUsers
      x-admin-only: true
      responses:
        '204':
          description: TitleUser deleted.
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/transactions:
    get:
      operationId: getTransactions
      summary: List all transactions (admin)
      tags:
      - Transactions
      x-admin-only: true
      responses:
        '200':
          description: A list of transactions.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
    post:
      operationId: createTransaction
      summary: Create a transaction (admin)
      tags:
      - Transactions
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                transaction:
                  type: object
      responses:
        '201':
          description: The created transaction.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/transactions/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Transaction ID.
    get:
      operationId: getTransactionById
      summary: Show a transaction (admin)
      tags:
      - Transactions
      x-admin-only: true
      responses:
        '200':
          description: The transaction.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteTransaction
      summary: Delete a transaction
      tags:
      - Transactions
      responses:
        '204':
          description: Transaction deleted.
        '401':
          description: Unauthorized.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/translations:
    get:
      operationId: getTranslations
      summary: List all translations
      tags:
      - Translations
      responses:
        '200':
          description: A list of translations.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Translation'
        '401':
          description: Unauthorized.
    post:
      operationId: createTranslation
      summary: Create a translation (admin)
      tags:
      - Translations
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                translation:
                  type: object
      responses:
        '201':
          description: The created translation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Translation'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '422':
          description: Unprocessable Entity.
  /v2/translations/upload:
    post:
      operationId: uploadTranslation
      summary: Upload a translation file
      tags:
      - Translations
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Translation file to upload.
      responses:
        '201':
          description: Translation uploaded.
        '401':
          description: Unauthorized.
        '422':
          description: Unprocessable Entity.
  /v2/translations/{id}:
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Translation ID.
    get:
      operationId: getTranslationById
      summary: Show a translation (admin)
      tags:
      - Translations
      x-admin-only: true
      responses:
        '200':
          description: The translation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Translation'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateTranslation
      summary: Update a translation (admin)
      tags:
      - Translations
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                translation:
                  type: object
      responses:
        '200':
          description: The updated translation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Translation'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceTranslation
      summary: Replace a translation (admin)
      tags:
      - Translations
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                translation:
                  type: object
      responses:
        '200':
          description: The replaced translation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Translation'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    delete:
      operationId: deleteTranslation
      summary: Delete a translation (admin)
      tags:
      - Translations
      x-admin-only: true
      responses:
        '204':
          description: Translation deleted.
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/user_candidatures:
    get:
      tags:
      - UserCandidatures
      summary: List all user candidatures
      description: Return all user candidatures. Admin only (requires "Basic staff" role).
      operationId: getUserCandidatures
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserCandidature'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      tags:
      - UserCandidatures
      summary: Create a user candidature
      description: Create a new user candidature. Admin only (requires "Advanced staff" or "Advanced tutor" role).
      operationId: createUserCandidature
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCandidatureCreateRequest'
      responses:
        '201':
          description: User candidature created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCandidature'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/user_candidatures/{id}:
    get:
      tags:
      - UserCandidatures
      summary: Show a user candidature
      description: Return a specific user candidature. Admin only (requires "Basic staff" role).
      operationId: getUserCandidature
      parameters:
      - name: id
        in: path
        required: true
        description: The candidature ID
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCandidature'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
      - UserCandidatures
      summary: Update a user candidature
      description: Update a user candidature by ID. Admin only (requires appropriate role).
      operationId: updateUserCandidatureById
      parameters:
      - name: id
        in: path
        required: true
        description: The candidature ID
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCandidatureUpdateRequest'
      responses:
        '204':
          description: User candidature updated successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      tags:
      - UserCandidatures
      summary: Replace a user candidature
      description: Replace a user candidature by ID.
      operationId: replaceUserCandidatureById
      parameters:
      - name: id
        in: path
        required: true
        description: The candidature ID
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCandidatureUpdateRequest'
      responses:
        '204':
          description: User candidature replaced successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/users:
    get:
      tags:
      - Users
      summary: List all users
      description: Return all the users.
      operationId: getUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      tags:
      - Users
      summary: Create a user
      description: Create a new user in the 42 ecosystem. Login is auto-generated if not provided. Assigns to piscine-c cursus
        by default if none specified. Admin only (Advanced tutor role).
      operationId: createUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreateRequest'
      responses:
        '201':
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/users/graph/{field}/{interval}:
    get:
      tags:
      - Users
      summary: Graph users data
      description: Return grouped temporal data on users. Counts occurrences on a particular field by a specific interval,
        from first occurrence to present. Admin only (requires appropriate role).
      operationId: getUsersGraph
      parameters:
      - name: field
        in: path
        required: true
        description: The field to group on
        schema:
          type: string
          enum:
          - created_at
          - updated_at
          default: created_at
      - name: interval
        in: path
        required: true
        description: The time interval for grouping
        schema:
          type: string
          enum:
          - day
          - week
          - month
          - quarter
          - year
          - hour_of_day
          - day_of_week
          - day_of_month
          - month_of_year
          default: month_of_year
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response with date/interval keys and count values
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: integer
                example:
                  '2017-11-22': 126
                  '2017-11-23': 84
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/users/{id}:
    get:
      tags:
      - Users
      summary: Show a user
      description: Get detailed information about a specific user including cursus, projects, achievements, campus, and other
        nested resources.
      operationId: getUser
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
      - Users
      summary: Update a user
      description: Update a user's attributes. Admin only (Advanced tutor role).
      operationId: updateUser
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
      responses:
        '204':
          description: User updated successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      tags:
      - Users
      summary: Replace a user
      description: Replace a user's attributes. Admin only (Advanced tutor role).
      operationId: replaceUser
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
      responses:
        '204':
          description: User replaced successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/users/{id}/alumnize:
    post:
      tags:
      - Users
      summary: Alumnize a user
      description: Mark a user as alumni. Admin only (requires "42network" role).
      operationId: alumnizeUser
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '200':
          description: User alumnized successfully
          content:
            application/json:
              schema:
                type: object
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{id}/correction_points/add:
    post:
      tags:
      - Users
      summary: Add correction points
      description: Add evaluation points to a user. Admin only (Advanced tutor role).
      operationId: addUserCorrectionPoints
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - reason
              properties:
                reason:
                  type: string
                  description: The reason for adding evaluation points
                amount:
                  type: integer
                  description: The number of points to add (defaults to 1)
                  default: 1
      responses:
        '200':
          description: Correction points added successfully
          content:
            application/json:
              schema:
                type: object
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/users/{id}/correction_points/remove:
    delete:
      tags:
      - Users
      summary: Remove correction points
      description: Remove evaluation points from a user. Requires Advanced tutor role.
      operationId: removeUserCorrectionPoints
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      - name: reason
        in: query
        required: true
        description: The reason for removing evaluation points
        schema:
          type: string
      - name: amount
        in: query
        required: false
        description: The number of points to remove (defaults to 1)
        schema:
          type: integer
          default: 1
      responses:
        '204':
          description: Correction points removed successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{id}/dealumnize:
    post:
      tags:
      - Users
      summary: Dealumnize a user
      description: Remove alumni status from a user. Admin only (requires "42network" role).
      operationId: dealumnizeUser
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '200':
          description: User dealumnized successfully
          content:
            application/json:
              schema:
                type: object
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{id}/exam:
    get:
      tags:
      - Users
      summary: Get user exam status
      description: 'Show the exam status for the requested user. DEPRECATED: This endpoint will be removed. Requires Advanced
        tutor role.'
      operationId: getUserExam
      deprecated: true
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '200':
          description: Successful response with exam status
          content:
            application/json:
              schema:
                type: object
                description: Exam status object (structure not fully documented)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{id}/free_past_agu:
    post:
      tags:
      - Users
      summary: Free past AGU for a user
      description: Free a past AGU (Annual General User) for the user. Admin only (requires appropriate role).
      operationId: freeUserPastAgu
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '200':
          description: Operation completed successfully
          content:
            application/json:
              schema:
                type: object
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{id}/locations_stats:
    get:
      tags:
      - Users
      summary: Get user location stats
      description: Get the total amount of hours spent by the targeted user between begin_at and end_at. Returns data from
        the last 4 months by default. Admin only (requires appropriate role).
      operationId: getUserLocationsStats
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      - name: begin_at
        in: query
        required: false
        description: Start date for the stats period
        schema:
          type: string
          format: date-time
      - name: end_at
        in: query
        required: false
        description: End date for the stats period
        schema:
          type: string
          format: date-time
      - name: time_zone
        in: query
        required: false
        description: Time zone for the stats (defaults to user's campus timezone)
        schema:
          type: string
      responses:
        '200':
          description: Successful response with date keys (YYYY-MM-DD) and duration values (HH:MM:SS.microseconds)
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
                example:
                  '2021-03-17': '02:56:21.097917'
                  '2021-03-13': '02:20:35.738681'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{id}/otp_settings/remove:
    delete:
      tags:
      - Users
      summary: Deactivate 2FA for a user
      description: Remove OTP (2FA) settings for a user. Admin only (requires appropriate role).
      operationId: deactivateUser2fa
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '204':
          description: 2FA deactivated successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{id}/set_primary_campus:
    post:
      tags:
      - Users
      summary: Set primary campus for a user
      description: Set the primary campus for the user. Admin only (requires "42network" role).
      operationId: setUserPrimaryCampus
      parameters:
      - name: id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - campus_id
              properties:
                campus_id:
                  type: integer
                  description: The campus ID to set as primary
      responses:
        '200':
          description: Primary campus set successfully
          content:
            application/json:
              schema:
                type: object
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/users/{user_id}/amendments:
    get:
      operationId: getUserAmendments
      summary: List amendments for a user
      tags:
      - Amendments
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of user amendments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Amendment'
        '401':
          description: Unauthorized
  /v2/users/{user_id}/anti_grav_units_users:
    get:
      operationId: getUserAntiGravUnitsUsers
      summary: List anti-grav unit assignments for a user (admin)
      tags:
      - AntiGravUnitsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of anti-grav unit user assignments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AntiGravUnitUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/users/{user_id}/apps:
    get:
      operationId: getUserApps
      summary: List apps for a user
      tags:
      - Apps
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of user apps
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/App'
        '401':
          description: Unauthorized
  /v2/users/{user_id}/campus_users:
    get:
      operationId: getUserCampusUsers
      summary: List campus-user relationships for a user
      tags:
      - Campus
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CampusUser'
        '401':
          description: Unauthorized
        '404':
          description: User not found
    post:
      operationId: createUserCampusUser
      summary: Create a campus-user relationship for a user (admin)
      tags:
      - Campus
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                campus_user:
                  type: object
                  properties:
                    campus_id:
                      type: integer
                    is_primary:
                      type: boolean
                  required:
                  - campus_id
      responses:
        '201':
          description: Campus-user relationship created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CampusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/certificates_users:
    get:
      operationId: getUserCertificatesUsers
      summary: List certificate-user relationships for a user (admin)
      tags:
      - Certificates
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CertificateUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: User not found
  /v2/users/{user_id}/closes:
    get:
      operationId: getUserCloses
      summary: List closes for a user (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: User not found
    post:
      operationId: createUserClose
      summary: Create a close for a user (admin)
      tags:
      - Closes
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                close:
                  type: object
                  properties:
                    reason:
                      type: string
                    kind:
                      type: string
                  required:
                  - reason
      responses:
        '201':
          description: Close created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Close'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/coalitions:
    get:
      operationId: getUserCoalitions
      summary: Return coalitions for a user
      tags:
      - Coalitions
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Coalition'
        '401':
          description: Unauthorized
        '404':
          description: User not found
  /v2/users/{user_id}/coalitions_users:
    get:
      operationId: getUserCoalitionsUsers
      summary: Return coalitions_users for a user
      tags:
      - CoalitionsUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CoalitionUser'
        '401':
          description: Unauthorized
        '404':
          description: User not found
  /v2/users/{user_id}/correction_point_historics:
    get:
      operationId: getUserCorrectionPointHistorics
      summary: List correction point history for a user
      tags:
      - CorrectionPointHistorics
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of correction point historic entries
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CorrectionPointHistoric'
        '401':
          description: Unauthorized
  /v2/users/{user_id}/cursus_users:
    get:
      operationId: getUserCursusUsers
      summary: List cursus-user relationships for a user
      tags:
      - CursusUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
        '404':
          description: User not found
    post:
      operationId: createUserCursusUser
      summary: Create a cursus-user relationship for a user (admin)
      tags:
      - CursusUsers
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                cursus_user:
                  type: object
                  properties:
                    cursus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    has_coalition:
                      type: boolean
                  required:
                  - cursus_id
      responses:
        '201':
          description: CursusUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CursusUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/events:
    get:
      operationId: getUserEvents
      summary: List events for a user
      tags:
      - Events
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[kind]
        in: query
        schema:
          type: string
        description: Filter by event kind.
      - name: filter[future]
        in: query
        schema:
          type: string
          enum:
          - 'true'
          - 'false'
        description: Filter for future events only.
      responses:
        '200':
          description: A list of events the user is subscribed to.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Event'
        '401':
          description: Unauthorized.
  /v2/users/{user_id}/exams:
    parameters:
    - name: user_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getUserExams
      summary: List exams for a user
      tags:
      - Exams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of exams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Exam'
  /v2/users/{user_id}/experiences:
    get:
      operationId: getUserExperiences
      summary: List experiences for a user (admin)
      tags:
      - Experiences
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Experience'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: User not found
  /v2/users/{user_id}/expertises_users:
    get:
      operationId: getUserExpertisesUsers
      summary: Return expertises_users for a user
      tags:
      - ExpertisesUsers
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - name: sort
        in: query
        required: false
        schema:
          type: string
        description: Sort field.
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '404':
          description: User not found
    post:
      operationId: createUserExpertiseUser
      summary: Create an expertises_user under a user
      tags:
      - ExpertisesUsers
      x-user-scope: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - expertises_user
              properties:
                expertises_user:
                  type: object
                  required:
                  - expertise_id
                  - value
                  properties:
                    expertise_id:
                      type: integer
                      description: The expertise ID.
                    value:
                      type: integer
                      description: The expertise value.
                    interested:
                      type: boolean
                      default: false
                    contact_me:
                      type: boolean
                      default: false
      responses:
        '201':
          description: ExpertiseUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpertiseUser'
        '401':
          description: Unauthorized
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/gitlab_users:
    get:
      operationId: getUserGitlabUsers
      summary: List GitLab user accounts for a user
      tags:
      - GitlabUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GitlabUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/groups:
    get:
      operationId: getUserGroups
      summary: List groups for a user
      tags:
      - Groups
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      responses:
        '200':
          description: A list of groups for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Group'
        '401':
          description: Unauthorized.
  /v2/users/{user_id}/groups_users:
    get:
      operationId: getUserGroupsUsers
      summary: List group-user associations for a user
      tags:
      - GroupsUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      responses:
        '200':
          description: A list of group-user associations for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GroupUser'
        '401':
          description: Unauthorized.
  /v2/users/{user_id}/internships:
    get:
      operationId: getUserInternships
      summary: List internships for a user (admin)
      tags:
      - Internships
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      responses:
        '200':
          description: A list of internships for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
  /v2/users/{user_id}/internships/{id}:
    parameters:
    - name: user_id
      in: path
      required: true
      schema:
        type: string
      description: User ID or login.
    - name: id
      in: path
      required: true
      schema:
        type: integer
      description: Internship ID.
    get:
      operationId: getUserInternshipById
      summary: Show a user internship (admin)
      tags:
      - Internships
      x-admin-only: true
      responses:
        '200':
          description: The internship.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
    patch:
      operationId: updateUserInternship
      summary: Update a user internship (admin)
      tags:
      - Internships
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                internship:
                  type: object
      responses:
        '200':
          description: The updated internship.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
    put:
      operationId: replaceUserInternship
      summary: Replace a user internship (admin)
      tags:
      - Internships
      x-admin-only: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                internship:
                  type: object
      responses:
        '200':
          description: The replaced internship.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Internship'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
        '404':
          description: Not found.
        '422':
          description: Unprocessable Entity.
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: id
        in: path
        required: true
        schema:
          type: integer
  /v2/users/{user_id}/languages_users:
    get:
      operationId: getUserLanguagesUsers
      summary: List language-user relationships for a user
      tags:
      - LanguagesUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '404':
          description: User not found
    post:
      operationId: createUserLanguageUser
      summary: Create a language-user relationship for a user (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                languages_user:
                  type: object
                  properties:
                    language_id:
                      type: integer
                    position:
                      type: integer
                  required:
                  - language_id
      responses:
        '201':
          description: LanguageUser created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/languages_users/{id}:
    get:
      operationId: getUserLanguageUser
      summary: Show a user's language-user relationship
      tags:
      - LanguagesUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '404':
          description: LanguageUser not found
    patch:
      operationId: updateUserLanguageUserPatch
      summary: Update a user's language-user relationship (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                languages_user:
                  type: object
                  properties:
                    language_id:
                      type: integer
                    position:
                      type: integer
      responses:
        '200':
          description: LanguageUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: LanguageUser not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateUserLanguageUserPut
      summary: Update a user's language-user relationship - full replace (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                languages_user:
                  type: object
                  properties:
                    language_id:
                      type: integer
                    position:
                      type: integer
                  required:
                  - language_id
      responses:
        '200':
          description: LanguageUser updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageUser'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: LanguageUser not found
        '422':
          description: Unprocessable Entity
    delete:
      operationId: deleteUserLanguageUser
      summary: Delete a user's language-user relationship (admin)
      tags:
      - LanguagesUsers
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: LanguageUser ID
      responses:
        '204':
          description: Successfully deleted
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: LanguageUser not found
  /v2/users/{user_id}/locations:
    get:
      operationId: getUserLocations
      summary: List locations for a user
      tags:
      - Locations
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - name: filter[active]
        in: query
        schema:
          type: string
        description: Filter by active status
      - name: range[begin_at]
        in: query
        schema:
          type: string
        description: 'Range filter for begin_at (format: start,end)'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '404':
          description: User not found
    post:
      operationId: createUserLocation
      summary: Create a location for a user (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                location:
                  type: object
                  properties:
                    host:
                      type: string
                    campus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    primary:
                      type: boolean
                    floor:
                      type: string
                      nullable: true
                    row:
                      type: string
                      nullable: true
                    post:
                      type: string
                      nullable: true
                  required:
                  - host
                  - campus_id
                  - begin_at
      responses:
        '201':
          description: Location created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/locations/{id}:
    patch:
      operationId: updateUserLocationPatch
      summary: Update a user's location (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Location ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                location:
                  type: object
                  properties:
                    host:
                      type: string
                    campus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    primary:
                      type: boolean
                    floor:
                      type: string
                      nullable: true
                    row:
                      type: string
                      nullable: true
                    post:
                      type: string
                      nullable: true
      responses:
        '200':
          description: Location updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Location not found
        '422':
          description: Unprocessable Entity
    put:
      operationId: updateUserLocationPut
      summary: Update a user's location - full replace (admin)
      tags:
      - Locations
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Location ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                location:
                  type: object
                  properties:
                    host:
                      type: string
                    campus_id:
                      type: integer
                    begin_at:
                      type: string
                      format: date-time
                    end_at:
                      type: string
                      format: date-time
                      nullable: true
                    primary:
                      type: boolean
                    floor:
                      type: string
                      nullable: true
                    row:
                      type: string
                      nullable: true
                    post:
                      type: string
                      nullable: true
                  required:
                  - host
                  - campus_id
                  - begin_at
      responses:
        '200':
          description: Location updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: Location not found
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/mailings:
    get:
      operationId: getUserMailings
      summary: List mailings for a user (admin)
      tags:
      - Mailings
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
        description: User ID
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Mailing'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - admin only
        '404':
          description: User not found
  /v2/users/{user_id}/notes:
    get:
      tags:
      - Notes
      summary: List notes for a user
      description: Return all the notes of the given user.
      operationId: getUserNotes
      parameters:
      - name: user_id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Note'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/patronages:
    get:
      operationId: getUserPatronages
      summary: List patronages for a user (admin)
      tags:
      - Patronages
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of user patronages
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Patronage'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createUserPatronage
      summary: Create a patronage for a user (admin)
      tags:
      - Patronages
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageCreate'
      responses:
        '201':
          description: Patronage created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patronage'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '422':
          description: Unprocessable Entity
  /v2/users/{user_id}/patronages_reports:
    get:
      operationId: getUserPatronagesReports
      summary: List patronage reports for a user (admin)
      tags:
      - PatronagesReports
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: A list of user patronage reports
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
    post:
      operationId: createUserPatronageReport
      summary: Create a patronage report for a user (admin)
      tags:
      - PatronagesReports
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatronageReportCreate'
      responses:
        '201':
          description: Patronage report created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatronageReport'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
  /v2/users/{user_id}/projects/{project_id}/teams:
    get:
      operationId: getUserProjectTeams
      summary: List teams for a user on a specific project
      tags:
      - Teams
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/projects/{project_id}/teams/graph:
    get:
      operationId: getUserProjectTeamsGraph
      summary: Get graph data for a user's teams on a project
      tags:
      - Teams
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: project_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: query
        schema:
          type: string
        description: The field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: The interval for grouping
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GraphPoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/quests:
    get:
      operationId: getUserQuests
      summary: List quests for a user (admin)
      tags:
      - Quests
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      responses:
        '200':
          description: A list of quests for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Quest'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
  /v2/users/{user_id}/quests_users:
    get:
      operationId: getUserQuestsUsers
      summary: List quest-user associations for a user
      tags:
      - QuestsUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      - name: filter[quest_id]
        in: query
        schema:
          type: string
        description: Filter by quest ID.
      - name: filter[validated]
        in: query
        schema:
          type: string
        description: Filter by validated status.
      responses:
        '200':
          description: A list of quest-user associations for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuestUser'
        '401':
          description: Unauthorized.
  /v2/users/{user_id}/roles:
    get:
      operationId: getUserRoles
      summary: List roles for a user
      tags:
      - Roles
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      - name: sort
        in: query
        schema:
          type: string
        description: Sort field.
      responses:
        '200':
          description: A list of roles for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Role'
        '401':
          description: Unauthorized.
  /v2/users/{user_id}/scale_teams:
    parameters:
    - name: user_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getUserScaleTeams
      summary: List scale teams for a user
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scale teams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/users/{user_id}/scale_teams/as_corrected:
    parameters:
    - name: user_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getUserScaleTeamsAsCorrected
      summary: List scale teams where user is corrected
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scale teams as corrected
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/users/{user_id}/scale_teams/as_corrector:
    parameters:
    - name: user_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getUserScaleTeamsAsCorrector
      summary: List scale teams where user is corrector
      tags:
      - ScaleTeams
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scale teams as corrector
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleTeam'
  /v2/users/{user_id}/scale_teams/graph:
    get:
      operationId: getUserScaleTeamsGraph
      summary: Graph data for user scale teams
      tags:
      - ScaleTeams
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/users/{user_id}/scale_teams/graph/on/{field}:
    get:
      operationId: getUserScaleTeamsGraphOnField
      summary: Graph data for user scale teams on a specific field
      tags:
      - ScaleTeams
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/users/{user_id}/scale_teams/graph/on/{field}/by/{interval}:
    get:
      operationId: getUserScaleTeamsGraphOnFieldByInterval
      summary: Graph data for user scale teams on a field grouped by interval
      tags:
      - ScaleTeams
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - name: interval
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/users/{user_id}/scales:
    parameters:
    - name: user_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getUserScales
      summary: List scales for a user
      description: Admin only. Requires Advanced tutor role.
      tags:
      - Scales
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of scales
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ScaleDetail'
  /v2/users/{user_id}/slots:
    parameters:
    - name: user_id
      in: path
      required: true
      schema:
        type: integer
    get:
      operationId: getUserSlots
      summary: List slots for a user
      tags:
      - Slots
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Paginated list of slots
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Slot'
  /v2/users/{user_id}/slots/graph:
    get:
      operationId: getUserSlotsGraph
      summary: Graph data for user slots
      tags:
      - Slots
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/users/{user_id}/slots/graph/on/{field}:
    get:
      operationId: getUserSlotsGraphOnField
      summary: Graph data for user slots on a specific field
      tags:
      - Slots
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/users/{user_id}/slots/graph/on/{field}/by/{interval}:
    get:
      operationId: getUserSlotsGraphOnFieldByInterval
      summary: Graph data for user slots on a field grouped by interval
      tags:
      - Slots
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: path
        required: true
        schema:
          type: string
      - name: interval
        in: path
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /v2/users/{user_id}/tags_users:
    get:
      operationId: getUserTagsUsers
      summary: List tag associations for a user
      tags:
      - TagsUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TagUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/teams:
    get:
      operationId: getUserTeams
      summary: List teams for a user
      tags:
      - Teams
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/teams/graph:
    get:
      operationId: getUserTeamsGraph
      summary: Get graph data for a user's teams
      tags:
      - Teams
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - name: field
        in: query
        schema:
          type: string
        description: The field to graph on
      - name: interval
        in: query
        schema:
          type: string
        description: The interval for grouping
      responses:
        '200':
          description: Graph data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GraphPoint'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/teams_users:
    get:
      operationId: getUserTeamsUsers
      summary: List teams users for a user
      tags:
      - TeamsUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      - $ref: '#/components/parameters/FilterParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamsUser'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/titles:
    get:
      operationId: getUserTitles
      summary: List titles for a user
      tags:
      - Titles
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      responses:
        '200':
          description: A list of titles for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Title'
        '401':
          description: Unauthorized.
  /v2/users/{user_id}/titles_users:
    get:
      operationId: getUserTitlesUsers
      summary: List title-user associations for a user
      tags:
      - TitlesUsers
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      responses:
        '200':
          description: A list of title-user associations for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TitleUser'
        '401':
          description: Unauthorized.
  /v2/users/{user_id}/transactions:
    get:
      operationId: getUserTransactions
      summary: List transactions for a user (admin)
      tags:
      - Transactions
      x-admin-only: true
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: string
        description: User ID or login.
      responses:
        '200':
          description: A list of transactions for the user.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
        '401':
          description: Unauthorized.
        '403':
          description: Forbidden.
  /v2/users/{user_id}/unfreeze:
    post:
      tags:
      - Users
      summary: Unfreeze a user
      description: Unfreeze a frozen user account. Admin only (requires appropriate role).
      operationId: unfreezeUser
      parameters:
      - name: user_id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '200':
          description: User unfrozen successfully
          content:
            application/json:
              schema:
                type: object
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /v2/users/{user_id}/user_candidature:
    get:
      tags:
      - UserCandidatures
      summary: Show a user's candidature
      description: Return the candidature for a specific user. Admin only (requires "Basic staff" role).
      operationId: getUserUserCandidature
      parameters:
      - name: user_id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCandidature'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags:
      - UserCandidatures
      summary: Create a candidature for a user
      description: Create a new candidature for a specific user. Admin only (requires "Advanced staff" or "Advanced tutor"
        role).
      operationId: createUserUserCandidature
      parameters:
      - name: user_id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCandidatureCreateRequest'
      responses:
        '201':
          description: User candidature created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCandidature'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    patch:
      tags:
      - UserCandidatures
      summary: Update a user's candidature
      description: Update the candidature for a specific user. Admin only (requires appropriate role).
      operationId: updateUserUserCandidature
      parameters:
      - name: user_id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCandidatureUpdateRequest'
      responses:
        '204':
          description: User candidature updated successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
    put:
      tags:
      - UserCandidatures
      summary: Replace a user's candidature
      description: Replace the candidature for a specific user. Admin only (requires appropriate role).
      operationId: replaceUserUserCandidature
      parameters:
      - name: user_id
        in: path
        required: true
        description: The user ID or login
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCandidatureUpdateRequest'
      responses:
        '204':
          description: User candidature replaced successfully (no content)
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
  /v2/waitlists:
    get:
      operationId: getWaitlists
      summary: List waitlists
      tags:
      - Waitlists
      x-admin-only: true
      parameters:
      - $ref: '#/components/parameters/PageParam'
      - $ref: '#/components/parameters/PageSizeParam'
      - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Waitlist'
          headers:
            X-Total:
              $ref: '#/components/headers/X-Total'
            X-Page:
              $ref: '#/components/headers/X-Page'
            X-Per-Page:
              $ref: '#/components/headers/X-Per-Page'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /v2/waitlists/{id}:
    get:
      operationId: getWaitlist
      summary: Get a waitlist
      tags:
      - Waitlists
      x-admin-only: true
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Waitlist'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      operationId: deleteWaitlist
      summary: Delete a waitlist
      tags:
      - Waitlists
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Waitlist deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
components:
  securitySchemes:
    OAuth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://api.intra.42.fr/oauth/authorize
          tokenUrl: https://api.intra.42.fr/oauth/token
          scopes:
            public: Access public data
            projects: Access project data
            profile: Access user profile
            elearning: Access e-learning data
            tig: Access community service data
            forum: Access forum data
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: OAuth2 Access Token
  schemas:
    Error:
      type: object
      properties:
        error:
          type: string
          description: Error type
        message:
          type: string
          description: Error message
        status:
          type: integer
          description: HTTP status code
    User:
      type: object
      description: Full user object with all nested resources (detail view).
      properties:
        id:
          type: integer
          description: Unique user identifier
        email:
          type: string
          format: email
          description: User email address
        login:
          type: string
          description: Unique login handle
        first_name:
          type: string
          description: First name
        last_name:
          type: string
          description: Last name
        usual_full_name:
          type: string
          nullable: true
          description: Preferred full name
        usual_first_name:
          type: string
          nullable: true
          description: Preferred first name
        url:
          type: string
          format: uri
          description: API URL for this user
        phone:
          type: string
          nullable: true
          description: Phone number
        displayname:
          type: string
          description: Display name
        kind:
          type: string
          description: User kind (admin, student, external)
          enum:
          - admin
          - student
          - external
        image:
          $ref: '#/components/schemas/UserImage'
        staff?:
          type: boolean
          description: Whether the user is staff
        correction_point:
          type: integer
          description: Number of correction (evaluation) points
        pool_month:
          type: string
          nullable: true
          description: The month of the user's piscine
        pool_year:
          type: string
          nullable: true
          description: The year of the user's piscine
        location:
          type: string
          nullable: true
          description: Current physical location (host) or null if not logged in
        wallet:
          type: integer
          description: Wallet balance
        anonymize_date:
          type: string
          format: date-time
          nullable: true
          description: Date when the user will be anonymized
        data_erasure_date:
          type: string
          format: date-time
          nullable: true
          description: Date when user data will be erased
        created_at:
          type: string
          format: date-time
          description: Account creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
        alumnized_at:
          type: string
          format: date-time
          nullable: true
          description: Date when user was alumnized
        alumni?:
          type: boolean
          description: Whether the user is alumni
        active?:
          type: boolean
          description: Whether the user account is active
        groups:
          type: array
          description: Groups the user belongs to
          items:
            $ref: '#/components/schemas/Group'
        cursus_users:
          type: array
          description: Cursus enrollments for this user
          items:
            $ref: '#/components/schemas/CursusUser'
        projects_users:
          type: array
          description: Project participations
          items:
            $ref: '#/components/schemas/ProjectUser'
        languages_users:
          type: array
          description: Language proficiencies
          items:
            $ref: '#/components/schemas/LanguageUser'
        achievements:
          type: array
          description: Achievements earned
          items:
            $ref: '#/components/schemas/Achievement'
        titles:
          type: array
          description: Titles held
          items:
            $ref: '#/components/schemas/Title'
        titles_users:
          type: array
          description: Title-user associations
          items:
            $ref: '#/components/schemas/TitleUser'
        partnerships:
          type: array
          description: Partnership associations
          items:
            $ref: '#/components/schemas/Partnership'
        patroned:
          type: array
          description: Users being patroned by this user
          items:
            $ref: '#/components/schemas/UserRef'
        patroning:
          type: array
          description: Users patroning this user
          items:
            $ref: '#/components/schemas/UserRef'
        expertises_users:
          type: array
          description: User expertise records
          items:
            $ref: '#/components/schemas/ExpertiseUser'
        roles:
          type: array
          description: Roles assigned to the user
          items:
            $ref: '#/components/schemas/Role'
        campus:
          type: array
          description: Campuses the user belongs to
          items:
            $ref: '#/components/schemas/Campus'
        campus_users:
          type: array
          description: Campus-user relationship records
          items:
            $ref: '#/components/schemas/CampusUser'
    UserSummary:
      type: object
      description: Summary user object returned by list endpoints. Contains core fields but not nested resources like cursus_users,
        projects_users, etc.
      properties:
        id:
          type: integer
          description: Unique user identifier
        email:
          type: string
          format: email
          description: User email address
        login:
          type: string
          description: Unique login handle
        first_name:
          type: string
          description: First name
        last_name:
          type: string
          description: Last name
        usual_full_name:
          type: string
          nullable: true
          description: Preferred full name
        usual_first_name:
          type: string
          nullable: true
          description: Preferred first name
        url:
          type: string
          format: uri
          description: API URL for this user
        phone:
          type: string
          nullable: true
          description: Phone number
        displayname:
          type: string
          description: Display name
        kind:
          type: string
          description: User kind (admin, student, external)
          enum:
          - admin
          - student
          - external
        image:
          $ref: '#/components/schemas/UserImage'
        staff?:
          type: boolean
          description: Whether the user is staff
        correction_point:
          type: integer
          description: Number of correction (evaluation) points
        pool_month:
          type: string
          nullable: true
          description: The month of the user's piscine
        pool_year:
          type: string
          nullable: true
          description: The year of the user's piscine
        location:
          type: string
          nullable: true
          description: Current physical location (host) or null if not logged in
        wallet:
          type: integer
          description: Wallet balance
        anonymize_date:
          type: string
          format: date-time
          nullable: true
          description: Date when the user will be anonymized
        data_erasure_date:
          type: string
          format: date-time
          nullable: true
          description: Date when user data will be erased
        created_at:
          type: string
          format: date-time
          description: Account creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
        alumnized_at:
          type: string
          format: date-time
          nullable: true
          description: Date when user was alumnized
        alumni?:
          type: boolean
          description: Whether the user is alumni
        active?:
          type: boolean
          description: Whether the user account is active
    UserRef:
      type: object
      description: Minimal user reference (used in notes, patroned/patroning, etc.)
      properties:
        id:
          type: integer
          description: User ID
        login:
          type: string
          description: User login handle
        url:
          type: string
          format: uri
          description: API URL for this user
    UserImage:
      type: object
      description: User profile image with multiple size variants.
      properties:
        link:
          type: string
          format: uri
          nullable: true
          description: URL to the original profile image
        versions:
          $ref: '#/components/schemas/UserImageVersions'
    UserImageVersions:
      type: object
      description: Different size versions of a user's profile image.
      properties:
        large:
          type: string
          format: uri
          nullable: true
          description: Large version URL
        medium:
          type: string
          format: uri
          nullable: true
          description: Medium version URL
        small:
          type: string
          format: uri
          nullable: true
          description: Small version URL
        micro:
          type: string
          format: uri
          nullable: true
          description: Micro (thumbnail) version URL
    CampusUser:
      type: object
      description: Represents the relationship between a user and a campus.
      properties:
        id:
          type: integer
          description: Unique campus-user relationship ID
        user_id:
          type: integer
          description: The user ID
        campus_id:
          type: integer
          description: The campus ID
        is_primary:
          type: boolean
          description: Whether this is the user's primary campus
        created_at:
          type: string
          format: date-time
          description: Relationship creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Relationship last update timestamp
    Note:
      type: object
      description: A note (annotation) attached to a user account.
      properties:
        id:
          type: integer
          description: Unique note ID
        from_user:
          $ref: '#/components/schemas/UserRef'
        subject:
          type: string
          description: Note subject line
        content:
          type: string
          description: Note body text
        kind:
          type: string
          description: Type of note
          enum:
          - manual
          - black_hole
          - school_record
        approved_at:
          type: string
          format: date-time
          nullable: true
          description: When the note was approved
        approver_id:
          type: integer
          nullable: true
          description: ID of the user who approved the note
        created_at:
          type: string
          format: date-time
          description: Note creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Note last update timestamp
        user:
          $ref: '#/components/schemas/UserRef'
    UserCandidature:
      type: object
      description: A candidature (application) record for a user.
      properties:
        id:
          type: integer
          description: Unique candidature ID
        user_id:
          type: integer
          description: The associated user ID
        birth_date:
          type: string
          format: date
          nullable: true
          description: Date of birth
        gender:
          type: string
          nullable: true
          description: Gender
          enum:
          - male
          - female
          - other
        zip_code:
          type: string
          nullable: true
          description: Postal/ZIP code
        country:
          type: string
          nullable: true
          description: Country
        birth_city:
          type: string
          nullable: true
          description: City of birth
        birth_country:
          type: string
          nullable: true
          description: Country of birth
        postal_street:
          type: string
          nullable: true
          description: Street address
        postal_complement:
          type: string
          nullable: true
          description: Address complement
        postal_city:
          type: string
          nullable: true
          description: City of postal address
        postal_country:
          type: string
          nullable: true
          description: Country of postal address
        email:
          type: string
          format: email
          nullable: true
          description: Contact email
        phone:
          type: string
          nullable: true
          description: Phone number
        contact_first_name:
          type: string
          nullable: true
          description: Emergency contact first name
        contact_last_name:
          type: string
          nullable: true
          description: Emergency contact last name
        contact_phone1:
          type: string
          nullable: true
          description: Emergency contact phone
        meeting_date:
          type: string
          format: date-time
          nullable: true
          description: Meeting date
        piscine_date:
          type: string
          nullable: true
          description: Piscine date
        max_level_memory:
          type: integer
          nullable: true
          description: Memory assessment score
        max_level_logic:
          type: integer
          nullable: true
          description: Logic assessment score
        campus_id:
          type: integer
          nullable: true
          description: Associated campus ID
        pin:
          type: string
          nullable: true
          description: PIN code
        hidden_phone:
          type: boolean
          nullable: true
          description: Whether phone is hidden
        created_at:
          type: string
          format: date-time
          description: Record creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Record last update timestamp
    UserCandidatureCreateRequest:
      type: object
      description: Request body for creating a user candidature.
      properties:
        user_candidature:
          type: object
          properties:
            birth_date:
              type: string
              format: date
              description: Date of birth (must be 13-99 years ago)
            gender:
              type: string
              enum:
              - male
              - female
              - other
            zip_code:
              type: string
            country:
              type: string
            phone_country_code:
              type: string
              description: ISO country code for phone number
            birth_city:
              type: string
            postal_street:
              type: string
            postal_city:
              type: string
            contact_first_name:
              type: string
            contact_last_name:
              type: string
            contact_phone1:
              type: string
            meeting_date:
              type: string
              format: date-time
            piscine_date:
              type: string
            max_level_memory:
              type: integer
            max_level_logic:
              type: integer
            pin:
              type: string
    UserCandidatureUpdateRequest:
      type: object
      description: Request body for updating a user candidature.
      properties:
        user_candidature:
          type: object
          properties:
            birth_date:
              type: string
              format: date
            gender:
              type: string
              enum:
              - male
              - female
              - other
            zip_code:
              type: string
            country:
              type: string
            phone_country_code:
              type: string
            birth_city:
              type: string
            postal_street:
              type: string
            postal_city:
              type: string
            contact_first_name:
              type: string
            contact_last_name:
              type: string
            contact_phone1:
              type: string
            meeting_date:
              type: string
              format: date-time
            piscine_date:
              type: string
            max_level_memory:
              type: integer
            max_level_logic:
              type: integer
            pin:
              type: string
    UserCreateRequest:
      type: object
      description: Request body for creating a new user.
      required:
      - user
      properties:
        user:
          type: object
          required:
          - email
          - first_name
          - last_name
          - kind
          - campus_id
          properties:
            email:
              type: string
              format: email
              description: User email (must be unique)
            login:
              type: string
              description: Login handle (auto-generated if omitted; must be unique)
            first_name:
              type: string
              description: First name
            last_name:
              type: string
              description: Last name
            usual_first_name:
              type: string
              description: Preferred first name (max 42 characters)
              maxLength: 42
            password:
              type: string
              description: User password
            pool_year:
              type: string
              description: Pool year
            pool_month:
              type: string
              description: Pool month
            kind:
              type: string
              description: User kind
              enum:
              - admin
              - student
              - external
            status:
              type: string
              description: User status
            campus_id:
              type: integer
              description: Campus ID
            cursus_id:
              type: integer
              description: Cursus to enroll in (defaults to piscine-c)
            email_stop:
              type: boolean
              description: Whether to stop emails
              default: false
            skip_welcome_mail:
              type: boolean
              description: Whether to skip the welcome email
    UserUpdateRequest:
      type: object
      description: Request body for updating an existing user.
      properties:
        user:
          type: object
          properties:
            login:
              type: string
              description: Login handle (must be unique)
            email:
              type: string
              format: email
              description: User email (must be unique)
            first_name:
              type: string
              description: First name
            last_name:
              type: string
              description: Last name
            usual_first_name:
              type: string
              description: Preferred first name (max 42 characters)
              maxLength: 42
            password:
              type: string
              description: User password
            pool_year:
              type: string
              description: Pool year
            pool_month:
              type: string
              description: Pool month
            kind:
              type: string
              description: User kind
              enum:
              - admin
              - student
              - external
            status:
              type: string
              description: User status
            campus_id:
              type: integer
              description: Campus ID
            cursus_id:
              type: integer
              description: Cursus ID
            email_stop:
              type: boolean
              description: Whether to stop emails
            skip_welcome_mail:
              type: boolean
              description: Whether to skip the welcome email
    CursusUser:
      description: A user's cursus enrollment (defined in Cursus group fragment). Includes level, grade, skills, blackholed_at,
        and cursus details.
      type: object
      properties:
        id:
          type: integer
        begin_at:
          type: string
          format: date-time
        end_at:
          type: string
          format: date-time
          nullable: true
        grade:
          type: string
          nullable: true
        level:
          type: number
          format: double
        skills:
          type: array
          items:
            $ref: '#/components/schemas/Skill'
        blackholed_at:
          type: string
          format: date-time
          nullable: true
        user:
          $ref: '#/components/schemas/UserRef'
        cursus:
          $ref: '#/components/schemas/Cursus'
        has_coalition:
          type: boolean
    Cursus:
      description: A cursus (curriculum) definition.
      type: object
      properties:
        id:
          type: integer
        created_at:
          type: string
          format: date-time
        name:
          type: string
        slug:
          type: string
        kind:
          type: string
    Skill:
      description: A skill within a cursus.
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        level:
          type: number
          format: double
    ProjectUser:
      description: A user's project participation (defined in Projects group fragment).
      type: object
      properties:
        id:
          type: integer
        occurrence:
          type: integer
        final_mark:
          type: integer
          nullable: true
        status:
          type: string
        validated?:
          type: boolean
          nullable: true
        current_team_id:
          type: integer
          nullable: true
        project:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
            slug:
              type: string
            parent_id:
              type: integer
              nullable: true
        cursus_ids:
          type: array
          items:
            type: integer
        marked_at:
          type: string
          format: date-time
          nullable: true
        marked:
          type: boolean
        retriable_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    LanguageUser:
      description: A user's language proficiency record.
      type: object
      properties:
        id:
          type: integer
        language_id:
          type: integer
        user_id:
          type: integer
        position:
          type: integer
        created_at:
          type: string
          format: date-time
    Achievement:
      description: An achievement a user has earned.
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
        tier:
          type: string
        kind:
          type: string
        visible:
          type: boolean
        image:
          type: string
          format: uri
        nbr_of_success:
          type: integer
          nullable: true
        users_url:
          type: string
          format: uri
    Title:
      description: A title a user can hold.
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
    TitleUser:
      description: A user-title association.
      type: object
      properties:
        id:
          type: integer
        user_id:
          type: integer
        title_id:
          type: integer
        selected:
          type: boolean
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Group:
      description: A group a user belongs to.
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
    Partnership:
      description: A partnership association.
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
        url:
          type: string
          format: uri
    ExpertiseUser:
      description: A user's expertise record.
      type: object
      properties:
        id:
          type: integer
        expertise_id:
          type: integer
        interested:
          type: boolean
        value:
          type: integer
        contact_me:
          type: boolean
        created_at:
          type: string
          format: date-time
        user_id:
          type: integer
    Role:
      description: A role assigned to a user.
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
    Campus:
      description: A 42 campus (defined in Campus group fragment).
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        time_zone:
          type: string
        language:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
            identifier:
              type: string
            created_at:
              type: string
              format: date-time
            updated_at:
              type: string
              format: date-time
        users_count:
          type: integer
        vogsphere_id:
          type: integer
        country:
          type: string
        address:
          type: string
        zip:
          type: string
        city:
          type: string
        website:
          type: string
          format: uri
        facebook:
          type: string
        twitter:
          type: string
        active:
          type: boolean
        public:
          type: boolean
        email_extension:
          type: string
        default_hidden_phone:
          type: boolean
    Language:
      type: object
      description: A programming or spoken language
      properties:
        id:
          type: integer
          description: Unique identifier
        name:
          type: string
          description: Language name
        identifier:
          type: string
          description: Short identifier code (e.g., en, fr)
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
    Location:
      type: object
      description: A user's physical location session at a campus
      properties:
        id:
          type: integer
          description: Unique identifier
        begin_at:
          type: string
          format: date-time
          description: Session start time
        end_at:
          type: string
          format: date-time
          nullable: true
          description: Session end time (null if currently logged in)
        primary:
          type: boolean
          description: Whether this is the primary location
        host:
          type: string
          description: Computer/workstation hostname
        campus_id:
          type: integer
          description: Associated campus ID
        user:
          $ref: '#/components/schemas/UserRef'
        floor:
          type: string
          nullable: true
          description: Floor identifier
        row:
          type: string
          nullable: true
          description: Row identifier
        post:
          type: string
          nullable: true
          description: Post/seat identifier
    Experience:
      type: object
      description: Experience points gained by a user
      properties:
        id:
          type: integer
          description: Unique identifier
        user_id:
          type: integer
          description: Associated user ID
        skill_id:
          type: integer
          description: Associated skill ID
        amount:
          type: integer
          description: Amount of experience points
        cursus_id:
          type: integer
          description: Associated cursus ID
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
    Level:
      type: object
      description: A level definition with experience threshold
      properties:
        id:
          type: integer
          description: Unique identifier (level number)
        experience_needed:
          type: integer
          description: Total experience points needed to reach this level
    Certificate:
      type: object
      description: A certificate that can be awarded to users
      properties:
        id:
          type: integer
          description: Unique identifier
        name:
          type: string
          description: Certificate name
        slug:
          type: string
          description: URL-friendly name
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
    CertificateUser:
      type: object
      description: A user's awarded certificate
      properties:
        id:
          type: integer
          description: Unique identifier
        certificate_id:
          type: integer
          description: Associated certificate ID
        user_id:
          type: integer
          description: Associated user ID
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
    Cluster:
      type: object
      description: A physical cluster area within a campus
      properties:
        id:
          type: integer
          description: Unique identifier
        name:
          type: string
          description: Cluster name
        campus_id:
          type: integer
          description: Associated campus ID
        description:
          type: string
          description: Cluster description
        map_background:
          type: string
          nullable: true
          description: URL to cluster map background image
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
    Close:
      type: object
      description: A user account close record
      properties:
        id:
          type: integer
          description: Unique identifier
        user_id:
          type: integer
          description: Associated user ID
        reason:
          type: string
          description: Reason for closing
        kind:
          type: string
          description: Type of close
        state:
          type: string
          description: Current state of the close
        primary_campus_id:
          type: integer
          nullable: true
          description: User's primary campus ID at time of close
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
    Expertise:
      type: object
      description: An area of expertise
      properties:
        id:
          type: integer
          description: Unique identifier
        name:
          type: string
          description: Expertise name
        slug:
          type: string
          description: URL-friendly name
        url:
          type: string
          description: Related URL
        kind:
          type: string
          description: Type of expertise
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
    Mailing:
      type: object
      description: A mailing record
      properties:
        id:
          type: integer
          description: Unique identifier
        user_id:
          type: integer
          description: Associated user ID
        subject:
          type: string
          description: Email subject
        body:
          type: string
          description: Email body content
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
    GraphPoint:
      type: object
      description: A data point in a graph response
      properties:
        data:
          type: object
          additionalProperties: true
      additionalProperties: true
    Project:
      type: object
      description: A pedagogic project in the 42 curriculum
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
        description:
          type: string
          nullable: true
        difficulty:
          type: integer
          nullable: true
        parent:
          nullable: true
          allOf:
          - $ref: '#/components/schemas/ProjectMinimal'
        children:
          type: array
          items:
            $ref: '#/components/schemas/ProjectMinimal'
        objectives:
          type: array
          items:
            type: string
        tier:
          type: integer
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/Attachment'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        exam:
          type: boolean
        git_url:
          type: string
          nullable: true
        repository:
          type: string
          nullable: true
        recommendation:
          type: string
          nullable: true
          description: Recommendation level for the project
        cursus:
          type: array
          items:
            $ref: '#/components/schemas/CursusMinimal'
        campus:
          type: array
          items:
            $ref: '#/components/schemas/CampusMinimal'
        skills:
          type: array
          items:
            $ref: '#/components/schemas/SkillMinimal'
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
        videos:
          type: array
          items:
            $ref: '#/components/schemas/Video'
        project_sessions:
          type: array
          items:
            $ref: '#/components/schemas/ProjectSession'
    ProjectMinimal:
      type: object
      description: Minimal project reference (for parent/children relationships)
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
    ProjectCreate:
      type: object
      required:
      - project
      properties:
        project:
          type: object
          required:
          - name
          - repository
          properties:
            name:
              type: string
              description: The project name
            description:
              type: string
              description: The project description
            repository:
              type: string
              description: The repository path
            exam:
              type: boolean
              default: false
              description: Whether this is an exam project
            has_mark:
              type: boolean
              default: true
              description: Whether this project has marks
            has_git:
              type: boolean
              default: true
              description: Whether this project has a git repository
            visible:
              type: boolean
              default: false
              description: Whether this project is visible
            inherited_team:
              type: boolean
              default: false
              description: Whether the team is inherited
            parent_id:
              type: integer
              nullable: true
              description: Parent project ID
            cursus_ids:
              type: array
              items:
                type: integer
              description: Associated cursus IDs
            campus_ids:
              type: array
              items:
                type: integer
              description: Associated campus IDs
            authors_user_ids:
              type: array
              items:
                type: integer
              description: Author user IDs
            project_sessions_attributes:
              type: array
              items:
                type: object
                properties:
                  solo:
                    type: boolean
                    default: false
                  is_subscriptable:
                    type: boolean
                    default: true
                  estimate_time:
                    type: integer
                    nullable: true
                  begin_at:
                    type: string
                    format: date-time
                    nullable: true
                  end_at:
                    type: string
                    format: date-time
                    nullable: true
                  minimum_mark:
                    type: integer
                    description: The minimum mark
                  team_behaviour:
                    type: string
                    enum:
                    - user
                    - upload
                    - by_rule
                    - none
                    description: The team behaviour
                  max_people:
                    type: integer
                    nullable: true
                  campus_id:
                    type: integer
                    nullable: true
                  cursus_id:
                    type: integer
                    nullable: true
                  duration_days:
                    type: integer
                    nullable: true
                  terminating_after:
                    type: integer
                    nullable: true
            attachments_attributes:
              type: array
              items:
                type: object
                properties:
                  language_id:
                    type: integer
                    description: The language ID
                  kind:
                    type: string
                    enum:
                    - code
                    - pdf
                    - link
                    - document
                    - video
                  untranslatable:
                    type: boolean
                    default: false
    ProjectUpdate:
      type: object
      required:
      - project
      properties:
        project:
          type: object
          properties:
            name:
              type: string
            description:
              type: string
            repository:
              type: string
            exam:
              type: boolean
            has_mark:
              type: boolean
            has_git:
              type: boolean
            visible:
              type: boolean
            inherited_team:
              type: boolean
            parent_id:
              type: integer
              nullable: true
            git_id:
              type: integer
              nullable: true
            cursus_ids:
              type: array
              items:
                type: integer
            campus_ids:
              type: array
              items:
                type: integer
            authors_user_ids:
              type: array
              items:
                type: integer
            notion_ids:
              type: array
              items:
                type: integer
            project_sessions_attributes:
              type: array
              items:
                type: object
                additionalProperties: true
            evaluations_attributes:
              type: array
              items:
                type: object
                additionalProperties: true
            attachments_attributes:
              type: array
              items:
                type: object
                additionalProperties: true
            projects_rules_attributes:
              type: array
              items:
                type: object
                additionalProperties: true
    ProjectSession:
      type: object
      description: A session of a project, scoped to a campus and cursus
      properties:
        id:
          type: integer
        solo:
          type: boolean
          description: Whether this is a solo project
        begin_at:
          type: string
          format: date-time
          nullable: true
        end_at:
          type: string
          format: date-time
          nullable: true
        estimate_time:
          type: string
          nullable: true
          description: Estimated time to complete (e.g. "3600" in seconds)
        difficulty:
          type: integer
          nullable: true
        duration_days:
          type: integer
          nullable: true
          description: Duration in days
        terminating_after:
          type: integer
          nullable: true
          description: Number of days after which the team is terminated
        project_id:
          type: integer
        campus_id:
          type: integer
          nullable: true
        cursus_id:
          type: integer
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        max_people:
          type: integer
          nullable: true
          description: Maximum number of people per team
        is_subscriptable:
          type: boolean
          description: Whether users can subscribe to this session
        minimum_mark:
          type: integer
          nullable: true
        team_behaviour:
          type: string
          nullable: true
          enum:
          - user
          - upload
          - by_rule
          - none
        scales:
          type: array
          items:
            $ref: '#/components/schemas/Scale'
        uploads:
          type: array
          items:
            $ref: '#/components/schemas/Upload'
        description:
          type: string
          nullable: true
        objectives:
          type: array
          nullable: true
          items:
            type: string
        commit:
          type: string
          nullable: true
    ProjectSessionDetail:
      description: Detailed project session with nested project, campus, cursus, and evaluations
      allOf:
      - $ref: '#/components/schemas/ProjectSession'
      - type: object
        properties:
          project:
            $ref: '#/components/schemas/Project'
          campus:
            nullable: true
            allOf:
            - $ref: '#/components/schemas/CampusMinimal'
          cursus:
            nullable: true
            allOf:
            - $ref: '#/components/schemas/CursusMinimal'
          evaluations:
            type: array
            items:
              $ref: '#/components/schemas/Evaluation'
    ProjectSessionRule:
      type: object
      description: A rule associated with a project session
      properties:
        id:
          type: integer
        rule_id:
          type: integer
        project_session_id:
          type: integer
        required:
          type: boolean
          description: Whether this rule is required
        position:
          type: integer
          description: Display position order
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        params_project_sessions_rules:
          type: array
          items:
            $ref: '#/components/schemas/ParamProjectSessionRule'
    ProjectSessionRuleCreate:
      type: object
      required:
      - project_sessions_rule
      properties:
        project_sessions_rule:
          type: object
          required:
          - rule_id
          - project_session_id
          properties:
            rule_id:
              type: integer
              description: The rule ID
            project_session_id:
              type: integer
              description: The project session ID
            required:
              type: boolean
              description: Whether this rule is required
            params_project_sessions_rules_attributes:
              type: array
              items:
                type: object
                required:
                - param_id
                properties:
                  id:
                    type: integer
                  param_id:
                    type: integer
                    description: The param ID
                  value:
                    type: string
                    description: The parameter value
                  _destroy:
                    type: string
                    description: Set to destroy the nested record
    ProjectSessionRuleUpdate:
      type: object
      required:
      - project_sessions_rule
      properties:
        project_sessions_rule:
          type: object
          properties:
            rule_id:
              type: integer
            project_session_id:
              type: integer
            required:
              type: boolean
            params_project_sessions_rules_attributes:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                  param_id:
                    type: integer
                  value:
                    type: string
                  _destroy:
                    type: string
    ProjectSessionSkill:
      type: object
      description: Skill association for a project session
      properties:
        id:
          type: integer
        project_session_id:
          type: integer
        skill_id:
          type: integer
        value:
          type: integer
          description: The skill value (XP weight)
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    ProjectData:
      type: object
      description: Graph visualization data for a project session
      properties:
        id:
          type: integer
        coordinates:
          type: array
          items:
            type: number
            format: float
          minItems: 2
          maxItems: 2
          description: '[x, y] coordinates for graph placement'
        by:
          type: array
          description: Connection data as a 2D array of integers
          items:
            type: array
            items:
              type: integer
        kind:
          type: string
          description: The kind of node
          enum:
          - project
          - exam
        project_session_id:
          type: integer
    ProjectDataCreate:
      type: object
      required:
      - project_data
      properties:
        project_data:
          type: object
          required:
          - by
          - coordinates
          - kind
          - project_session_id
          properties:
            by:
              type: string
              description: JSON-encoded 2D array of connection data
            coordinates:
              type: string
              description: JSON-encoded coordinate pair [x, y]
            kind:
              type: string
              enum:
              - project
              - exam
            project_session_id:
              type: integer
    ProjectDataUpdate:
      type: object
      required:
      - project_data
      properties:
        project_data:
          type: object
          properties:
            by:
              type: string
            coordinates:
              type: string
            kind:
              type: string
              enum:
              - project
              - exam
            project_session_id:
              type: integer
    ParamProjectSessionRule:
      type: object
      description: The value of a parameter for a project sessions rule
      properties:
        id:
          type: integer
        param_id:
          type: integer
        project_sessions_rule_id:
          type: integer
        value:
          type: string
          nullable: true
          description: The parameter value
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    ParamProjectSessionRuleCreate:
      type: object
      required:
      - params_project_sessions_rule
      properties:
        params_project_sessions_rule:
          type: object
          required:
          - param_id
          - project_sessions_rule_id
          properties:
            param_id:
              type: integer
              description: The param ID
            project_sessions_rule_id:
              type: integer
              description: The project sessions rule ID
            value:
              type: string
              description: The parameter value
    ParamProjectSessionRuleUpdate:
      type: object
      required:
      - params_project_sessions_rule
      properties:
        params_project_sessions_rule:
          type: object
          properties:
            param_id:
              type: integer
            project_sessions_rule_id:
              type: integer
            value:
              type: string
    Team:
      type: object
      description: A team of one or more users working on a project together
      properties:
        id:
          type: integer
        name:
          type: string
        url:
          type: string
          description: API URL for the team
        final_mark:
          type: integer
          nullable: true
          description: The final mark awarded to the team
        project_id:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        status:
          type: string
          description: Team status
          enum:
          - creating_group
          - waiting_for_correction
          - in_progress
          - finished
        terminating_at:
          type: string
          format: date-time
          nullable: true
        users:
          type: array
          items:
            $ref: '#/components/schemas/TeamUserEntry'
        locked?:
          type: boolean
          description: Whether the team is locked
        validated?:
          type: boolean
          nullable: true
          description: Whether the team has been validated
        closed?:
          type: boolean
          description: Whether the team is closed
        locked_at:
          type: string
          format: date-time
          nullable: true
        closed_at:
          type: string
          format: date-time
          nullable: true
        repo_url:
          type: string
          nullable: true
          description: Repository URL
        repo_uuid:
          type: string
          nullable: true
          description: Repository UUID
        deadline_at:
          type: string
          format: date-time
          nullable: true
        project_session_id:
          type: integer
        project_gitlab_path:
          type: string
          nullable: true
          description: GitLab path for the project
        scale_teams:
          type: array
          items:
            type: object
            additionalProperties: true
          description: Associated scale teams (evaluations)
        teams_uploads:
          type: array
          items:
            type: object
            additionalProperties: true
          description: Associated team uploads
    TeamDetail:
      description: Detailed team view with full nested data
      allOf:
      - $ref: '#/components/schemas/Team'
      - type: object
        properties:
          project_session:
            $ref: '#/components/schemas/ProjectSession'
    TeamMinimal:
      type: object
      description: Minimal team reference used in nested contexts
      properties:
        id:
          type: integer
        name:
          type: string
        url:
          type: string
        final_mark:
          type: integer
          nullable: true
        project_id:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        status:
          type: string
        locked?:
          type: boolean
        validated?:
          type: boolean
          nullable: true
        closed?:
          type: boolean
        repo_url:
          type: string
          nullable: true
        repo_uuid:
          type: string
          nullable: true
        project_session_id:
          type: integer
    TeamUserEntry:
      type: object
      description: A user entry within a team
      properties:
        id:
          type: integer
        login:
          type: string
        url:
          type: string
        leader:
          type: boolean
          description: Whether this user is the team leader
        occurrence:
          type: integer
          description: The attempt number
        validated:
          type: boolean
          description: Whether this user is validated in the team
        projects_user_id:
          type: integer
          description: The projects_user ID for this association
    TeamCreate:
      type: object
      required:
      - team
      properties:
        team:
          type: object
          required:
          - project_id
          properties:
            project_id:
              type: integer
              description: The project ID
            name:
              type: string
              maxLength: 255
              description: The team name
            project_session_id:
              type: integer
              nullable: true
              description: The project session ID
            created_at:
              type: string
              format: date-time
              nullable: true
            updated_at:
              type: string
              format: date-time
              nullable: true
            locked_at:
              type: string
              format: date-time
              nullable: true
            closed_at:
              type: string
              format: date-time
              nullable: true
            final_mark:
              type: integer
              nullable: true
            repo_url:
              type: string
              nullable: true
            repo_uuid:
              type: string
              nullable: true
            deadline_at:
              type: string
              format: date-time
              nullable: true
              description: Must occur after today
            terminating_at:
              type: string
              format: date-time
              nullable: true
            teams_users_attributes:
              type: array
              items:
                type: object
                required:
                - user_id
                properties:
                  user_id:
                    type: integer
                    description: The user ID (must be unique per team)
                  leader:
                    type: boolean
                    default: false
                    description: Whether this user is the team leader
                  validated:
                    type: boolean
                    default: false
                    description: Whether this user is validated
                  occurrence:
                    type: integer
                    default: 0
                    description: The occurrence number
    TeamUpdate:
      type: object
      required:
      - team
      properties:
        team:
          type: object
          properties:
            name:
              type: string
              maxLength: 255
            project_id:
              type: integer
            project_session_id:
              type: integer
            created_at:
              type: string
              format: date-time
              nullable: true
            updated_at:
              type: string
              format: date-time
              nullable: true
            locked_at:
              type: string
              format: date-time
              nullable: true
            closed_at:
              type: string
              format: date-time
              nullable: true
            final_mark:
              type: integer
              nullable: true
            repo_url:
              type: string
              nullable: true
            repo_uuid:
              type: string
              nullable: true
            deadline_at:
              type: string
              format: date-time
              nullable: true
            terminating_at:
              type: string
              format: date-time
              nullable: true
            teams_users_attributes:
              type: array
              items:
                type: object
                properties:
                  user_id:
                    type: integer
                  leader:
                    type: boolean
                  validated:
                    type: boolean
                  occurrence:
                    type: integer
    TeamsUser:
      type: object
      description: Join record linking a user to a team
      properties:
        id:
          type: integer
        team_id:
          type: integer
        user_id:
          type: integer
        leader:
          type: boolean
          description: Whether this user is the team leader
        occurrence:
          type: integer
          description: The attempt number
        validated:
          type: boolean
          description: Whether this user is validated
        projects_user_id:
          type: integer
          description: The associated projects_user ID
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        team:
          $ref: '#/components/schemas/TeamMinimal'
        user:
          $ref: '#/components/schemas/UserMinimal'
    TeamsUserCreate:
      type: object
      required:
      - teams_user
      properties:
        teams_user:
          type: object
          required:
          - team_id
          - user_id
          properties:
            team_id:
              type: integer
              description: The team ID
            user_id:
              type: integer
              description: The user ID (must be unique per team)
            leader:
              type: boolean
              default: false
              description: Whether this user is the team leader
            validated:
              type: boolean
              default: false
              description: Whether this user is validated
            occurrence:
              type: integer
              default: 0
              description: The occurrence number
    TeamsUserUpdate:
      type: object
      required:
      - teams_user
      properties:
        teams_user:
          type: object
          properties:
            leader:
              type: boolean
            validated:
              type: boolean
            occurrence:
              type: integer
    UserMinimal:
      type: object
      description: Minimal user reference
      properties:
        id:
          type: integer
        login:
          type: string
        url:
          type: string
    CursusMinimal:
      type: object
      description: Minimal cursus reference
      properties:
        id:
          type: integer
        created_at:
          type: string
          format: date-time
        name:
          type: string
        slug:
          type: string
        kind:
          type: string
    CampusMinimal:
      type: object
      description: Minimal campus reference
      properties:
        id:
          type: integer
        name:
          type: string
        time_zone:
          type: string
        language:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
            identifier:
              type: string
            created_at:
              type: string
              format: date-time
            updated_at:
              type: string
              format: date-time
        users_count:
          type: integer
        vogsphere_id:
          type: integer
          nullable: true
    SkillMinimal:
      type: object
      description: Minimal skill reference
      properties:
        id:
          type: integer
        name:
          type: string
        created_at:
          type: string
          format: date-time
    Attachment:
      type: object
      description: A project attachment
      properties:
        id:
          type: integer
        name:
          type: string
          nullable: true
        url:
          type: string
          nullable: true
    Video:
      type: object
      description: A project video
      properties:
        id:
          type: integer
        name:
          type: string
          nullable: true
        url:
          type: string
          nullable: true
    Tag:
      type: object
      description: A project tag
      properties:
        id:
          type: integer
        name:
          type: string
        kind:
          type: string
    Scale:
      type: object
      description: An evaluation scale for a project session
      properties:
        id:
          type: integer
        evaluation_id:
          type: integer
        name:
          type: string
          nullable: true
        is_primary:
          type: boolean
          nullable: true
        is_introduction:
          type: boolean
        correction_number:
          type: integer
          description: Number of corrections required
        duration:
          type: integer
          description: Duration of the evaluation in seconds
    Upload:
      type: object
      description: An upload type for a project session
      properties:
        id:
          type: integer
        name:
          type: string
    Evaluation:
      type: object
      description: An evaluation definition
      properties:
        id:
          type: integer
        kind:
          type: string
          description: The kind of evaluation
    ScaleTeam:
      type: object
      description: A defence/evaluation of a team on a scale, involving an evaluator (corrector) and evaluated team (correcteds).
      properties:
        id:
          type: integer
          description: Unique identifier
        scale_id:
          type: integer
          description: The scale used for this evaluation
        team_id:
          type: integer
          description: The team being evaluated
        comment:
          type: string
          nullable: true
          description: Evaluator's comment (max 2048 characters)
          maxLength: 2048
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        feedback:
          type: string
          nullable: true
          description: Feedback from the evaluated team
        feedback_rating:
          type: integer
          nullable: true
          description: Rating given for the feedback
        final_mark:
          type: integer
          nullable: true
          description: Final evaluation score
        begin_at:
          type: string
          format: date-time
          description: Scheduled evaluation start time
        filled_at:
          type: string
          format: date-time
          nullable: true
          description: When the evaluation was filled
        correcteds:
          description: User(s) being evaluated
          oneOf:
          - type: string
            description: Display string like "invisible"
          - type: array
            items:
              $ref: '#/components/schemas/UserRef'
        corrector:
          description: The evaluator
          oneOf:
          - type: string
            description: Display string like "invisible"
          - $ref: '#/components/schemas/UserRef'
        truant:
          type: object
          nullable: true
          description: User who was truant (absent)
        flag:
          $ref: '#/components/schemas/Flag'
        token:
          type: string
          nullable: true
          description: Evaluation token
        ip:
          type: string
          nullable: true
          description: IP address of the evaluation
        scale:
          $ref: '#/components/schemas/ScaleDetail'
        team:
          $ref: '#/components/schemas/TeamRef'
        feedbacks:
          type: array
          description: Array of feedback entries
          items:
            $ref: '#/components/schemas/Feedback'
    ScaleTeamCreate:
      type: object
      description: Request body for creating a scale team
      required:
      - scale_team
      properties:
        scale_team:
          type: object
          required:
          - team_id
          - scale_id
          - comment
          properties:
            team_id:
              type: integer
              description: The team identifier
            scale_id:
              type: integer
              description: The scale identifier
            user_id:
              type: integer
              description: The evaluator user identifier
            comment:
              type: string
              description: Evaluation comment
              maxLength: 2048
            flag_id:
              type: integer
              description: Flag identifier
            final_mark:
              type: integer
              description: Evaluation score
            truant_id:
              type: integer
              description: Truant user identifier
            begin_at:
              type: string
              format: date-time
              description: Scheduled evaluation time
            answers_attributes:
              type: array
              items:
                type: object
                required:
                - question_id
                properties:
                  question_id:
                    type: integer
                  value:
                    type: integer
                  id:
                    type: integer
    ScaleTeamUpdate:
      type: object
      description: Request body for updating a scale team
      properties:
        scale_team:
          type: object
          properties:
            comment:
              type: string
              maxLength: 2048
            flag_id:
              type: integer
            final_mark:
              type: integer
            truant_id:
              type: integer
            begin_at:
              type: string
              format: date-time
            answers_attributes:
              type: array
              items:
                type: object
                properties:
                  question_id:
                    type: integer
                  value:
                    type: integer
                  id:
                    type: integer
    ScaleTeamCreateItem:
      type: object
      description: A single scale team in a multiple_create request
      properties:
        scale_id:
          type: integer
          description: ID of the evaluation scale
        team_id:
          type: integer
          description: ID of the team being evaluated
        user_id:
          type: integer
          description: Evaluator user ID (omit with final_mark for moulinette)
        begin_at:
          type: string
          format: date-time
          description: Scheduled evaluation time
        final_mark:
          type: integer
          description: Final mark (when used without user_id creates moulinette mark)
    ScaleDetail:
      type: object
      description: Full scale object with questions, sections, and evaluation metadata
      properties:
        id:
          type: integer
        evaluation_id:
          type: integer
        name:
          type: string
        is_primary:
          type: boolean
        comment:
          type: string
          nullable: true
        introduction_md:
          type: string
          nullable: true
          description: Introduction text in Markdown
        disclaimer_md:
          type: string
          nullable: true
          description: Disclaimer text in Markdown
        guidelines_md:
          type: string
          nullable: true
          description: Guidelines text in Markdown
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        correction_number:
          type: integer
        duration:
          type: integer
          description: Duration in seconds
        manual_subscription:
          type: boolean
        is_external:
          type: boolean
        free:
          type: boolean
        languages:
          type: array
          items:
            $ref: '#/components/schemas/LanguageRef'
        sections:
          type: array
          description: Evaluation sections with nested questions
          items:
            $ref: '#/components/schemas/ScaleSection'
        evaluation:
          type: object
          nullable: true
          properties:
            id:
              type: integer
            kind:
              type: string
    ScaleSection:
      type: object
      description: A section within a scale, containing questions
      properties:
        id:
          type: integer
        name:
          type: string
        position:
          type: integer
        description:
          type: string
          nullable: true
        questions:
          type: array
          items:
            $ref: '#/components/schemas/ScaleQuestion'
    ScaleQuestion:
      type: object
      description: A question within a scale section
      properties:
        id:
          type: integer
        name:
          type: string
        position:
          type: integer
        guidelines:
          type: string
          nullable: true
        rating:
          type: string
          nullable: true
        kind:
          type: string
        answers:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
              value:
                type: integer
              question_id:
                type: integer
    ScaleCreate:
      type: object
      description: Request body for creating/updating a scale
      properties:
        scale:
          type: object
          properties:
            name:
              type: string
            is_primary:
              type: boolean
            comment:
              type: string
            introduction_md:
              type: string
            disclaimer_md:
              type: string
            guidelines_md:
              type: string
            correction_number:
              type: integer
            duration:
              type: integer
            manual_subscription:
              type: boolean
            evaluation_id:
              type: integer
    EvaluationCreate:
      type: object
      description: Request body for creating/updating an evaluation
      properties:
        evaluation:
          type: object
          properties:
            name:
              type: string
            description:
              type: string
            kind:
              type: string
            position:
              type: integer
    Exam:
      type: object
      description: An exam in a cursus or campus
      properties:
        id:
          type: integer
        name:
          type: string
        begin_at:
          type: string
          format: date-time
        end_at:
          type: string
          format: date-time
        location:
          type: string
          nullable: true
        ip_range:
          type: string
          nullable: true
          description: Allowed IP range(s) for the exam
        max_people:
          type: integer
          nullable: true
          description: Maximum number of participants
        nbr_subscribers:
          type: integer
          description: Current number of subscribers
        visible:
          type: boolean
          description: Whether the exam is visible (invisible exams need basic_staff role)
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        campus:
          $ref: '#/components/schemas/CampusRef'
        cursus:
          type: array
          items:
            $ref: '#/components/schemas/CursusRef'
        projects:
          type: array
          items:
            $ref: '#/components/schemas/ProjectRef'
    ExamCreate:
      type: object
      description: Request body for creating/updating an exam
      required:
      - exam
      properties:
        exam:
          type: object
          required:
          - name
          - begin_at
          - end_at
          - location
          - ip_range
          - campus_id
          properties:
            name:
              type: string
            begin_at:
              type: string
              format: date-time
            end_at:
              type: string
              format: date-time
            location:
              type: string
            ip_range:
              type: string
              maxLength: 255
            campus_id:
              type: integer
            visible:
              type: boolean
              default: true
            max_people:
              type: integer
            activate_waitlist:
              type: boolean
            project_ids:
              type: array
              items:
                type: integer
    ExamUser:
      type: object
      description: A user registration for an exam
      properties:
        id:
          type: integer
        exam_id:
          type: integer
        user_id:
          type: integer
        status:
          type: string
          nullable: true
          description: Exam user status
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        user:
          $ref: '#/components/schemas/UserRef'
    ExamUserCreate:
      type: object
      description: Request body for creating an exam user
      properties:
        exams_user:
          type: object
          properties:
            user_id:
              type: integer
              description: The user to register for the exam
    Slot:
      type: object
      description: A time slot when a user is available to evaluate others. Minimum duration configurable by campus, 15-minute
        granularity.
      properties:
        id:
          type: integer
        begin_at:
          type: string
          format: date-time
          description: Start of the availability slot
        end_at:
          type: string
          format: date-time
          description: End of the availability slot
        scale_team:
          nullable: true
          description: The associated scale team evaluation (null if unbooked)
          allOf:
          - $ref: '#/components/schemas/ScaleTeam'
        user:
          $ref: '#/components/schemas/UserRef'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    SlotCreate:
      type: object
      description: Request body for creating/updating a slot
      required:
      - slot
      properties:
        slot:
          type: object
          required:
          - user_id
          - begin_at
          - end_at
          properties:
            user_id:
              type: integer
              description: The user setting this slot (advanced tutor can set for others)
            begin_at:
              type: string
              format: date-time
              description: Beginning of the slot
            end_at:
              type: string
              format: date-time
              description: End of the slot
            scale_team_id:
              type: integer
              nullable: true
              description: The defence linked to this slot (advanced tutor only)
    Flag:
      type: object
      description: A flag applied to a scale team evaluation
      properties:
        id:
          type: integer
        name:
          type: string
          description: Flag name (e.g. Ok, Empty work, Incomplete work, etc.)
        positive:
          type: boolean
          description: Whether this is a positive flag
        icon:
          type: string
          description: Icon identifier for the flag
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Feedback:
      type: object
      description: A feedback entry on a scale team evaluation
      properties:
        id:
          type: integer
        user:
          $ref: '#/components/schemas/UserRef'
        feedbackable_id:
          type: integer
        feedbackable_type:
          type: string
        comment:
          type: string
          nullable: true
        rating:
          type: integer
          nullable: true
        created_at:
          type: string
          format: date-time
    TeamRef:
      type: object
      description: Compact team reference (see Projects group for full schema)
      properties:
        id:
          type: integer
        name:
          type: string
        url:
          type: string
        final_mark:
          type: integer
          nullable: true
        project_id:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        status:
          type: string
        users:
          type: array
          items:
            $ref: '#/components/schemas/UserRef'
    ProjectRef:
      type: object
      description: Compact project reference (see Projects group for full schema)
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
    CampusRef:
      type: object
      description: Compact campus reference (see Campus group for full schema)
      properties:
        id:
          type: integer
        name:
          type: string
        time_zone:
          type: string
        language:
          $ref: '#/components/schemas/LanguageRef'
    CursusRef:
      type: object
      description: Compact cursus reference (see Cursus group for full schema)
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
        created_at:
          type: string
          format: date-time
    LanguageRef:
      type: object
      description: Compact language reference
      properties:
        id:
          type: integer
        name:
          type: string
        identifier:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Event:
      type: object
      description: An event in a campus or cursus.
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        description:
          type: string
        location:
          type: string
          nullable: true
        kind:
          type: string
          enum:
          - pedago
          - rush
          - piscine
          - partnership
          - meet
          - conference
          - meet_up
          - event
          - association
          - speed_working
          - hackathon
          - workshop
          - challenge
          - other
          - extern
        max_people:
          type: integer
          nullable: true
          description: Maximum number of attendees.
        nbr_subscribers:
          type: integer
          description: Current number of subscribers.
        begin_at:
          type: string
          format: date-time
        end_at:
          type: string
          format: date-time
        campus_ids:
          type: array
          items:
            type: integer
        cursus_ids:
          type: array
          items:
            type: integer
        themes:
          type: array
          items:
            $ref: '#/components/schemas/EventTheme'
        waitlist:
          type: object
          nullable: true
          description: Waitlist info if enabled.
        prohibition_of_cancellation:
          type: integer
          nullable: true
          description: Cancellation restriction period in hours.
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - id
      - name
      - description
      - kind
      - begin_at
      - end_at
    EventTheme:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    EventCreate:
      type: object
      properties:
        event:
          type: object
          required:
          - name
          - begin_at
          - end_at
          - description
          - kind
          properties:
            name:
              type: string
            description:
              type: string
            location:
              type: string
              maxLength: 255
            kind:
              type: string
              enum:
              - pedago
              - rush
              - piscine
              - partnership
              - meet
              - conference
              - meet_up
              - event
              - association
              - speed_working
              - hackathon
              - workshop
              - challenge
              - other
              - extern
            max_people:
              type: integer
            begin_at:
              type: string
              format: date-time
            end_at:
              type: string
              format: date-time
            prohibition_of_cancellation:
              type: integer
            activate_waitlist:
              type: boolean
            cursus_ids:
              type: array
              items:
                type: integer
            campus_ids:
              type: array
              items:
                type: integer
            events_themes_attributes:
              type: array
              items:
                type: object
                properties:
                  theme_id:
                    type: integer
                  theme_attributes:
                    type: object
                    properties:
                      name:
                        type: string
      required:
      - event
    EventUpdate:
      type: object
      properties:
        event:
          type: object
          properties:
            name:
              type: string
            description:
              type: string
            location:
              type: string
              maxLength: 255
            kind:
              type: string
              enum:
              - pedago
              - rush
              - piscine
              - partnership
              - meet
              - conference
              - meet_up
              - event
              - association
              - speed_working
              - hackathon
              - workshop
              - challenge
              - other
              - extern
            max_people:
              type: integer
            begin_at:
              type: string
              format: date-time
            end_at:
              type: string
              format: date-time
            prohibition_of_cancellation:
              type: integer
            activate_waitlist:
              type: boolean
            cursus_ids:
              type: array
              items:
                type: integer
            campus_ids:
              type: array
              items:
                type: integer
    AchievementCreate:
      type: object
      properties:
        achievement:
          type: object
          required:
          - name
          - internal_name
          - description
          - kind
          - tier
          properties:
            name:
              type: string
            internal_name:
              type: string
            description:
              type: string
              maxLength: 140
            kind:
              type: string
              enum:
              - project
              - social
              - scolarity
              - pedagogy
            tier:
              type: string
              enum:
              - none
              - easy
              - medium
              - hard
              - challenge
            pedago:
              type: boolean
              default: false
            visible:
              type: boolean
              default: false
            nbr_of_success:
              type: integer
            parent_id:
              type: integer
              nullable: true
            image:
              type: string
              format: binary
              description: Achievement image file.
            image_cache:
              type: string
            title_id:
              type: integer
              nullable: true
            lg:
              type: string
              description: Language identifier.
            position:
              type: integer
            reward:
              type: string
            cursus_ids:
              type: array
              items:
                type: integer
            campus_ids:
              type: array
              items:
                type: integer
      required:
      - achievement
    AchievementUpdate:
      type: object
      properties:
        achievement:
          type: object
          properties:
            name:
              type: string
            internal_name:
              type: string
            description:
              type: string
              maxLength: 140
            kind:
              type: string
              enum:
              - project
              - social
              - scolarity
              - pedagogy
            tier:
              type: string
              enum:
              - none
              - easy
              - medium
              - hard
              - challenge
            pedago:
              type: boolean
            visible:
              type: boolean
            nbr_of_success:
              type: integer
            parent_id:
              type: integer
              nullable: true
            title_id:
              type: integer
              nullable: true
            position:
              type: integer
            reward:
              type: string
            cursus_ids:
              type: array
              items:
                type: integer
            campus_ids:
              type: array
              items:
                type: integer
    AchievementUser:
      type: object
      description: Association between an achievement and a user.
      properties:
        id:
          type: integer
          readOnly: true
        achievement_id:
          type: integer
        user_id:
          type: integer
        login:
          type: string
          description: User login, included in index responses.
        url:
          type: string
          description: User API URL.
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - id
      - achievement_id
      - user_id
    AchievementUserCreate:
      type: object
      properties:
        achievements_user:
          type: object
          required:
          - achievement_id
          - user_id
          properties:
            achievement_id:
              type: integer
            user_id:
              type: integer
      required:
      - achievements_user
    AchievementUserUpdate:
      type: object
      properties:
        achievements_user:
          type: object
          properties:
            achievement_id:
              type: integer
            user_id:
              type: integer
    GroupCreate:
      type: object
      properties:
        group:
          type: object
          required:
          - name
          - color
          properties:
            name:
              type: string
            color:
              type: string
              description: Hex color code (e.g. "#ed5462").
            kind:
              type: string
              enum:
              - important
              - normal
              - hidden
              default: important
      required:
      - group
    GroupUpdate:
      type: object
      properties:
        group:
          type: object
          properties:
            name:
              type: string
            color:
              type: string
            kind:
              type: string
              enum:
              - important
              - normal
              - hidden
    GroupUser:
      type: object
      description: Association between a group and a user.
      properties:
        id:
          type: integer
          readOnly: true
        group_id:
          type: integer
        user_id:
          type: integer
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - id
      - group_id
      - user_id
    GroupUserCreate:
      type: object
      properties:
        groups_user:
          type: object
          required:
          - group_id
          - user_id
          properties:
            group_id:
              type: integer
            user_id:
              type: integer
      required:
      - groups_user
    GroupUserUpdate:
      type: object
      properties:
        groups_user:
          type: object
          properties:
            group_id:
              type: integer
            user_id:
              type: integer
    RoleCreate:
      type: object
      properties:
        role:
          type: object
          required:
          - description
          properties:
            name:
              type: string
              description: Must be unique.
            description:
              type: string
      required:
      - role
    RoleUpdate:
      type: object
      properties:
        role:
          type: object
          properties:
            name:
              type: string
            description:
              type: string
    RoleEntity:
      type: object
      description: Association between a role and an entity (e.g. an application).
      properties:
        id:
          type: integer
          readOnly: true
        role_id:
          type: integer
        entity_id:
          type: integer
        entity_type:
          type: string
          description: Polymorphic entity type (e.g. Doorkeeper::Application).
        expires_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        entity:
          type: object
          nullable: true
          description: The associated entity object.
        role:
          $ref: '#/components/schemas/Role'
      required:
      - id
      - role_id
      - entity_id
    RoleEntityCreate:
      type: object
      properties:
        roles_entity:
          type: object
          required:
          - role_id
          - entity_id
          properties:
            role_id:
              type: integer
              description: Must be unique in scope of entity_id + entity_type.
            entity_id:
              type: integer
            entity_type:
              type: string
              nullable: true
              description: 'Must be one of: Doorkeeper::Application.'
            expires_at:
              type: string
              format: date-time
              nullable: true
      required:
      - roles_entity
    RoleEntityUpdate:
      type: object
      properties:
        roles_entity:
          type: object
          properties:
            role_id:
              type: integer
            entity_id:
              type: integer
            entity_type:
              type: string
              nullable: true
            expires_at:
              type: string
              format: date-time
              nullable: true
    TitleCreate:
      type: object
      properties:
        title:
          type: object
          required:
          - name
          properties:
            name:
              type: string
      required:
      - title
    TitleUpdate:
      type: object
      properties:
        title:
          type: object
          properties:
            name:
              type: string
    TitleUserCreate:
      type: object
      properties:
        titles_user:
          type: object
          required:
          - title_id
          - user_id
          properties:
            title_id:
              type: integer
              description: Must be unique per user.
            user_id:
              type: integer
      required:
      - titles_user
    TitleUserUpdate:
      type: object
      properties:
        titles_user:
          type: object
          properties:
            title_id:
              type: integer
            user_id:
              type: integer
            selected:
              type: boolean
    Quest:
      type: object
      description: A quest which can or must be done by users.
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        slug:
          type: string
        kind:
          type: string
          enum:
          - main
          - optional
          - mandatory
          - repeatable
          - cursus_version
        internal_name:
          type: string
          nullable: true
        description:
          type: string
        cursus_id:
          type: integer
          nullable: true
        campus_id:
          type: integer
          nullable: true
        grade_id:
          type: integer
          nullable: true
        position:
          type: integer
          nullable: true
        grade:
          type: object
          nullable: true
          description: Associated grade object.
        cursus:
          $ref: '#/components/schemas/CursusRef'
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - id
      - name
      - kind
      - description
    QuestCreate:
      type: object
      properties:
        quest:
          type: object
          required:
          - name
          - kind
          - duration
          - description
          - cursus_id
          - tries_number
          - success_number
          - mails_from
          properties:
            name:
              type: string
            slug:
              type: string
              nullable: true
            kind:
              type: string
              enum:
              - main
              - optional
              - mandatory
              - repeatable
              - cursus_version
            internal_name:
              type: string
              nullable: true
            description:
              type: string
            duration:
              type: integer
            cursus_id:
              type: integer
            campus_id:
              type: integer
              nullable: true
            ancestry:
              type: string
              nullable: true
            guild_size:
              type: integer
              nullable: true
            guild_prct:
              type: integer
              nullable: true
            grade_id:
              type: integer
              nullable: true
            position:
              type: integer
              nullable: true
            certificate_id:
              type: integer
              nullable: true
            tries_number:
              type: integer
            success_number:
              type: integer
            close_on_fail:
              type: boolean
            mails_from:
              type: string
            parent_id:
              type: string
              nullable: true
      required:
      - quest
    QuestUpdate:
      type: object
      properties:
        quest:
          type: object
          properties:
            name:
              type: string
            slug:
              type: string
            kind:
              type: string
              enum:
              - main
              - optional
              - mandatory
              - repeatable
              - cursus_version
            internal_name:
              type: string
            description:
              type: string
            duration:
              type: integer
            cursus_id:
              type: integer
            campus_id:
              type: integer
              nullable: true
            grade_id:
              type: integer
              nullable: true
            position:
              type: integer
              nullable: true
            tries_number:
              type: integer
            success_number:
              type: integer
            close_on_fail:
              type: boolean
            mails_from:
              type: string
    QuestUser:
      type: object
      description: Association between a quest and a user.
      properties:
        id:
          type: integer
          readOnly: true
        quest_id:
          type: integer
        user_id:
          type: integer
        end_at:
          type: string
          format: date-time
          nullable: true
        validated_at:
          type: string
          format: date-time
          nullable: true
        prct:
          type: number
          nullable: true
          description: Percentage of completion.
        advancement:
          type: number
          nullable: true
          description: Advancement value.
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        user:
          $ref: '#/components/schemas/UserRef'
        quest:
          $ref: '#/components/schemas/QuestRef'
      required:
      - id
      - quest_id
    QuestUserCreate:
      type: object
      properties:
        quests_user:
          type: object
          required:
          - quest_id
          - user_id
          properties:
            quest_id:
              type: integer
              description: Must be unique per user.
            user_id:
              type: integer
            end_at:
              type: string
              format: date-time
              nullable: true
            validated_at:
              type: string
              format: date-time
              nullable: true
            prct:
              type: integer
              nullable: true
            advancement:
              type: string
              nullable: true
      required:
      - quests_user
    QuestUserUpdate:
      type: object
      properties:
        quests_user:
          type: object
          properties:
            quest_id:
              type: integer
            user_id:
              type: integer
            end_at:
              type: string
              format: date-time
              nullable: true
            validated_at:
              type: string
              format: date-time
              nullable: true
            prct:
              type: integer
              nullable: true
            advancement:
              type: string
              nullable: true
    Internship:
      type: object
      description: An internship record.
      properties:
        id:
          type: integer
          readOnly: true
        user_id:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
    Journal:
      type: object
      description: A campus journal entry.
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
    Transaction:
      type: object
      description: A wallet transaction.
      properties:
        id:
          type: integer
          readOnly: true
        user_id:
          type: integer
        created_at:
          type: string
          format: date-time
      required:
      - id
    Translation:
      type: object
      description: A translation entry.
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
    QuestRef:
      type: object
      description: Compact quest reference in quest-user responses.
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
        kind:
          type: string
        description:
          type: string
        cursus_id:
          type: integer
          nullable: true
        campus_id:
          type: integer
          nullable: true
        grade_id:
          type: integer
          nullable: true
        position:
          type: integer
          nullable: true
    Coalition:
      type: object
      description: A coalition competing inside a bloc.
      properties:
        id:
          type: integer
          description: Unique identifier.
        name:
          type: string
          description: Coalition name (unique within a bloc).
        slug:
          type: string
          nullable: true
          description: URL-friendly slug.
        image_url:
          type: string
          nullable: true
          description: URL of the coalition image.
        cover_url:
          type: string
          nullable: true
          description: URL of the coalition cover image.
        color:
          type: string
          description: Hex color code for the coalition.
        score:
          type: integer
          description: Total score of the coalition.
        user_id:
          type: integer
          description: ID of the user who created/owns the coalition.
        created_at:
          type: string
          format: date-time
          description: Creation timestamp.
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp.
    CoalitionUser:
      type: object
      description: A membership linking a user to a coalition.
      properties:
        id:
          type: integer
          description: Unique identifier.
        coalition_id:
          type: integer
          description: The coalition ID.
        user_id:
          type: integer
          description: The user ID.
        created_at:
          type: string
          format: date-time
          description: Creation timestamp.
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp.
        this_year_score:
          type: integer
          description: Score for the current year.
        this_year_score_updated_at:
          type: string
          format: date-time
          nullable: true
          description: When the this-year score was last updated.
    Bloc:
      type: object
      description: A managing container for coalitions.
      properties:
        id:
          type: integer
          description: Unique identifier.
        campus_id:
          type: integer
          description: The campus ID the bloc belongs to.
        cursus_id:
          type: integer
          description: The cursus ID the bloc belongs to.
        squad_size:
          type: integer
          description: Size of squads in this bloc.
        created_at:
          type: string
          format: date-time
          description: Creation timestamp.
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp.
        coalitions:
          type: array
          description: Coalitions within this bloc.
          items:
            $ref: '#/components/schemas/Coalition'
    Score:
      type: object
      description: Points given to a coalition.
      properties:
        id:
          type: integer
          description: Unique identifier.
        coalition_id:
          type: integer
          description: The coalition ID.
        coalitions_user_id:
          type: integer
          description: The coalitions_user ID.
        calculation_id:
          type: integer
          nullable: true
          description: The calculation ID.
        value:
          type: integer
          description: The score value.
        reason:
          type: string
          nullable: true
          description: Reason for the score.
        scoreable_type:
          type: string
          nullable: true
          description: The polymorphic scoreable type.
        scoreable_id:
          type: integer
          nullable: true
          description: The polymorphic scoreable ID.
        created_at:
          type: string
          format: date-time
          description: Creation timestamp.
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp.
    Notion:
      type: object
      description: An e-learning notion in a cursus.
      properties:
        id:
          type: integer
          description: Unique identifier.
        name:
          type: string
          description: Notion name (must be unique).
        slug:
          type: string
          description: URL-friendly slug.
        created_at:
          type: string
          format: date-time
          description: Creation timestamp.
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp.
        subnotions:
          type: array
          description: Subnotions within this notion.
          items:
            $ref: '#/components/schemas/Subnotion'
        tags:
          type: array
          description: Associated tags.
          items:
            type: object
            properties:
              id:
                type: integer
              name:
                type: string
              kind:
                type: string
        cursus:
          type: array
          description: Associated cursus.
          items:
            $ref: '#/components/schemas/CursusRef'
    Subnotion:
      type: object
      description: An e-learning subnotion within a notion.
      properties:
        id:
          type: integer
          description: Unique identifier.
        name:
          type: string
          description: Subnotion name (must be unique within a notion).
        slug:
          type: string
          description: URL-friendly slug.
        notion_id:
          type: integer
          description: Parent notion ID.
        created_at:
          type: string
          format: date-time
          description: Creation timestamp.
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp.
        position:
          type: integer
          nullable: true
          description: Sort position within the notion.
        notepad:
          type: string
          nullable: true
          description: Notepad content.
        attachments:
          type: array
          description: Attached resources.
          items:
            type: object
            properties:
              id:
                type: integer
              language_id:
                type: integer
              kind:
                type: string
                enum:
                - code
                - pdf
                - link
                - document
                - video
    Product:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: 42 T-Shirt
        slug:
          type: string
          example: 42-t-shirt
        description:
          type: string
          nullable: true
          example: Official 42 T-Shirt
        price:
          type: integer
          description: Price in wallet points
          example: 500
        quantity:
          type: integer
          description: Available stock quantity
          example: 100
        begin_at:
          type: string
          format: date-time
          nullable: true
          description: Product availability start
        end_at:
          type: string
          format: date-time
          nullable: true
          description: Product availability end
        category_id:
          type: integer
          nullable: true
        campus_id:
          type: integer
          nullable: true
        kind:
          type: string
          nullable: true
        image:
          type: object
          nullable: true
          properties:
            url:
              type: string
              nullable: true
            thumb:
              type: string
              nullable: true
        is_uniq:
          type: boolean
        one_time_purchase:
          type: boolean
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    ProductCreate:
      type: object
      properties:
        product:
          type: object
          properties:
            name:
              type: string
            slug:
              type: string
            description:
              type: string
            price:
              type: integer
            quantity:
              type: integer
            begin_at:
              type: string
              format: date-time
            end_at:
              type: string
              format: date-time
            category_id:
              type: integer
            campus_id:
              type: integer
            kind:
              type: string
            is_uniq:
              type: boolean
            one_time_purchase:
              type: boolean
    Command:
      type: object
      properties:
        id:
          type: integer
          example: 1
        product_id:
          type: integer
        user_id:
          type: integer
        quantity:
          type: integer
          example: 1
        total_price:
          type: integer
          description: Total price in wallet points
          example: 500
        status:
          type: string
          example: pending
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Offer:
      type: object
      properties:
        id:
          type: integer
          example: 1
        title:
          type: string
          example: Junior Developer
        description:
          type: string
          nullable: true
        company_name:
          type: string
          example: Acme Corp
        location:
          type: string
          nullable: true
          example: Paris, France
        salary:
          type: string
          nullable: true
          example: '40000'
        duration:
          type: string
          nullable: true
          example: 6 months
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Patronage:
      type: object
      properties:
        id:
          type: integer
          example: 1
        user_id:
          type: integer
          description: The patroned user ID
        godfather_id:
          type: integer
          description: The godfather (patron) user ID
        ongoing:
          type: boolean
          description: Whether the patronage is still active
          example: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        user:
          $ref: '#/components/schemas/UserCompact'
        godfather:
          $ref: '#/components/schemas/UserCompact'
    PatronageCreate:
      type: object
      properties:
        patronage:
          type: object
          required:
          - user_id
          - godfather_id
          properties:
            user_id:
              type: integer
            godfather_id:
              type: integer
            ongoing:
              type: boolean
    PatronageReport:
      type: object
      properties:
        id:
          type: integer
          example: 1
        patronage_id:
          type: integer
        user_id:
          type: integer
        report_text:
          type: string
          nullable: true
          description: The content of the patronage report
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    PatronageReportCreate:
      type: object
      properties:
        patronages_report:
          type: object
          properties:
            patronage_id:
              type: integer
            user_id:
              type: integer
            report_text:
              type: string
    Pool:
      type: object
      properties:
        id:
          type: integer
          example: 25
        current_points:
          type: integer
          description: Current available points in the pool
          example: 0
        max_points:
          type: integer
          description: Maximum points the pool can hold
          example: 400
        cursus_id:
          type: integer
          example: 1
        campus_id:
          type: integer
          example: 12
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Balance:
      type: object
      properties:
        id:
          type: integer
          example: 1
        pool_id:
          type: integer
        begin_at:
          type: string
          format: date-time
          description: Balance period start
        end_at:
          type: string
          format: date-time
          description: Balance period end
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    BalanceUpdate:
      type: object
      properties:
        balance:
          type: object
          properties:
            begin_at:
              type: string
              format: date-time
            end_at:
              type: string
              format: date-time
            pool_id:
              type: integer
    Amendment:
      type: object
      properties:
        id:
          type: integer
          example: 1
        internship_id:
          type: integer
        user_id:
          type: integer
        kind:
          type: string
          enum:
          - prolongation
          - shortening
          - breach
          - salary_change
          - other
          description: Type of amendment
        origin:
          type: string
          enum:
          - company
          - student
          - school
          description: Who initiated the amendment
        effective_date:
          type: string
          format: date-time
          nullable: true
        end_at:
          type: string
          format: date-time
          nullable: true
        salary:
          type: string
          nullable: true
        currency:
          type: string
          nullable: true
        content:
          type: string
          nullable: true
          description: Amendment content or notes
        status:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    AmendmentCreate:
      type: object
      properties:
        amendment:
          type: object
          required:
          - internship_id
          - kind
          - origin
          properties:
            internship_id:
              type: integer
            kind:
              type: string
              enum:
              - prolongation
              - shortening
              - breach
              - salary_change
              - other
            origin:
              type: string
              enum:
              - company
              - student
              - school
            effective_date:
              type: string
              format: date-time
            end_at:
              type: string
              format: date-time
            salary:
              type: string
            currency:
              type: string
            convention:
              type: string
              format: binary
              description: Convention document file
    CommunityService:
      type: object
      properties:
        id:
          type: integer
          example: 1
        close_id:
          type: integer
          description: Related close ID
        user_id:
          type: integer
          description: ID of the user (tiger) assigned the service
        duration:
          type: integer
          description: Duration in seconds
          example: 3600
        schedule_at:
          type: string
          format: date-time
          nullable: true
          description: Scheduled date for the service
        occupation:
          type: string
          nullable: true
          description: The task or occupation description
        state:
          type: string
          description: Current state (e.g. schedule, validated, invalidated)
          example: schedule
        token:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        close:
          type: object
          nullable: true
          properties:
            id:
              type: integer
            reason:
              type: string
            state:
              type: string
            created_at:
              type: string
              format: date-time
            updated_at:
              type: string
              format: date-time
    CommunityServiceCreate:
      type: object
      properties:
        community_service:
          type: object
          properties:
            close_id:
              type: integer
            duration:
              type: integer
            schedule_at:
              type: string
              format: date-time
            occupation:
              type: string
    AntiGravUnit:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    AntiGravUnitUser:
      type: object
      properties:
        id:
          type: integer
        anti_grav_unit_id:
          type: integer
        user_id:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    AntiGravUnitUserCreate:
      type: object
      properties:
        anti_grav_units_user:
          type: object
          properties:
            anti_grav_unit_id:
              type: integer
            user_id:
              type: integer
    App:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
          nullable: true
        image:
          type: string
          nullable: true
        website:
          type: string
          nullable: true
        scopes:
          type: array
          items:
            type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        owner:
          $ref: '#/components/schemas/UserCompact'
    CorrectionPointHistoric:
      type: object
      properties:
        id:
          type: integer
        sum:
          type: integer
          description: Correction point change amount
        total:
          type: integer
          description: Running total after change
        reason:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    CursusCreate:
      type: object
      properties:
        cursus:
          type: object
          properties:
            name:
              type: string
            slug:
              type: string
            kind:
              type: string
    UserCompact:
      type: object
      description: Compact user representation used in nested relationships
      properties:
        id:
          type: integer
        login:
          type: string
        url:
          type: string
    Accreditation:
      type: object
      description: An accreditation entry.
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        description:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    AccreditationCreate:
      type: object
      properties:
        accreditation:
          type: object
          required:
          - name
          properties:
            name:
              type: string
            description:
              type: string
    AntiGravUnitCreate:
      type: object
      properties:
        anti_grav_unit:
          type: object
          required:
          - name
          - kind
          properties:
            name:
              type: string
            kind:
              type: string
            description:
              type: string
    AppCreate:
      type: object
      properties:
        app:
          type: object
          required:
          - name
          - redirect_uri
          properties:
            name:
              type: string
            description:
              type: string
            redirect_uri:
              type: string
            website:
              type: string
            public:
              type: boolean
            scopes:
              type: array
              items:
                type: string
    AttachmentCreate:
      type: object
      properties:
        attachment:
          type: object
          required:
          - name
          properties:
            name:
              type: string
            url:
              type: string
            kind:
              type: string
            language_id:
              type: integer
            default:
              type: boolean
            up_to_date:
              type: boolean
            untranslatable:
              type: boolean
    AttachmentUpdate:
      type: object
      properties:
        attachment:
          type: object
          properties:
            name:
              type: string
            url:
              type: string
            kind:
              type: string
            language_id:
              type: integer
            default:
              type: boolean
            up_to_date:
              type: boolean
            untranslatable:
              type: boolean
    Dash:
      type: object
      description: A short-time dash event.
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        slug:
          type: string
        description:
          type: string
          nullable: true
        campus_id:
          type: integer
          nullable: true
        cursus_id:
          type: integer
          nullable: true
        begin_at:
          type: string
          format: date-time
          nullable: true
        end_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
    DashCreate:
      type: object
      properties:
        dash:
          type: object
          required:
          - name
          - slug
          properties:
            name:
              type: string
            slug:
              type: string
            description:
              type: string
            campus_id:
              type: integer
            cursus_id:
              type: integer
            begin_at:
              type: string
              format: date-time
            end_at:
              type: string
              format: date-time
    DashUser:
      type: object
      description: Association between a dash and a user.
      properties:
        id:
          type: integer
          readOnly: true
        dash_id:
          type: integer
        user_id:
          type: integer
        created_at:
          type: string
          format: date-time
          readOnly: true
    DashUserCreate:
      type: object
      properties:
        dashes_user:
          type: object
          required:
          - dash_id
          - user_id
          properties:
            dash_id:
              type: integer
            user_id:
              type: integer
    Endpoint:
      type: object
      description: An API endpoint registration for webhooks/callbacks.
      properties:
        id:
          type: integer
          readOnly: true
        url:
          type: string
          description: The callback URL for this endpoint.
        description:
          type: string
          nullable: true
        source:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    EndpointCreate:
      type: object
      properties:
        endpoint:
          type: object
          required:
          - url
          properties:
            url:
              type: string
            description:
              type: string
            source:
              type: string
    Flash:
      type: object
      description: A flash message displayed to users on a campus.
      properties:
        id:
          type: integer
          readOnly: true
        message:
          type: string
        starts_at:
          type: string
          format: date-time
          nullable: true
        ends_at:
          type: string
          format: date-time
          nullable: true
        campus_id:
          type: integer
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    FlashCreate:
      type: object
      properties:
        flash:
          type: object
          required:
          - message
          properties:
            message:
              type: string
            starts_at:
              type: string
              format: date-time
            ends_at:
              type: string
              format: date-time
            campus_id:
              type: integer
    FlashUser:
      type: object
      description: Association between a flash message and a user (tracks seen status).
      properties:
        id:
          type: integer
          readOnly: true
        flash_id:
          type: integer
        user_id:
          type: integer
        seen:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
    FlashUserCreate:
      type: object
      properties:
        flash_user:
          type: object
          required:
          - flash_id
          - user_id
          properties:
            flash_id:
              type: integer
            user_id:
              type: integer
            seen:
              type: boolean
    GitlabUser:
      type: object
      description: A user's GitLab account association.
      properties:
        id:
          type: integer
          readOnly: true
        user_id:
          type: integer
        login:
          type: string
        email:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
    JournalCreate:
      type: object
      properties:
        journal:
          type: object
          required:
          - primary_user_id
          - entry_type
          properties:
            campus_id:
              type: integer
            primary_user_id:
              type: integer
            secondary_user_id:
              type: integer
            entry_type:
              type: string
            content:
              type: string
    TagUser:
      type: object
      description: Association between a tag and a user.
      properties:
        id:
          type: integer
          readOnly: true
        tag_id:
          type: integer
        user_id:
          type: integer
    TagUserCreate:
      type: object
      properties:
        tags_user:
          type: object
          required:
          - tag_id
          - user_id
          properties:
            tag_id:
              type: integer
            user_id:
              type: integer
    TranslationCreate:
      type: object
      properties:
        translation:
          type: object
          required:
          - key
          - value
          - locale
          properties:
            key:
              type: string
            value:
              type: string
            locale:
              type: string
    Waitlist:
      type: object
      description: A waitlist for an event or exam.
      properties:
        id:
          type: integer
          readOnly: true
        waitlistable_type:
          type: string
          description: Polymorphic type (e.g. Event, Exam).
        waitlistable_id:
          type: integer
          description: ID of the waitlistable resource.
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    Rule:
      type: object
      description: A rule that can be applied to project sessions.
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        description:
          type: string
          nullable: true
        internal_name:
          type: string
          nullable: true
        slug:
          type: string
          nullable: true
        kind:
          type: string
          nullable: true
        params:
          type: object
          nullable: true
          additionalProperties: true
          description: Rule-specific parameters (varies by kind).
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    RuleCreate:
      type: object
      properties:
        rule:
          type: object
          required:
          - name
          properties:
            name:
              type: string
            description:
              type: string
            internal_name:
              type: string
            slug:
              type: string
            kind:
              type: string
            params:
              type: object
              additionalProperties: true
  parameters:
    PageParam:
      name: page[number]
      in: query
      description: Page number for pagination
      schema:
        type: integer
        minimum: 1
        default: 1
    PageSizeParam:
      name: page[size]
      in: query
      description: Number of items per page (max 100)
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 30
    SortParam:
      name: sort
      in: query
      description: Comma-separated sort fields. Prefix with - for descending.
      schema:
        type: string
    FilterParam:
      name: filter
      in: query
      description: Filter collection by field values
      style: deepObject
      schema:
        type: object
  responses:
    BadRequest:
      description: The request is malformed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Unauthorized:
      description: Unauthorized - Invalid or missing access token
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Forbidden:
      description: Forbidden - Insufficient scope or permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    UnprocessableEntity:
      description: Unprocessable entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  headers:
    X-Total:
      description: Total number of items
      schema:
        type: integer
    X-Page:
      description: Current page number
      schema:
        type: integer
    X-Per-Page:
      description: Number of items per page
      schema:
        type: integer
tags:
- name: Accreditations
- name: Achievements
- name: AchievementsUsers
- name: Amendments
- name: AntiGravUnits
- name: AntiGravUnitsUsers
- name: Apps
- name: Attachments
- name: Balances
- name: Blocs
- name: Campus
- name: Certificates
- name: Closes
- name: Clusters
- name: Coalitions
- name: CoalitionsUsers
- name: CommunityServices
- name: CorrectionPointHistorics
- name: Cursus
- name: CursusUsers
- name: Dashes
- name: DashesUsers
- name: Endpoints
- name: Evaluations
- name: Events
- name: Exams
- name: ExamsUsers
- name: Experiences
- name: Expertises
- name: ExpertisesUsers
- name: FlashUsers
- name: Flashes
- name: GitlabUsers
- name: Groups
- name: GroupsUsers
- name: Internships
- name: Journals
- name: Languages
- name: LanguagesUsers
- name: Levels
- name: Locations
- name: Mailings
- name: Notes
- name: Notions
- name: ParamsProjectSessionsRules
- name: Patronages
- name: PatronagesReports
- name: Pools
- name: Products
- name: ProjectData
- name: ProjectSessions
- name: ProjectSessionsRules
- name: ProjectSessionsSkills
- name: Projects
- name: Quests
- name: QuestsUsers
- name: Roles
- name: RolesEntities
- name: Rules
- name: ScaleTeams
- name: Scales
- name: Scores
- name: Skills
- name: Slots
- name: Staff
- name: Subnotions
- name: TagsUsers
- name: Teams
- name: TeamsUsers
- name: Titles
- name: TitlesUsers
- name: Transactions
- name: Translations
- name: UserCandidatures
- name: Users
- name: Waitlists
